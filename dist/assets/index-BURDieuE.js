var fw=Object.defineProperty,pw=Object.defineProperties;var mw=Object.getOwnPropertyDescriptors;var Jl=Object.getOwnPropertySymbols;var Eg=Object.prototype.hasOwnProperty,Ag=Object.prototype.propertyIsEnumerable;var Di=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),gw=i=>{throw TypeError(i)},Dg=Math.pow,Ng=(i,e,n)=>e in i?fw(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,K=(i,e)=>{for(var n in e||(e={}))Eg.call(e,n)&&Ng(i,n,e[n]);if(Jl)for(var n of Jl(e))Ag.call(e,n)&&Ng(i,n,e[n]);return i},xe=(i,e)=>pw(i,mw(e));var Oi=(i,e)=>{var n={};for(var r in i)Eg.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&Jl)for(var r of Jl(i))e.indexOf(r)<0&&Ag.call(i,r)&&(n[r]=i[r]);return n};var yw=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var fe=(i,e,n)=>new Promise((r,a)=>{var l=f=>{try{h(n.next(f))}catch(m){a(m)}},u=f=>{try{h(n.throw(f))}catch(m){a(m)}},h=f=>f.done?r(f.value):Promise.resolve(f.value).then(l,u);h((n=n.apply(i,e)).next())}),Pr=function(i,e){this[0]=i,this[1]=e},wd=(i,e,n)=>{var r=(u,h,f,m)=>{try{var g=n[u](h),y=(h=g.value)instanceof Pr,w=g.done;Promise.resolve(y?h[0]:h).then(S=>y?r(u==="return"?u:"next",h[1]?{done:S.done,value:S.value}:S,f,m):f({value:S,done:w})).catch(S=>r("throw",S,f,m))}catch(S){m(S)}},a=u=>l[u]=h=>new Promise((f,m)=>r(u,h,f,m)),l={};return n=n.apply(i,e),l[Di("asyncIterator")]=()=>l,a("next"),a("throw"),a("return"),l},Sn=i=>{var e=i[Di("asyncIterator")],n=!1,r,a={};return e==null?(e=i[Di("iterator")](),r=l=>a[l]=u=>e[l](u)):(e=e.call(i),r=l=>a[l]=u=>{if(n){if(n=!1,l==="throw")throw u;return u}return n=!0,{done:!1,value:new Pr(new Promise(h=>{var f=e[l](u);f instanceof Object||gw("Object expected"),h(f)}),1)}}),a[Di("iterator")]=()=>a,r("next"),"throw"in e?r("throw"):a.throw=l=>{throw l},"return"in e&&r("return"),a},Og=(i,e,n)=>(e=i[Di("asyncIterator")])?e.call(i):(i=i[Di("iterator")](),e={},n=(r,a)=>(a=i[r])&&(e[r]=l=>new Promise((u,h,f)=>(l=a.call(i,l),f=l.done,Promise.resolve(l.value).then(m=>u({value:m,done:f}),h)))),n("next"),n("return"),e);var wN=yw(Ee=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function _w(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xd={exports:{}},ca={},kd={exports:{}},Le={},Rg;function vw(){if(Rg)return Le;Rg=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function k(D,B,Y){this.props=D,this.context=B,this.refs=b,this.updater=Y||S}k.prototype.isReactComponent={},k.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=k.prototype;function j(D,B,Y){this.props=D,this.context=B,this.refs=b,this.updater=Y||S}var L=j.prototype=new C;L.constructor=j,x(L,k.prototype),L.isPureReactComponent=!0;var U=Array.isArray,F=Object.prototype.hasOwnProperty,P={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function E(D,B,Y){var ge,Te={},pe=null,ae=null;if(B!=null)for(ge in B.ref!==void 0&&(ae=B.ref),B.key!==void 0&&(pe=""+B.key),B)F.call(B,ge)&&!O.hasOwnProperty(ge)&&(Te[ge]=B[ge]);var Ce=arguments.length-2;if(Ce===1)Te.children=Y;else if(1<Ce){for(var Re=Array(Ce),N=0;N<Ce;N++)Re[N]=arguments[N+2];Te.children=Re}if(D&&D.defaultProps)for(ge in Ce=D.defaultProps,Ce)Te[ge]===void 0&&(Te[ge]=Ce[ge]);return{$$typeof:i,type:D,key:pe,ref:ae,props:Te,_owner:P.current}}function $(D,B){return{$$typeof:i,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function re(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function Q(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return B[Y]})}var W=/\/+/g;function de(D,B){return typeof D=="object"&&D!==null&&D.key!=null?Q(""+D.key):B.toString(36)}function G(D,B,Y,ge,Te){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var ae=!1;if(D===null)ae=!0;else switch(pe){case"string":case"number":ae=!0;break;case"object":switch(D.$$typeof){case i:case e:ae=!0}}if(ae)return ae=D,Te=Te(ae),D=ge===""?"."+de(ae,0):ge,U(Te)?(Y="",D!=null&&(Y=D.replace(W,"$&/")+"/"),G(Te,B,Y,"",function(N){return N})):Te!=null&&(re(Te)&&(Te=$(Te,Y+(!Te.key||ae&&ae.key===Te.key?"":(""+Te.key).replace(W,"$&/")+"/")+D)),B.push(Te)),1;if(ae=0,ge=ge===""?".":ge+":",U(D))for(var Ce=0;Ce<D.length;Ce++){pe=D[Ce];var Re=ge+de(pe,Ce);ae+=G(pe,B,Y,Re,Te)}else if(Re=w(D),typeof Re=="function")for(D=Re.call(D),Ce=0;!(pe=D.next()).done;)pe=pe.value,Re=ge+de(pe,Ce++),ae+=G(pe,B,Y,Re,Te);else if(pe==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ae}function ue(D,B,Y){if(D==null)return D;var ge=[],Te=0;return G(D,ge,"","",function(pe){return B.call(Y,pe,Te++)}),ge}function oe(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var ce={current:null},H={transition:null},Z={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:H,ReactCurrentOwner:P};function X(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:ue,forEach:function(D,B,Y){ue(D,function(){B.apply(this,arguments)},Y)},count:function(D){var B=0;return ue(D,function(){B++}),B},toArray:function(D){return ue(D,function(B){return B})||[]},only:function(D){if(!re(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Le.Component=k,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=j,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Le.act=X,Le.cloneElement=function(D,B,Y){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ge=x({},D.props),Te=D.key,pe=D.ref,ae=D._owner;if(B!=null){if(B.ref!==void 0&&(pe=B.ref,ae=P.current),B.key!==void 0&&(Te=""+B.key),D.type&&D.type.defaultProps)var Ce=D.type.defaultProps;for(Re in B)F.call(B,Re)&&!O.hasOwnProperty(Re)&&(ge[Re]=B[Re]===void 0&&Ce!==void 0?Ce[Re]:B[Re])}var Re=arguments.length-2;if(Re===1)ge.children=Y;else if(1<Re){Ce=Array(Re);for(var N=0;N<Re;N++)Ce[N]=arguments[N+2];ge.children=Ce}return{$$typeof:i,type:D.type,key:Te,ref:pe,props:ge,_owner:ae}},Le.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},Le.createElement=E,Le.createFactory=function(D){var B=E.bind(null,D);return B.type=D,B},Le.createRef=function(){return{current:null}},Le.forwardRef=function(D){return{$$typeof:h,render:D}},Le.isValidElement=re,Le.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:oe}},Le.memo=function(D,B){return{$$typeof:m,type:D,compare:B===void 0?null:B}},Le.startTransition=function(D){var B=H.transition;H.transition={};try{D()}finally{H.transition=B}},Le.unstable_act=X,Le.useCallback=function(D,B){return ce.current.useCallback(D,B)},Le.useContext=function(D){return ce.current.useContext(D)},Le.useDebugValue=function(){},Le.useDeferredValue=function(D){return ce.current.useDeferredValue(D)},Le.useEffect=function(D,B){return ce.current.useEffect(D,B)},Le.useId=function(){return ce.current.useId()},Le.useImperativeHandle=function(D,B,Y){return ce.current.useImperativeHandle(D,B,Y)},Le.useInsertionEffect=function(D,B){return ce.current.useInsertionEffect(D,B)},Le.useLayoutEffect=function(D,B){return ce.current.useLayoutEffect(D,B)},Le.useMemo=function(D,B){return ce.current.useMemo(D,B)},Le.useReducer=function(D,B,Y){return ce.current.useReducer(D,B,Y)},Le.useRef=function(D){return ce.current.useRef(D)},Le.useState=function(D){return ce.current.useState(D)},Le.useSyncExternalStore=function(D,B,Y){return ce.current.useSyncExternalStore(D,B,Y)},Le.useTransition=function(){return ce.current.useTransition()},Le.version="18.3.1",Le}var Mg;function ef(){return Mg||(Mg=1,kd.exports=vw()),kd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function ww(){if(Pg)return ca;Pg=1;var i=ef(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var g,y={},w=null,S=null;m!==void 0&&(w=""+m),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:h,key:w,ref:S,props:y,_owner:a.current}}return ca.Fragment=n,ca.jsx=u,ca.jsxs=u,ca}var jg;function xw(){return jg||(jg=1,xd.exports=ww()),xd.exports}var _=xw(),je=ef(),ec={},Sd={exports:{}},cn={},bd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function kw(){return Ig||(Ig=1,function(i){function e(H,Z){var X=H.length;H.push(Z);e:for(;0<X;){var D=X-1>>>1,B=H[D];if(0<a(B,Z))H[D]=Z,H[X]=B,X=D;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],X=H.pop();if(X!==Z){H[0]=X;e:for(var D=0,B=H.length,Y=B>>>1;D<Y;){var ge=2*(D+1)-1,Te=H[ge],pe=ge+1,ae=H[pe];if(0>a(Te,X))pe<B&&0>a(ae,Te)?(H[D]=ae,H[pe]=X,D=pe):(H[D]=Te,H[ge]=X,D=ge);else if(pe<B&&0>a(ae,X))H[D]=ae,H[pe]=X,D=pe;else break e}}return Z}function a(H,Z){var X=H.sortIndex-Z.sortIndex;return X!==0?X:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();i.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,y=null,w=3,S=!1,x=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(H){for(var Z=n(m);Z!==null;){if(Z.callback===null)r(m);else if(Z.startTime<=H)r(m),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(m)}}function U(H){if(b=!1,L(H),!x)if(n(f)!==null)x=!0,oe(F);else{var Z=n(m);Z!==null&&ce(U,Z.startTime-H)}}function F(H,Z){x=!1,b&&(b=!1,C(E),E=-1),S=!0;var X=w;try{for(L(Z),y=n(f);y!==null&&(!(y.expirationTime>Z)||H&&!Q());){var D=y.callback;if(typeof D=="function"){y.callback=null,w=y.priorityLevel;var B=D(y.expirationTime<=Z);Z=i.unstable_now(),typeof B=="function"?y.callback=B:y===n(f)&&r(f),L(Z)}else r(f);y=n(f)}if(y!==null)var Y=!0;else{var ge=n(m);ge!==null&&ce(U,ge.startTime-Z),Y=!1}return Y}finally{y=null,w=X,S=!1}}var P=!1,O=null,E=-1,$=5,re=-1;function Q(){return!(i.unstable_now()-re<$)}function W(){if(O!==null){var H=i.unstable_now();re=H;var Z=!0;try{Z=O(!0,H)}finally{Z?de():(P=!1,O=null)}}else P=!1}var de;if(typeof j=="function")de=function(){j(W)};else if(typeof MessageChannel!="undefined"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=W,de=function(){ue.postMessage(null)}}else de=function(){k(W,0)};function oe(H){O=H,P||(P=!0,de())}function ce(H,Z){E=k(function(){H(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_continueExecution=function(){x||S||(x=!0,oe(F))},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return n(f)},i.unstable_next=function(H){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var X=w;w=Z;try{return H()}finally{w=X}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=w;w=H;try{return Z()}finally{w=X}},i.unstable_scheduleCallback=function(H,Z,X){var D=i.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?D+X:D):X=D,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=X+B,H={id:g++,callback:Z,priorityLevel:H,startTime:X,expirationTime:B,sortIndex:-1},X>D?(H.sortIndex=X,e(m,H),n(f)===null&&H===n(m)&&(b?(C(E),E=-1):b=!0,ce(U,X-D))):(H.sortIndex=B,e(f,H),x||S||(x=!0,oe(F))),H},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(H){var Z=w;return function(){var X=w;w=Z;try{return H.apply(this,arguments)}finally{w=X}}}}(Td)),Td}var Fg;function Sw(){return Fg||(Fg=1,bd.exports=kw()),bd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function bw(){if(qg)return cn;qg=1;var i=ef(),e=Sw();function n(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function l(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(a[t]=s,t=0;t<s.length;t++)r.add(s[t])}var h=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(t){return f.call(y,t)?!0:f.call(g,t)?!1:m.test(t)?y[t]=!0:(g[t]=!0,!1)}function S(t,s,o,c){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x(t,s,o,c){if(s===null||typeof s=="undefined"||S(t,s,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(t,s,o,c,d,p,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=s,this.sanitizeURL=p,this.removeEmptyString=v}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];k[s]=new b(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(C,j);k[s]=new b(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(C,j);k[s]=new b(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(C,j);k[s]=new b(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function L(t,s,o,c){var d=k.hasOwnProperty(s)?k[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,o,d,c)&&(o=null),c||d===null?w(s)&&(o===null?t.removeAttribute(s):t.setAttribute(s,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(s=d.attributeName,c=d.attributeNamespace,o===null?t.removeAttribute(s):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?t.setAttributeNS(c,s,o):t.setAttribute(s,o))))}var U=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),Q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),H=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=H&&t[H]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,D;function B(t){if(D===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+t}var Y=!1;function ge(t,s){if(!t||Y)return"";Y=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(V){var c=V}Reflect.construct(t,[],s)}else{try{s.call()}catch(V){c=V}t.call(s.prototype)}else{try{throw Error()}catch(V){c=V}t()}}catch(V){if(V&&c&&typeof V.stack=="string"){for(var d=V.stack.split(`
`),p=c.stack.split(`
`),v=d.length-1,T=p.length-1;1<=v&&0<=T&&d[v]!==p[T];)T--;for(;1<=v&&0<=T;v--,T--)if(d[v]!==p[T]){if(v!==1||T!==1)do if(v--,T--,0>T||d[v]!==p[T]){var R=`
`+d[v].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=v&&0<=T);break}}}finally{Y=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?B(t):""}function Te(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=ge(t.type,!1),t;case 11:return t=ge(t.type.render,!1),t;case 1:return t=ge(t.type,!0),t;default:return""}}function pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case P:return"Portal";case $:return"Profiler";case E:return"StrictMode";case de:return"Suspense";case G:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q:return(t.displayName||"Context")+".Consumer";case re:return(t._context.displayName||"Context")+".Provider";case W:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ue:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case oe:s=t._payload,t=t._init;try{return pe(t(s))}catch(o){}}return null}function ae(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(s);case 8:return s===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Re(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function N(t){var s=Re(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function me(t){t._valueTracker||(t._valueTracker=N(t))}function he(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return t&&(c=Re(t)?t.checked?"true":"false":t.value),t=c,t!==o?(s.setValue(t),!0):!1}function ct(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(s){return t.body}}function ft(t,s){var o=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:t._wrapperState.initialChecked})}function le(t,s){var o=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;o=Ce(s.value!=null?s.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function J(t,s){s=s.checked,s!=null&&L(t,"checked",s,!1)}function Ye(t,s){J(t,s);var o=Ce(s.value),c=s.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Ve(t,s.type,o):s.hasOwnProperty("defaultValue")&&Ve(t,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Ge(t,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,o||s===t.value||(t.value=s),t.defaultValue=s}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ve(t,s,o){(s!=="number"||ct(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var He=Array.isArray;function St(t,s,o,c){if(t=t.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=s.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Ce(o),s=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Dn(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Us(t,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(n(92));if(He(o)){if(1<o.length)throw Error(n(93));o=o[0]}s=o}s==null&&(s=""),o=s}t._wrapperState={initialValue:Ce(o)}}function ii(t,s){var o=Ce(s.value),c=Ce(s.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),s.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function Ua(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Wa(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Wa(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $a,zf=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(s,o,c,d){MSApp.execUnsafeLocalFunction(function(){return t(s,o,c,d)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for($a=$a||document.createElement("div"),$a.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=$a.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function To(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y0=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(t){y0.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Co[s]=Co[t]})});function Bf(t,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||Co.hasOwnProperty(t)&&Co[t]?(""+s).trim():s+"px"}function Uf(t,s){t=t.style;for(var o in s)if(s.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=Bf(o,s[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,d):t[o]=d}}var _0=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ru(t,s){if(s){if(_0[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Mu(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=null;function ju(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Iu=null,oi=null,ai=null;function Wf(t){if(t=Qo(t)){if(typeof Iu!="function")throw Error(n(280));var s=t.stateNode;s&&(s=pl(s),Iu(t.stateNode,t.type,s))}}function $f(t){oi?ai?ai.push(t):ai=[t]:oi=t}function Gf(){if(oi){var t=oi,s=ai;if(ai=oi=null,Wf(t),s)for(t=0;t<s.length;t++)Wf(s[t])}}function Hf(t,s){return t(s)}function Qf(){}var Fu=!1;function Xf(t,s,o){if(Fu)return t(s,o);Fu=!0;try{return Hf(t,s,o)}finally{Fu=!1,(oi!==null||ai!==null)&&(Qf(),Gf())}}function No(t,s){var o=t.stateNode;if(o===null)return null;var c=pl(o);if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var qu=!1;if(h)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch(t){qu=!1}function v0(t,s,o,c,d,p,v,T,R){var V=Array.prototype.slice.call(arguments,3);try{s.apply(o,V)}catch(te){this.onError(te)}}var Ao=!1,Ga=null,Ha=!1,Lu=null,w0={onError:function(t){Ao=!0,Ga=t}};function x0(t,s,o,c,d,p,v,T,R){Ao=!1,Ga=null,v0.apply(w0,arguments)}function k0(t,s,o,c,d,p,v,T,R){if(x0.apply(this,arguments),Ao){if(Ao){var V=Ga;Ao=!1,Ga=null}else throw Error(n(198));Ha||(Ha=!0,Lu=V)}}function xr(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function Yf(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Zf(t){if(xr(t)!==t)throw Error(n(188))}function S0(t){var s=t.alternate;if(!s){if(s=xr(t),s===null)throw Error(n(188));return s!==t?null:t}for(var o=t,c=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return Zf(d),t;if(p===c)return Zf(d),s;p=p.sibling}throw Error(n(188))}if(o.return!==c.return)o=d,c=p;else{for(var v=!1,T=d.child;T;){if(T===o){v=!0,o=d,c=p;break}if(T===c){v=!0,c=d,o=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===o){v=!0,o=p,c=d;break}if(T===c){v=!0,c=p,o=d;break}T=T.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:s}function Kf(t){return t=S0(t),t!==null?Jf(t):null}function Jf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Jf(t);if(s!==null)return s;t=t.sibling}return null}var ep=e.unstable_scheduleCallback,tp=e.unstable_cancelCallback,b0=e.unstable_shouldYield,T0=e.unstable_requestPaint,_t=e.unstable_now,C0=e.unstable_getCurrentPriorityLevel,Vu=e.unstable_ImmediatePriority,np=e.unstable_UserBlockingPriority,Qa=e.unstable_NormalPriority,N0=e.unstable_LowPriority,sp=e.unstable_IdlePriority,Xa=null,os=null;function E0(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Xa,t,void 0,(t.current.flags&128)===128)}catch(s){}}var Bn=Math.clz32?Math.clz32:O0,A0=Math.log,D0=Math.LN2;function O0(t){return t>>>=0,t===0?32:31-(A0(t)/D0|0)|0}var Ya=64,Za=4194304;function Do(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ka(t,s){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var T=v&~d;T!==0?c=Do(T):(p&=v,p!==0&&(c=Do(p)))}else v=o&~d,v!==0?c=Do(v):p!==0&&(c=Do(p));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((c&4)!==0&&(c|=o&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)o=31-Bn(s),d=1<<o,c|=t[o],s&=~d;return c}function R0(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M0(t,s){for(var o=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Bn(p),T=1<<v,R=d[v];R===-1?((T&o)===0||(T&c)!==0)&&(d[v]=R0(T,s)):R<=s&&(t.expiredLanes|=T),p&=~T}}function zu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rp(){var t=Ya;return Ya<<=1,(Ya&4194240)===0&&(Ya=64),t}function Bu(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function Oo(t,s,o){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Bn(s),t[s]=o}function P0(t,s){var o=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Bn(o),p=1<<d;s[d]=0,c[d]=-1,t[d]=-1,o&=~p}}function Uu(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var c=31-Bn(o),d=1<<c;d&s|t[c]&s&&(t[c]|=s),o&=~d}}var $e=0;function ip(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var op,Wu,ap,lp,cp,$u=!1,Ja=[],Ws=null,$s=null,Gs=null,Ro=new Map,Mo=new Map,Hs=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function up(t,s){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Ro.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(s.pointerId)}}function Po(t,s,o,c,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Qo(s),s!==null&&Wu(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function I0(t,s,o,c,d){switch(s){case"focusin":return Ws=Po(Ws,t,s,o,c,d),!0;case"dragenter":return $s=Po($s,t,s,o,c,d),!0;case"mouseover":return Gs=Po(Gs,t,s,o,c,d),!0;case"pointerover":var p=d.pointerId;return Ro.set(p,Po(Ro.get(p)||null,t,s,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Mo.set(p,Po(Mo.get(p)||null,t,s,o,c,d)),!0}return!1}function hp(t){var s=kr(t.target);if(s!==null){var o=xr(s);if(o!==null){if(s=o.tag,s===13){if(s=Yf(o),s!==null){t.blockedOn=s,cp(t.priority,function(){ap(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function el(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=Hu(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Pu=c,o.target.dispatchEvent(c),Pu=null}else return s=Qo(o),s!==null&&Wu(s),t.blockedOn=o,!1;s.shift()}return!0}function dp(t,s,o){el(t)&&o.delete(s)}function F0(){$u=!1,Ws!==null&&el(Ws)&&(Ws=null),$s!==null&&el($s)&&($s=null),Gs!==null&&el(Gs)&&(Gs=null),Ro.forEach(dp),Mo.forEach(dp)}function jo(t,s){t.blockedOn===s&&(t.blockedOn=null,$u||($u=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F0)))}function Io(t){function s(d){return jo(d,t)}if(0<Ja.length){jo(Ja[0],t);for(var o=1;o<Ja.length;o++){var c=Ja[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Ws!==null&&jo(Ws,t),$s!==null&&jo($s,t),Gs!==null&&jo(Gs,t),Ro.forEach(s),Mo.forEach(s),o=0;o<Hs.length;o++)c=Hs[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Hs.length&&(o=Hs[0],o.blockedOn===null);)hp(o),o.blockedOn===null&&Hs.shift()}var li=U.ReactCurrentBatchConfig,tl=!0;function q0(t,s,o,c){var d=$e,p=li.transition;li.transition=null;try{$e=1,Gu(t,s,o,c)}finally{$e=d,li.transition=p}}function L0(t,s,o,c){var d=$e,p=li.transition;li.transition=null;try{$e=4,Gu(t,s,o,c)}finally{$e=d,li.transition=p}}function Gu(t,s,o,c){if(tl){var d=Hu(t,s,o,c);if(d===null)uh(t,s,c,nl,o),up(t,c);else if(I0(d,t,s,o,c))c.stopPropagation();else if(up(t,c),s&4&&-1<j0.indexOf(t)){for(;d!==null;){var p=Qo(d);if(p!==null&&op(p),p=Hu(t,s,o,c),p===null&&uh(t,s,c,nl,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else uh(t,s,c,null,o)}}var nl=null;function Hu(t,s,o,c){if(nl=null,t=ju(c),t=kr(t),t!==null)if(s=xr(t),s===null)t=null;else if(o=s.tag,o===13){if(t=Yf(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return nl=t,null}function fp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C0()){case Vu:return 1;case np:return 4;case Qa:case N0:return 16;case sp:return 536870912;default:return 16}default:return 16}}var Qs=null,Qu=null,sl=null;function pp(){if(sl)return sl;var t,s=Qu,o=s.length,c,d="value"in Qs?Qs.value:Qs.textContent,p=d.length;for(t=0;t<o&&s[t]===d[t];t++);var v=o-t;for(c=1;c<=v&&s[o-c]===d[p-c];c++);return sl=d.slice(t,1<c?1-c:void 0)}function rl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function il(){return!0}function mp(){return!1}function vn(t){function s(o,c,d,p,v){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?il:mp,this.isPropagationStopped=mp,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),s}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=vn(ci),Fo=X({},ci,{view:0,detail:0}),V0=vn(Fo),Yu,Zu,qo,ol=X({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qo&&(qo&&t.type==="mousemove"?(Yu=t.screenX-qo.screenX,Zu=t.screenY-qo.screenY):Zu=Yu=0,qo=t),Yu)},movementY:function(t){return"movementY"in t?t.movementY:Zu}}),gp=vn(ol),z0=X({},ol,{dataTransfer:0}),B0=vn(z0),U0=X({},Fo,{relatedTarget:0}),Ku=vn(U0),W0=X({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=vn(W0),G0=X({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H0=vn(G0),Q0=X({},ci,{data:0}),yp=vn(Q0),X0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Z0[t])?!!s[t]:!1}function Ju(){return K0}var J0=X({},Fo,{key:function(t){if(t.key){var s=X0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(t){return t.type==="keypress"?rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ev=vn(J0),tv=X({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_p=vn(tv),nv=X({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),sv=vn(nv),rv=X({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),iv=vn(rv),ov=X({},ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),av=vn(ov),lv=[9,13,27,32],eh=h&&"CompositionEvent"in window,Lo=null;h&&"documentMode"in document&&(Lo=document.documentMode);var cv=h&&"TextEvent"in window&&!Lo,vp=h&&(!eh||Lo&&8<Lo&&11>=Lo),wp=" ",xp=!1;function kp(t,s){switch(t){case"keyup":return lv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function uv(t,s){switch(t){case"compositionend":return Sp(s);case"keypress":return s.which!==32?null:(xp=!0,wp);case"textInput":return t=s.data,t===wp&&xp?null:t;default:return null}}function hv(t,s){if(ui)return t==="compositionend"||!eh&&kp(t,s)?(t=pp(),sl=Qu=Qs=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vp&&s.locale!=="ko"?null:s.data;default:return null}}var dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!dv[t.type]:s==="textarea"}function Tp(t,s,o,c){$f(c),s=hl(s,"onChange"),0<s.length&&(o=new Xu("onChange","change",null,o,c),t.push({event:o,listeners:s}))}var Vo=null,zo=null;function fv(t){Up(t,0)}function al(t){var s=mi(t);if(he(s))return t}function pv(t,s){if(t==="change")return s}var Cp=!1;if(h){var th;if(h){var nh="oninput"in document;if(!nh){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),nh=typeof Np.oninput=="function"}th=nh}else th=!1;Cp=th&&(!document.documentMode||9<document.documentMode)}function Ep(){Vo&&(Vo.detachEvent("onpropertychange",Ap),zo=Vo=null)}function Ap(t){if(t.propertyName==="value"&&al(zo)){var s=[];Tp(s,zo,t,ju(t)),Xf(fv,s)}}function mv(t,s,o){t==="focusin"?(Ep(),Vo=s,zo=o,Vo.attachEvent("onpropertychange",Ap)):t==="focusout"&&Ep()}function gv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return al(zo)}function yv(t,s){if(t==="click")return al(s)}function _v(t,s){if(t==="input"||t==="change")return al(s)}function vv(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Un=typeof Object.is=="function"?Object.is:vv;function Bo(t,s){if(Un(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!f.call(s,d)||!Un(t[d],s[d]))return!1}return!0}function Dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Op(t,s){var o=Dp(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=s&&c>=s)return{node:o,offset:s-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Dp(o)}}function Rp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Rp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Mp(){for(var t=window,s=ct();s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch(c){o=!1}if(o)t=s.contentWindow;else break;s=ct(t.document)}return s}function sh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function wv(t){var s=Mp(),o=t.focusedElem,c=t.selectionRange;if(s!==o&&o&&o.ownerDocument&&Rp(o.ownerDocument.documentElement,o)){if(c!==null&&sh(o)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(t,o.value.length);else if(t=(s=o.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!t.extend&&p>c&&(d=c,c=p,p=d),d=Op(o,p);var v=Op(o,c);d&&v&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),t.removeAllRanges(),p>c?(t.addRange(s),t.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),t.addRange(s)))}}for(s=[],t=o;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)t=s[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xv=h&&"documentMode"in document&&11>=document.documentMode,hi=null,rh=null,Uo=null,ih=!1;function Pp(t,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ih||hi==null||hi!==ct(c)||(c=hi,"selectionStart"in c&&sh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uo&&Bo(Uo,c)||(Uo=c,c=hl(rh,"onSelect"),0<c.length&&(s=new Xu("onSelect","select",null,s,o),t.push({event:s,listeners:c}),s.target=hi)))}function ll(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var di={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},oh={},jp={};h&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function cl(t){if(oh[t])return oh[t];if(!di[t])return t;var s=di[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in jp)return oh[t]=s[o];return t}var Ip=cl("animationend"),Fp=cl("animationiteration"),qp=cl("animationstart"),Lp=cl("transitionend"),Vp=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,s){Vp.set(t,s),l(s,[t])}for(var ah=0;ah<zp.length;ah++){var lh=zp[ah],kv=lh.toLowerCase(),Sv=lh[0].toUpperCase()+lh.slice(1);Xs(kv,"on"+Sv)}Xs(Ip,"onAnimationEnd"),Xs(Fp,"onAnimationIteration"),Xs(qp,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(Lp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function Bp(t,s,o){var c=t.type||"unknown-event";t.currentTarget=o,k0(c,s,void 0,t),t.currentTarget=null}function Up(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var v=c.length-1;0<=v;v--){var T=c[v],R=T.instance,V=T.currentTarget;if(T=T.listener,R!==p&&d.isPropagationStopped())break e;Bp(d,T,V),p=R}else for(v=0;v<c.length;v++){if(T=c[v],R=T.instance,V=T.currentTarget,T=T.listener,R!==p&&d.isPropagationStopped())break e;Bp(d,T,V),p=R}}}if(Ha)throw t=Lu,Ha=!1,Lu=null,t}function et(t,s){var o=s[gh];o===void 0&&(o=s[gh]=new Set);var c=t+"__bubble";o.has(c)||(Wp(s,t,2,!1),o.add(c))}function ch(t,s,o){var c=0;s&&(c|=4),Wp(o,t,c,s)}var ul="_reactListening"+Math.random().toString(36).slice(2);function $o(t){if(!t[ul]){t[ul]=!0,r.forEach(function(o){o!=="selectionchange"&&(bv.has(o)||ch(o,!1,t),ch(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ul]||(s[ul]=!0,ch("selectionchange",!1,s))}}function Wp(t,s,o,c){switch(fp(s)){case 1:var d=q0;break;case 4:d=L0;break;default:d=Gu}o=d.bind(null,s,o,t),d=void 0,!qu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(s,o,{capture:!0,passive:d}):t.addEventListener(s,o,!0):d!==void 0?t.addEventListener(s,o,{passive:d}):t.addEventListener(s,o,!1)}function uh(t,s,o,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var T=c.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;v=v.return}for(;T!==null;){if(v=kr(T),v===null)return;if(R=v.tag,R===5||R===6){c=p=v;continue e}T=T.parentNode}}c=c.return}Xf(function(){var V=p,te=ju(o),se=[];e:{var ee=Vp.get(t);if(ee!==void 0){var ye=Xu,we=t;switch(t){case"keypress":if(rl(o)===0)break e;case"keydown":case"keyup":ye=ev;break;case"focusin":we="focus",ye=Ku;break;case"focusout":we="blur",ye=Ku;break;case"beforeblur":case"afterblur":ye=Ku;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=sv;break;case Ip:case Fp:case qp:ye=$0;break;case Lp:ye=iv;break;case"scroll":ye=V0;break;case"wheel":ye=av;break;case"copy":case"cut":case"paste":ye=H0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=_p}var Se=(s&4)!==0,vt=!Se&&t==="scroll",I=Se?ee!==null?ee+"Capture":null:ee;Se=[];for(var M=V,q;M!==null;){q=M;var ie=q.stateNode;if(q.tag===5&&ie!==null&&(q=ie,I!==null&&(ie=No(M,I),ie!=null&&Se.push(Go(M,ie,q)))),vt)break;M=M.return}0<Se.length&&(ee=new ye(ee,we,null,o,te),se.push({event:ee,listeners:Se}))}}if((s&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",ye=t==="mouseout"||t==="pointerout",ee&&o!==Pu&&(we=o.relatedTarget||o.fromElement)&&(kr(we)||we[ks]))break e;if((ye||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ye?(we=o.relatedTarget||o.toElement,ye=V,we=we?kr(we):null,we!==null&&(vt=xr(we),we!==vt||we.tag!==5&&we.tag!==6)&&(we=null)):(ye=null,we=V),ye!==we)){if(Se=gp,ie="onMouseLeave",I="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Se=_p,ie="onPointerLeave",I="onPointerEnter",M="pointer"),vt=ye==null?ee:mi(ye),q=we==null?ee:mi(we),ee=new Se(ie,M+"leave",ye,o,te),ee.target=vt,ee.relatedTarget=q,ie=null,kr(te)===V&&(Se=new Se(I,M+"enter",we,o,te),Se.target=q,Se.relatedTarget=vt,ie=Se),vt=ie,ye&&we)t:{for(Se=ye,I=we,M=0,q=Se;q;q=fi(q))M++;for(q=0,ie=I;ie;ie=fi(ie))q++;for(;0<M-q;)Se=fi(Se),M--;for(;0<q-M;)I=fi(I),q--;for(;M--;){if(Se===I||I!==null&&Se===I.alternate)break t;Se=fi(Se),I=fi(I)}Se=null}else Se=null;ye!==null&&$p(se,ee,ye,Se,!1),we!==null&&vt!==null&&$p(se,vt,we,Se,!0)}}e:{if(ee=V?mi(V):window,ye=ee.nodeName&&ee.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ee.type==="file")var be=pv;else if(bp(ee))if(Cp)be=_v;else{be=gv;var De=mv}else(ye=ee.nodeName)&&ye.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(be=yv);if(be&&(be=be(t,V))){Tp(se,be,o,te);break e}De&&De(t,ee,V),t==="focusout"&&(De=ee._wrapperState)&&De.controlled&&ee.type==="number"&&Ve(ee,"number",ee.value)}switch(De=V?mi(V):window,t){case"focusin":(bp(De)||De.contentEditable==="true")&&(hi=De,rh=V,Uo=null);break;case"focusout":Uo=rh=hi=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Pp(se,o,te);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":Pp(se,o,te)}var Oe;if(eh)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ui?kp(t,o)&&(Pe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(vp&&o.locale!=="ko"&&(ui||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ui&&(Oe=pp()):(Qs=te,Qu="value"in Qs?Qs.value:Qs.textContent,ui=!0)),De=hl(V,Pe),0<De.length&&(Pe=new yp(Pe,t,null,o,te),se.push({event:Pe,listeners:De}),Oe?Pe.data=Oe:(Oe=Sp(o),Oe!==null&&(Pe.data=Oe)))),(Oe=cv?uv(t,o):hv(t,o))&&(V=hl(V,"onBeforeInput"),0<V.length&&(te=new yp("onBeforeInput","beforeinput",null,o,te),se.push({event:te,listeners:V}),te.data=Oe))}Up(se,s)})}function Go(t,s,o){return{instance:t,listener:s,currentTarget:o}}function hl(t,s){for(var o=s+"Capture",c=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=No(t,o),p!=null&&c.unshift(Go(t,p,d)),p=No(t,s),p!=null&&c.push(Go(t,p,d))),t=t.return}return c}function fi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $p(t,s,o,c,d){for(var p=s._reactName,v=[];o!==null&&o!==c;){var T=o,R=T.alternate,V=T.stateNode;if(R!==null&&R===c)break;T.tag===5&&V!==null&&(T=V,d?(R=No(o,p),R!=null&&v.unshift(Go(o,R,T))):d||(R=No(o,p),R!=null&&v.push(Go(o,R,T)))),o=o.return}v.length!==0&&t.push({event:s,listeners:v})}var Tv=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(Tv,`
`).replace(Cv,"")}function dl(t,s,o){if(s=Gp(s),Gp(t)!==s&&o)throw Error(n(425))}function fl(){}var hh=null,dh=null;function fh(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,Nv=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,Ev=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp!="undefined"?function(t){return Hp.resolve(null).then(t).catch(Av)}:ph;function Av(t){setTimeout(function(){throw t})}function mh(t,s){var o=s,c=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){t.removeChild(d),Io(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);Io(s)}function Ys(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Qp(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return t;s--}else o==="/$"&&s++}t=t.previousSibling}return null}var pi=Math.random().toString(36).slice(2),as="__reactFiber$"+pi,Ho="__reactProps$"+pi,ks="__reactContainer$"+pi,gh="__reactEvents$"+pi,Dv="__reactListeners$"+pi,Ov="__reactHandles$"+pi;function kr(t){var s=t[as];if(s)return s;for(var o=t.parentNode;o;){if(s=o[ks]||o[as]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=Qp(t);t!==null;){if(o=t[as])return o;t=Qp(t)}return s}t=o,o=t.parentNode}return null}function Qo(t){return t=t[as]||t[ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function pl(t){return t[Ho]||null}var yh=[],gi=-1;function Zs(t){return{current:t}}function tt(t){0>gi||(t.current=yh[gi],yh[gi]=null,gi--)}function Ze(t,s){gi++,yh[gi]=t.current,t.current=s}var Ks={},Ut=Zs(Ks),sn=Zs(!1),Sr=Ks;function yi(t,s){var o=t.type.contextTypes;if(!o)return Ks;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=s[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=d),d}function rn(t){return t=t.childContextTypes,t!=null}function ml(){tt(sn),tt(Ut)}function Xp(t,s,o){if(Ut.current!==Ks)throw Error(n(168));Ze(Ut,s),Ze(sn,o)}function Yp(t,s,o){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(n(108,ae(t)||"Unknown",d));return X({},o,c)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,Sr=Ut.current,Ze(Ut,t),Ze(sn,sn.current),!0}function Zp(t,s,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=Yp(t,s,Sr),c.__reactInternalMemoizedMergedChildContext=t,tt(sn),tt(Ut),Ze(Ut,t)):tt(sn),Ze(sn,o)}var Ss=null,yl=!1,_h=!1;function Kp(t){Ss===null?Ss=[t]:Ss.push(t)}function Rv(t){yl=!0,Kp(t)}function Js(){if(!_h&&Ss!==null){_h=!0;var t=0,s=$e;try{var o=Ss;for($e=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}Ss=null,yl=!1}catch(d){throw Ss!==null&&(Ss=Ss.slice(t+1)),ep(Vu,Js),d}finally{$e=s,_h=!1}}return null}var _i=[],vi=0,_l=null,vl=0,On=[],Rn=0,br=null,bs=1,Ts="";function Tr(t,s){_i[vi++]=vl,_i[vi++]=_l,_l=t,vl=s}function Jp(t,s,o){On[Rn++]=bs,On[Rn++]=Ts,On[Rn++]=br,br=t;var c=bs;t=Ts;var d=32-Bn(c)-1;c&=~(1<<d),o+=1;var p=32-Bn(s)+d;if(30<p){var v=d-d%5;p=(c&(1<<v)-1).toString(32),c>>=v,d-=v,bs=1<<32-Bn(s)+d|o<<d|c,Ts=p+t}else bs=1<<p|o<<d|c,Ts=t}function vh(t){t.return!==null&&(Tr(t,1),Jp(t,1,0))}function wh(t){for(;t===_l;)_l=_i[--vi],_i[vi]=null,vl=_i[--vi],_i[vi]=null;for(;t===br;)br=On[--Rn],On[Rn]=null,Ts=On[--Rn],On[Rn]=null,bs=On[--Rn],On[Rn]=null}var wn=null,xn=null,ot=!1,Wn=null;function em(t,s){var o=In(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=t,s=t.deletions,s===null?(t.deletions=[o],t.flags|=16):s.push(o)}function tm(t,s){switch(t.tag){case 5:var o=t.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,wn=t,xn=Ys(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,wn=t,xn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=br!==null?{id:bs,overflow:Ts}:null,t.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=In(18,null,null,0),o.stateNode=s,o.return=t,t.child=o,wn=t,xn=null,!0):!1;default:return!1}}function xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kh(t){if(ot){var s=xn;if(s){var o=s;if(!tm(t,s)){if(xh(t))throw Error(n(418));s=Ys(o.nextSibling);var c=wn;s&&tm(t,s)?em(c,o):(t.flags=t.flags&-4097|2,ot=!1,wn=t)}}else{if(xh(t))throw Error(n(418));t.flags=t.flags&-4097|2,ot=!1,wn=t}}}function nm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function wl(t){if(t!==wn)return!1;if(!ot)return nm(t),ot=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!fh(t.type,t.memoizedProps)),s&&(s=xn)){if(xh(t))throw sm(),Error(n(418));for(;s;)em(t,s),s=Ys(s.nextSibling)}if(nm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(s===0){xn=Ys(t.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}t=t.nextSibling}xn=null}}else xn=wn?Ys(t.stateNode.nextSibling):null;return!0}function sm(){for(var t=xn;t;)t=Ys(t.nextSibling)}function wi(){xn=wn=null,ot=!1}function Sh(t){Wn===null?Wn=[t]:Wn.push(t)}var Mv=U.ReactCurrentBatchConfig;function Xo(t,s,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var d=c,p=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(v){var T=d.refs;v===null?delete T[p]:T[p]=v},s._stringRef=p,s)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function xl(t,s){throw t=Object.prototype.toString.call(s),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function rm(t){var s=t._init;return s(t._payload)}function im(t){function s(I,M){if(t){var q=I.deletions;q===null?(I.deletions=[M],I.flags|=16):q.push(M)}}function o(I,M){if(!t)return null;for(;M!==null;)s(I,M),M=M.sibling;return null}function c(I,M){for(I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function d(I,M){return I=ar(I,M),I.index=0,I.sibling=null,I}function p(I,M,q){return I.index=q,t?(q=I.alternate,q!==null?(q=q.index,q<M?(I.flags|=2,M):q):(I.flags|=2,M)):(I.flags|=1048576,M)}function v(I){return t&&I.alternate===null&&(I.flags|=2),I}function T(I,M,q,ie){return M===null||M.tag!==6?(M=pd(q,I.mode,ie),M.return=I,M):(M=d(M,q),M.return=I,M)}function R(I,M,q,ie){var be=q.type;return be===O?te(I,M,q.props.children,ie,q.key):M!==null&&(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===oe&&rm(be)===M.type)?(ie=d(M,q.props),ie.ref=Xo(I,M,q),ie.return=I,ie):(ie=$l(q.type,q.key,q.props,null,I.mode,ie),ie.ref=Xo(I,M,q),ie.return=I,ie)}function V(I,M,q,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=md(q,I.mode,ie),M.return=I,M):(M=d(M,q.children||[]),M.return=I,M)}function te(I,M,q,ie,be){return M===null||M.tag!==7?(M=Mr(q,I.mode,ie,be),M.return=I,M):(M=d(M,q),M.return=I,M)}function se(I,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=pd(""+M,I.mode,q),M.return=I,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F:return q=$l(M.type,M.key,M.props,null,I.mode,q),q.ref=Xo(I,null,M),q.return=I,q;case P:return M=md(M,I.mode,q),M.return=I,M;case oe:var ie=M._init;return se(I,ie(M._payload),q)}if(He(M)||Z(M))return M=Mr(M,I.mode,q,null),M.return=I,M;xl(I,M)}return null}function ee(I,M,q,ie){var be=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return be!==null?null:T(I,M,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return q.key===be?R(I,M,q,ie):null;case P:return q.key===be?V(I,M,q,ie):null;case oe:return be=q._init,ee(I,M,be(q._payload),ie)}if(He(q)||Z(q))return be!==null?null:te(I,M,q,ie,null);xl(I,q)}return null}function ye(I,M,q,ie,be){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return I=I.get(q)||null,T(M,I,""+ie,be);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case F:return I=I.get(ie.key===null?q:ie.key)||null,R(M,I,ie,be);case P:return I=I.get(ie.key===null?q:ie.key)||null,V(M,I,ie,be);case oe:var De=ie._init;return ye(I,M,q,De(ie._payload),be)}if(He(ie)||Z(ie))return I=I.get(q)||null,te(M,I,ie,be,null);xl(M,ie)}return null}function we(I,M,q,ie){for(var be=null,De=null,Oe=M,Pe=M=0,Ot=null;Oe!==null&&Pe<q.length;Pe++){Oe.index>Pe?(Ot=Oe,Oe=null):Ot=Oe.sibling;var Ue=ee(I,Oe,q[Pe],ie);if(Ue===null){Oe===null&&(Oe=Ot);break}t&&Oe&&Ue.alternate===null&&s(I,Oe),M=p(Ue,M,Pe),De===null?be=Ue:De.sibling=Ue,De=Ue,Oe=Ot}if(Pe===q.length)return o(I,Oe),ot&&Tr(I,Pe),be;if(Oe===null){for(;Pe<q.length;Pe++)Oe=se(I,q[Pe],ie),Oe!==null&&(M=p(Oe,M,Pe),De===null?be=Oe:De.sibling=Oe,De=Oe);return ot&&Tr(I,Pe),be}for(Oe=c(I,Oe);Pe<q.length;Pe++)Ot=ye(Oe,I,Pe,q[Pe],ie),Ot!==null&&(t&&Ot.alternate!==null&&Oe.delete(Ot.key===null?Pe:Ot.key),M=p(Ot,M,Pe),De===null?be=Ot:De.sibling=Ot,De=Ot);return t&&Oe.forEach(function(lr){return s(I,lr)}),ot&&Tr(I,Pe),be}function Se(I,M,q,ie){var be=Z(q);if(typeof be!="function")throw Error(n(150));if(q=be.call(q),q==null)throw Error(n(151));for(var De=be=null,Oe=M,Pe=M=0,Ot=null,Ue=q.next();Oe!==null&&!Ue.done;Pe++,Ue=q.next()){Oe.index>Pe?(Ot=Oe,Oe=null):Ot=Oe.sibling;var lr=ee(I,Oe,Ue.value,ie);if(lr===null){Oe===null&&(Oe=Ot);break}t&&Oe&&lr.alternate===null&&s(I,Oe),M=p(lr,M,Pe),De===null?be=lr:De.sibling=lr,De=lr,Oe=Ot}if(Ue.done)return o(I,Oe),ot&&Tr(I,Pe),be;if(Oe===null){for(;!Ue.done;Pe++,Ue=q.next())Ue=se(I,Ue.value,ie),Ue!==null&&(M=p(Ue,M,Pe),De===null?be=Ue:De.sibling=Ue,De=Ue);return ot&&Tr(I,Pe),be}for(Oe=c(I,Oe);!Ue.done;Pe++,Ue=q.next())Ue=ye(Oe,I,Pe,Ue.value,ie),Ue!==null&&(t&&Ue.alternate!==null&&Oe.delete(Ue.key===null?Pe:Ue.key),M=p(Ue,M,Pe),De===null?be=Ue:De.sibling=Ue,De=Ue);return t&&Oe.forEach(function(dw){return s(I,dw)}),ot&&Tr(I,Pe),be}function vt(I,M,q,ie){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case F:e:{for(var be=q.key,De=M;De!==null;){if(De.key===be){if(be=q.type,be===O){if(De.tag===7){o(I,De.sibling),M=d(De,q.props.children),M.return=I,I=M;break e}}else if(De.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===oe&&rm(be)===De.type){o(I,De.sibling),M=d(De,q.props),M.ref=Xo(I,De,q),M.return=I,I=M;break e}o(I,De);break}else s(I,De);De=De.sibling}q.type===O?(M=Mr(q.props.children,I.mode,ie,q.key),M.return=I,I=M):(ie=$l(q.type,q.key,q.props,null,I.mode,ie),ie.ref=Xo(I,M,q),ie.return=I,I=ie)}return v(I);case P:e:{for(De=q.key;M!==null;){if(M.key===De)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){o(I,M.sibling),M=d(M,q.children||[]),M.return=I,I=M;break e}else{o(I,M);break}else s(I,M);M=M.sibling}M=md(q,I.mode,ie),M.return=I,I=M}return v(I);case oe:return De=q._init,vt(I,M,De(q._payload),ie)}if(He(q))return we(I,M,q,ie);if(Z(q))return Se(I,M,q,ie);xl(I,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(o(I,M.sibling),M=d(M,q),M.return=I,I=M):(o(I,M),M=pd(q,I.mode,ie),M.return=I,I=M),v(I)):o(I,M)}return vt}var xi=im(!0),om=im(!1),kl=Zs(null),Sl=null,ki=null,bh=null;function Th(){bh=ki=Sl=null}function Ch(t){var s=kl.current;tt(kl),t._currentValue=s}function Nh(t,s,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===o)break;t=t.return}}function Si(t,s){Sl=t,bh=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(on=!0),t.firstContext=null)}function Mn(t){var s=t._currentValue;if(bh!==t)if(t={context:t,memoizedValue:s,next:null},ki===null){if(Sl===null)throw Error(n(308));ki=t,Sl.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return s}var Cr=null;function Eh(t){Cr===null?Cr=[t]:Cr.push(t)}function am(t,s,o,c){var d=s.interleaved;return d===null?(o.next=o,Eh(s)):(o.next=d.next,d.next=o),s.interleaved=o,Cs(t,c)}function Cs(t,s){t.lanes|=s;var o=t.alternate;for(o!==null&&(o.lanes|=s),o=t,t=t.return;t!==null;)t.childLanes|=s,o=t.alternate,o!==null&&(o.childLanes|=s),o=t,t=t.return;return o.tag===3?o.stateNode:null}var er=!1;function Ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lm(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function tr(t,s,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Cs(t,o)}return d=c.interleaved,d===null?(s.next=s,Eh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Cs(t,o)}function bl(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,o|=c,s.lanes=o,Uu(t,o)}}function cm(t,s){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}function Tl(t,s,o,c){var d=t.updateQueue;er=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var R=T,V=R.next;R.next=null,v===null?p=V:v.next=V,v=R;var te=t.alternate;te!==null&&(te=te.updateQueue,T=te.lastBaseUpdate,T!==v&&(T===null?te.firstBaseUpdate=V:T.next=V,te.lastBaseUpdate=R))}if(p!==null){var se=d.baseState;v=0,te=V=R=null,T=p;do{var ee=T.lane,ye=T.eventTime;if((c&ee)===ee){te!==null&&(te=te.next={eventTime:ye,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var we=t,Se=T;switch(ee=s,ye=o,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){se=we.call(ye,se,ee);break e}se=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,ee=typeof we=="function"?we.call(ye,se,ee):we,ee==null)break e;se=X({},se,ee);break e;case 2:er=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,ee=d.effects,ee===null?d.effects=[T]:ee.push(T))}else ye={eventTime:ye,lane:ee,tag:T.tag,payload:T.payload,callback:T.callback,next:null},te===null?(V=te=ye,R=se):te=te.next=ye,v|=ee;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;ee=T,T=ee.next,ee.next=null,d.lastBaseUpdate=ee,d.shared.pending=null}}while(!0);if(te===null&&(R=se),d.baseState=R,d.firstBaseUpdate=V,d.lastBaseUpdate=te,s=d.shared.interleaved,s!==null){d=s;do v|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);Ar|=v,t.lanes=v,t.memoizedState=se}}function um(t,s,o){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Yo={},ls=Zs(Yo),Zo=Zs(Yo),Ko=Zs(Yo);function Nr(t){if(t===Yo)throw Error(n(174));return t}function Dh(t,s){switch(Ze(Ko,s),Ze(Zo,t),Ze(ls,Yo),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ou(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Ou(s,t)}tt(ls),Ze(ls,s)}function bi(){tt(ls),tt(Zo),tt(Ko)}function hm(t){Nr(Ko.current);var s=Nr(ls.current),o=Ou(s,t.type);s!==o&&(Ze(Zo,t),Ze(ls,o))}function Oh(t){Zo.current===t&&(tt(ls),tt(Zo))}var ut=Zs(0);function Cl(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rh=[];function Mh(){for(var t=0;t<Rh.length;t++)Rh[t]._workInProgressVersionPrimary=null;Rh.length=0}var Nl=U.ReactCurrentDispatcher,Ph=U.ReactCurrentBatchConfig,Er=0,ht=null,bt=null,At=null,El=!1,Jo=!1,ea=0,Pv=0;function Wt(){throw Error(n(321))}function jh(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!Un(t[o],s[o]))return!1;return!0}function Ih(t,s,o,c,d,p){if(Er=p,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Nl.current=t===null||t.memoizedState===null?qv:Lv,t=o(c,d),Jo){p=0;do{if(Jo=!1,ea=0,25<=p)throw Error(n(301));p+=1,At=bt=null,s.updateQueue=null,Nl.current=Vv,t=o(c,d)}while(Jo)}if(Nl.current=Ol,s=bt!==null&&bt.next!==null,Er=0,At=bt=ht=null,El=!1,s)throw Error(n(300));return t}function Fh(){var t=ea!==0;return ea=0,t}function cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ht.memoizedState=At=t:At=At.next=t,At}function Pn(){if(bt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var s=At===null?ht.memoizedState:At.next;if(s!==null)At=s,bt=t;else{if(t===null)throw Error(n(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},At===null?ht.memoizedState=At=t:At=At.next=t}return At}function ta(t,s){return typeof s=="function"?s(t):s}function qh(t){var s=Pn(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=bt,d=c.baseQueue,p=o.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}c.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,c=c.baseState;var T=v=null,R=null,V=p;do{var te=V.lane;if((Er&te)===te)R!==null&&(R=R.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),c=V.hasEagerState?V.eagerState:t(c,V.action);else{var se={lane:te,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};R===null?(T=R=se,v=c):R=R.next=se,ht.lanes|=te,Ar|=te}V=V.next}while(V!==null&&V!==p);R===null?v=c:R.next=T,Un(c,s.memoizedState)||(on=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=R,o.lastRenderedState=c}if(t=o.interleaved,t!==null){d=t;do p=d.lane,ht.lanes|=p,Ar|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Lh(t){var s=Pn(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var v=d=d.next;do p=t(p,v.action),v=v.next;while(v!==d);Un(p,s.memoizedState)||(on=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,c]}function dm(){}function fm(t,s){var o=ht,c=Pn(),d=s(),p=!Un(c.memoizedState,d);if(p&&(c.memoizedState=d,on=!0),c=c.queue,Vh(gm.bind(null,o,c,t),[t]),c.getSnapshot!==s||p||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,na(9,mm.bind(null,o,c,d,s),void 0,null),Dt===null)throw Error(n(349));(Er&30)!==0||pm(o,s,d)}return d}function pm(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function mm(t,s,o,c){s.value=o,s.getSnapshot=c,ym(s)&&_m(t)}function gm(t,s,o){return o(function(){ym(s)&&_m(t)})}function ym(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!Un(t,o)}catch(c){return!0}}function _m(t){var s=Cs(t,1);s!==null&&Qn(s,t,1,-1)}function vm(t){var s=cs();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},s.queue=t,t=t.dispatch=Fv.bind(null,ht,t),[s.memoizedState,t]}function na(t,s,o,c){return t={tag:t,create:s,destroy:o,deps:c,next:null},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.lastEffect=t.next=t):(o=s.lastEffect,o===null?s.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,s.lastEffect=t)),t}function wm(){return Pn().memoizedState}function Al(t,s,o,c){var d=cs();ht.flags|=t,d.memoizedState=na(1|s,o,void 0,c===void 0?null:c)}function Dl(t,s,o,c){var d=Pn();c=c===void 0?null:c;var p=void 0;if(bt!==null){var v=bt.memoizedState;if(p=v.destroy,c!==null&&jh(c,v.deps)){d.memoizedState=na(s,o,p,c);return}}ht.flags|=t,d.memoizedState=na(1|s,o,p,c)}function xm(t,s){return Al(8390656,8,t,s)}function Vh(t,s){return Dl(2048,8,t,s)}function km(t,s){return Dl(4,2,t,s)}function Sm(t,s){return Dl(4,4,t,s)}function bm(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Tm(t,s,o){return o=o!=null?o.concat([t]):null,Dl(4,4,bm.bind(null,s,t),o)}function zh(){}function Cm(t,s){var o=Pn();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&jh(s,c[1])?c[0]:(o.memoizedState=[t,s],t)}function Nm(t,s){var o=Pn();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&jh(s,c[1])?c[0]:(t=t(),o.memoizedState=[t,s],t)}function Em(t,s,o){return(Er&21)===0?(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=o):(Un(o,s)||(o=rp(),ht.lanes|=o,Ar|=o,t.baseState=!0),s)}function jv(t,s){var o=$e;$e=o!==0&&4>o?o:4,t(!0);var c=Ph.transition;Ph.transition={};try{t(!1),s()}finally{$e=o,Ph.transition=c}}function Am(){return Pn().memoizedState}function Iv(t,s,o){var c=ir(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Dm(t))Om(s,o);else if(o=am(t,s,o,c),o!==null){var d=Zt();Qn(o,t,c,d),Rm(o,s,c)}}function Fv(t,s,o){var c=ir(t),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dm(t))Om(s,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var v=s.lastRenderedState,T=p(v,o);if(d.hasEagerState=!0,d.eagerState=T,Un(T,v)){var R=s.interleaved;R===null?(d.next=d,Eh(s)):(d.next=R.next,R.next=d),s.interleaved=d;return}}catch(V){}finally{}o=am(t,s,d,c),o!==null&&(d=Zt(),Qn(o,t,c,d),Rm(o,s,c))}}function Dm(t){var s=t.alternate;return t===ht||s!==null&&s===ht}function Om(t,s){Jo=El=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function Rm(t,s,o){if((o&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,o|=c,s.lanes=o,Uu(t,o)}}var Ol={readContext:Mn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},qv={readContext:Mn,useCallback:function(t,s){return cs().memoizedState=[t,s===void 0?null:s],t},useContext:Mn,useEffect:xm,useImperativeHandle:function(t,s,o){return o=o!=null?o.concat([t]):null,Al(4194308,4,bm.bind(null,s,t),o)},useLayoutEffect:function(t,s){return Al(4194308,4,t,s)},useInsertionEffect:function(t,s){return Al(4,2,t,s)},useMemo:function(t,s){var o=cs();return s=s===void 0?null:s,t=t(),o.memoizedState=[t,s],t},useReducer:function(t,s,o){var c=cs();return s=o!==void 0?o(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=Iv.bind(null,ht,t),[c.memoizedState,t]},useRef:function(t){var s=cs();return t={current:t},s.memoizedState=t},useState:vm,useDebugValue:zh,useDeferredValue:function(t){return cs().memoizedState=t},useTransition:function(){var t=vm(!1),s=t[0];return t=jv.bind(null,t[1]),cs().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,o){var c=ht,d=cs();if(ot){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),Dt===null)throw Error(n(349));(Er&30)!==0||pm(c,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,xm(gm.bind(null,c,p,t),[t]),c.flags|=2048,na(9,mm.bind(null,c,p,o,s),void 0,null),o},useId:function(){var t=cs(),s=Dt.identifierPrefix;if(ot){var o=Ts,c=bs;o=(c&~(1<<32-Bn(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=ea++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Pv++,s=":"+s+"r"+o.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Lv={readContext:Mn,useCallback:Cm,useContext:Mn,useEffect:Vh,useImperativeHandle:Tm,useInsertionEffect:km,useLayoutEffect:Sm,useMemo:Nm,useReducer:qh,useRef:wm,useState:function(){return qh(ta)},useDebugValue:zh,useDeferredValue:function(t){var s=Pn();return Em(s,bt.memoizedState,t)},useTransition:function(){var t=qh(ta)[0],s=Pn().memoizedState;return[t,s]},useMutableSource:dm,useSyncExternalStore:fm,useId:Am,unstable_isNewReconciler:!1},Vv={readContext:Mn,useCallback:Cm,useContext:Mn,useEffect:Vh,useImperativeHandle:Tm,useInsertionEffect:km,useLayoutEffect:Sm,useMemo:Nm,useReducer:Lh,useRef:wm,useState:function(){return Lh(ta)},useDebugValue:zh,useDeferredValue:function(t){var s=Pn();return bt===null?s.memoizedState=t:Em(s,bt.memoizedState,t)},useTransition:function(){var t=Lh(ta)[0],s=Pn().memoizedState;return[t,s]},useMutableSource:dm,useSyncExternalStore:fm,useId:Am,unstable_isNewReconciler:!1};function $n(t,s){if(t&&t.defaultProps){s=X({},s),t=t.defaultProps;for(var o in t)s[o]===void 0&&(s[o]=t[o]);return s}return s}function Bh(t,s,o,c){s=t.memoizedState,o=o(c,s),o=o==null?s:X({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Rl={isMounted:function(t){return(t=t._reactInternals)?xr(t)===t:!1},enqueueSetState:function(t,s,o){t=t._reactInternals;var c=Zt(),d=ir(t),p=Ns(c,d);p.payload=s,o!=null&&(p.callback=o),s=tr(t,p,d),s!==null&&(Qn(s,t,d,c),bl(s,t,d))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var c=Zt(),d=ir(t),p=Ns(c,d);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=tr(t,p,d),s!==null&&(Qn(s,t,d,c),bl(s,t,d))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=Zt(),c=ir(t),d=Ns(o,c);d.tag=2,s!=null&&(d.callback=s),s=tr(t,d,c),s!==null&&(Qn(s,t,c,o),bl(s,t,c))}};function Mm(t,s,o,c,d,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,v):s.prototype&&s.prototype.isPureReactComponent?!Bo(o,c)||!Bo(d,p):!0}function Pm(t,s,o){var c=!1,d=Ks,p=s.contextType;return typeof p=="object"&&p!==null?p=Mn(p):(d=rn(s)?Sr:Ut.current,c=s.contextTypes,p=(c=c!=null)?yi(t,d):Ks),s=new s(o,p),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Rl,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),s}function jm(t,s,o,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==t&&Rl.enqueueReplaceState(s,s.state,null)}function Uh(t,s,o,c){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},Ah(t);var p=s.contextType;typeof p=="object"&&p!==null?d.context=Mn(p):(p=rn(s)?Sr:Ut.current,d.context=yi(t,p)),d.state=t.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Bh(t,s,p,o),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Rl.enqueueReplaceState(d,d.state,null),Tl(t,o,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Ti(t,s){try{var o="",c=s;do o+=Te(c),c=c.return;while(c);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:s,stack:d,digest:null}}function Wh(t,s,o){return{value:t,source:null,stack:o!=null?o:null,digest:s!=null?s:null}}function $h(t,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function Im(t,s,o){o=Ns(-1,o),o.tag=3,o.payload={element:null};var c=s.value;return o.callback=function(){Ll||(Ll=!0,od=c),$h(t,s)},o}function Fm(t,s,o){o=Ns(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;o.payload=function(){return c(d)},o.callback=function(){$h(t,s)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){$h(t,s),typeof c!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),o}function qm(t,s,o){var c=t.pingCache;if(c===null){c=t.pingCache=new zv;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(d.add(o),t=tw.bind(null,t,s,o),s.then(t,t))}function Lm(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Vm(t,s,o,c,d){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=Ns(-1,1),s.tag=2,tr(o,s,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var Bv=U.ReactCurrentOwner,on=!1;function Yt(t,s,o,c){s.child=t===null?om(s,null,o,c):xi(s,t.child,o,c)}function zm(t,s,o,c,d){o=o.render;var p=s.ref;return Si(s,d),c=Ih(t,s,o,c,p,d),o=Fh(),t!==null&&!on?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~d,Es(t,s,d)):(ot&&o&&vh(s),s.flags|=1,Yt(t,s,c,d),s.child)}function Bm(t,s,o,c,d){if(t===null){var p=o.type;return typeof p=="function"&&!fd(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=p,Um(t,s,p,c,d)):(t=$l(o.type,null,c,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(p=t.child,(t.lanes&d)===0){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Bo,o(v,c)&&t.ref===s.ref)return Es(t,s,d)}return s.flags|=1,t=ar(p,c),t.ref=s.ref,t.return=s,s.child=t}function Um(t,s,o,c,d){if(t!==null){var p=t.memoizedProps;if(Bo(p,c)&&t.ref===s.ref)if(on=!1,s.pendingProps=c=p,(t.lanes&d)!==0)(t.flags&131072)!==0&&(on=!0);else return s.lanes=t.lanes,Es(t,s,d)}return Gh(t,s,o,c,d)}function Wm(t,s,o){var c=s.pendingProps,d=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ni,kn),kn|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ze(Ni,kn),kn|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,Ze(Ni,kn),kn|=c}else p!==null?(c=p.baseLanes|o,s.memoizedState=null):c=o,Ze(Ni,kn),kn|=c;return Yt(t,s,d,o),s.child}function $m(t,s){var o=s.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function Gh(t,s,o,c,d){var p=rn(o)?Sr:Ut.current;return p=yi(s,p),Si(s,d),o=Ih(t,s,o,c,p,d),c=Fh(),t!==null&&!on?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~d,Es(t,s,d)):(ot&&c&&vh(s),s.flags|=1,Yt(t,s,o,d),s.child)}function Gm(t,s,o,c,d){if(rn(o)){var p=!0;gl(s)}else p=!1;if(Si(s,d),s.stateNode===null)Pl(t,s),Pm(s,o,c),Uh(s,o,c,d),c=!0;else if(t===null){var v=s.stateNode,T=s.memoizedProps;v.props=T;var R=v.context,V=o.contextType;typeof V=="object"&&V!==null?V=Mn(V):(V=rn(o)?Sr:Ut.current,V=yi(s,V));var te=o.getDerivedStateFromProps,se=typeof te=="function"||typeof v.getSnapshotBeforeUpdate=="function";se||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==c||R!==V)&&jm(s,v,c,V),er=!1;var ee=s.memoizedState;v.state=ee,Tl(s,c,v,d),R=s.memoizedState,T!==c||ee!==R||sn.current||er?(typeof te=="function"&&(Bh(s,o,te,c),R=s.memoizedState),(T=er||Mm(s,o,T,c,ee,R,V))?(se||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=R),v.props=c,v.state=R,v.context=V,c=T):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,lm(t,s),T=s.memoizedProps,V=s.type===s.elementType?T:$n(s.type,T),v.props=V,se=s.pendingProps,ee=v.context,R=o.contextType,typeof R=="object"&&R!==null?R=Mn(R):(R=rn(o)?Sr:Ut.current,R=yi(s,R));var ye=o.getDerivedStateFromProps;(te=typeof ye=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==se||ee!==R)&&jm(s,v,c,R),er=!1,ee=s.memoizedState,v.state=ee,Tl(s,c,v,d);var we=s.memoizedState;T!==se||ee!==we||sn.current||er?(typeof ye=="function"&&(Bh(s,o,ye,c),we=s.memoizedState),(V=er||Mm(s,o,V,c,ee,we,R)||!1)?(te||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,we,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,we,R)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&ee===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ee===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=we),v.props=c,v.state=we,v.context=R,c=V):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&ee===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ee===t.memoizedState||(s.flags|=1024),c=!1)}return Hh(t,s,o,c,p,d)}function Hh(t,s,o,c,d,p){$m(t,s);var v=(s.flags&128)!==0;if(!c&&!v)return d&&Zp(s,o,!1),Es(t,s,p);c=s.stateNode,Bv.current=s;var T=v&&typeof o.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&v?(s.child=xi(s,t.child,null,p),s.child=xi(s,null,T,p)):Yt(t,s,T,p),s.memoizedState=c.state,d&&Zp(s,o,!0),s.child}function Hm(t){var s=t.stateNode;s.pendingContext?Xp(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Xp(t,s.context,!1),Dh(t,s.containerInfo)}function Qm(t,s,o,c,d){return wi(),Sh(d),s.flags|=256,Yt(t,s,o,c),s.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xm(t,s,o){var c=s.pendingProps,d=ut.current,p=!1,v=(s.flags&128)!==0,T;if((T=v)||(T=t!==null&&t.memoizedState===null?!1:(d&2)!==0),T?(p=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Ze(ut,d&1),t===null)return kh(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=c.children,t=c.fallback,p?(c=s.mode,p=s.child,v={mode:"hidden",children:v},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Gl(v,c,0,null),t=Mr(t,c,o,null),p.return=s,t.return=s,p.sibling=t,s.child=p,s.child.memoizedState=Xh(o),s.memoizedState=Qh,t):Yh(s,v));if(d=t.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return Uv(t,s,v,c,T,d,o);if(p){p=c.fallback,v=s.mode,d=t.child,T=d.sibling;var R={mode:"hidden",children:c.children};return(v&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=R,s.deletions=null):(c=ar(d,R),c.subtreeFlags=d.subtreeFlags&14680064),T!==null?p=ar(T,p):(p=Mr(p,v,o,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,v=t.child.memoizedState,v=v===null?Xh(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,s.memoizedState=Qh,c}return p=t.child,t=p.sibling,c=ar(p,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=o),c.return=s,c.sibling=null,t!==null&&(o=s.deletions,o===null?(s.deletions=[t],s.flags|=16):o.push(t)),s.child=c,s.memoizedState=null,c}function Yh(t,s){return s=Gl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Ml(t,s,o,c){return c!==null&&Sh(c),xi(s,t.child,null,o),t=Yh(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Uv(t,s,o,c,d,p,v){if(o)return s.flags&256?(s.flags&=-257,c=Wh(Error(n(422))),Ml(t,s,v,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(p=c.fallback,d=s.mode,c=Gl({mode:"visible",children:c.children},d,0,null),p=Mr(p,d,v,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,(s.mode&1)!==0&&xi(s,t.child,null,v),s.child.memoizedState=Xh(v),s.memoizedState=Qh,p);if((s.mode&1)===0)return Ml(t,s,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var T=c.dgst;return c=T,p=Error(n(419)),c=Wh(p,c,void 0),Ml(t,s,v,c)}if(T=(v&t.childLanes)!==0,on||T){if(c=Dt,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Cs(t,d),Qn(c,t,d,-1))}return dd(),c=Wh(Error(n(421))),Ml(t,s,v,c)}return d.data==="$?"?(s.flags|=128,s.child=t.child,s=nw.bind(null,t),d._reactRetry=s,null):(t=p.treeContext,xn=Ys(d.nextSibling),wn=s,ot=!0,Wn=null,t!==null&&(On[Rn++]=bs,On[Rn++]=Ts,On[Rn++]=br,bs=t.id,Ts=t.overflow,br=s),s=Yh(s,c.children),s.flags|=4096,s)}function Ym(t,s,o){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Nh(t.return,s,o)}function Zh(t,s,o,c,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=d)}function Zm(t,s,o){var c=s.pendingProps,d=c.revealOrder,p=c.tail;if(Yt(t,s,c.children,o),c=ut.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ym(t,o,s);else if(t.tag===19)Ym(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ze(ut,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(o=s.child,d=null;o!==null;)t=o.alternate,t!==null&&Cl(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Zh(s,!1,d,o,p);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Cl(t)===null){s.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Zh(s,!0,o,null,p);break;case"together":Zh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pl(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Es(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),Ar|=s.lanes,(o&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(n(153));if(s.child!==null){for(t=s.child,o=ar(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=ar(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function Wv(t,s,o){switch(s.tag){case 3:Hm(s),wi();break;case 5:hm(s);break;case 1:rn(s.type)&&gl(s);break;case 4:Dh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;Ze(kl,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ze(ut,ut.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?Xm(t,s,o):(Ze(ut,ut.current&1),t=Es(t,s,o),t!==null?t.sibling:null);Ze(ut,ut.current&1);break;case 19:if(c=(o&s.childLanes)!==0,(t.flags&128)!==0){if(c)return Zm(t,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ze(ut,ut.current),c)break;return null;case 22:case 23:return s.lanes=0,Wm(t,s,o)}return Es(t,s,o)}var Km,Kh,Jm,eg;Km=function(t,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Kh=function(){},Jm=function(t,s,o,c){var d=t.memoizedProps;if(d!==c){t=s.stateNode,Nr(ls.current);var p=null;switch(o){case"input":d=ft(t,d),c=ft(t,c),p=[];break;case"select":d=X({},d,{value:void 0}),c=X({},c,{value:void 0}),p=[];break;case"textarea":d=Dn(t,d),c=Dn(t,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=fl)}Ru(o,c);var v;o=null;for(V in d)if(!c.hasOwnProperty(V)&&d.hasOwnProperty(V)&&d[V]!=null)if(V==="style"){var T=d[V];for(v in T)T.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(a.hasOwnProperty(V)?p||(p=[]):(p=p||[]).push(V,null));for(V in c){var R=c[V];if(T=d!=null?d[V]:void 0,c.hasOwnProperty(V)&&R!==T&&(R!=null||T!=null))if(V==="style")if(T){for(v in T)!T.hasOwnProperty(v)||R&&R.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in R)R.hasOwnProperty(v)&&T[v]!==R[v]&&(o||(o={}),o[v]=R[v])}else o||(p||(p=[]),p.push(V,o)),o=R;else V==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(p=p||[]).push(V,R)):V==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(V,""+R):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(a.hasOwnProperty(V)?(R!=null&&V==="onScroll"&&et("scroll",t),p||T===R||(p=[])):(p=p||[]).push(V,R))}o&&(p=p||[]).push("style",o);var V=p;(s.updateQueue=V)&&(s.flags|=4)}},eg=function(t,s,o,c){o!==c&&(s.flags|=4)};function sa(t,s){if(!ot)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function $t(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(s)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=o,s}function $v(t,s,o){var c=s.pendingProps;switch(wh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return rn(s.type)&&ml(),$t(s),null;case 3:return c=s.stateNode,bi(),tt(sn),tt(Ut),Mh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(wl(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wn!==null&&(cd(Wn),Wn=null))),Kh(t,s),$t(s),null;case 5:Oh(s);var d=Nr(Ko.current);if(o=s.type,t!==null&&s.stateNode!=null)Jm(t,s,o,c,d),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return $t(s),null}if(t=Nr(ls.current),wl(s)){c=s.stateNode,o=s.type;var p=s.memoizedProps;switch(c[as]=s,c[Ho]=p,t=(s.mode&1)!==0,o){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(d=0;d<Wo.length;d++)et(Wo[d],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":le(c,p),et("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},et("invalid",c);break;case"textarea":Us(c,p),et("invalid",c)}Ru(o,p),d=null;for(var v in p)if(p.hasOwnProperty(v)){var T=p[v];v==="children"?typeof T=="string"?c.textContent!==T&&(p.suppressHydrationWarning!==!0&&dl(c.textContent,T,t),d=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&dl(c.textContent,T,t),d=["children",""+T]):a.hasOwnProperty(v)&&T!=null&&v==="onScroll"&&et("scroll",c)}switch(o){case"input":me(c),Ge(c,p,!0);break;case"textarea":me(c),Ua(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=fl)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wa(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(o,{is:c.is}):(t=v.createElement(o),o==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,o),t[as]=s,t[Ho]=c,Km(t,s,!1,!1),s.stateNode=t;e:{switch(v=Mu(o,c),o){case"dialog":et("cancel",t),et("close",t),d=c;break;case"iframe":case"object":case"embed":et("load",t),d=c;break;case"video":case"audio":for(d=0;d<Wo.length;d++)et(Wo[d],t);d=c;break;case"source":et("error",t),d=c;break;case"img":case"image":case"link":et("error",t),et("load",t),d=c;break;case"details":et("toggle",t),d=c;break;case"input":le(t,c),d=ft(t,c),et("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=X({},c,{value:void 0}),et("invalid",t);break;case"textarea":Us(t,c),d=Dn(t,c),et("invalid",t);break;default:d=c}Ru(o,d),T=d;for(p in T)if(T.hasOwnProperty(p)){var R=T[p];p==="style"?Uf(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&zf(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&To(t,R):typeof R=="number"&&To(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&et("scroll",t):R!=null&&L(t,p,R,v))}switch(o){case"input":me(t),Ge(t,c,!1);break;case"textarea":me(t),Ua(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Ce(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?St(t,!!c.multiple,p,!1):c.defaultValue!=null&&St(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=fl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(t&&s.stateNode!=null)eg(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(o=Nr(Ko.current),Nr(ls.current),wl(s)){if(c=s.stateNode,o=s.memoizedProps,c[as]=s,(p=c.nodeValue!==o)&&(t=wn,t!==null))switch(t.tag){case 3:dl(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dl(c.nodeValue,o,(t.mode&1)!==0)}p&&(s.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[as]=s,s.stateNode=c}return $t(s),null;case 13:if(tt(ut),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&xn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)sm(),wi(),s.flags|=98560,p=!1;else if(p=wl(s),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[as]=s}else wi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),p=!1}else Wn!==null&&(cd(Wn),Wn=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(ut.current&1)!==0?Tt===0&&(Tt=3):dd())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return bi(),Kh(t,s),t===null&&$o(s.stateNode.containerInfo),$t(s),null;case 10:return Ch(s.type._context),$t(s),null;case 17:return rn(s.type)&&ml(),$t(s),null;case 19:if(tt(ut),p=s.memoizedState,p===null)return $t(s),null;if(c=(s.flags&128)!==0,v=p.rendering,v===null)if(c)sa(p,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(v=Cl(t),v!==null){for(s.flags|=128,sa(p,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=o,o=s.child;o!==null;)p=o,t=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ze(ut,ut.current&1|2),s.child}t=t.sibling}p.tail!==null&&_t()>Ei&&(s.flags|=128,c=!0,sa(p,!1),s.lanes=4194304)}else{if(!c)if(t=Cl(v),t!==null){if(s.flags|=128,c=!0,o=t.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),sa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!ot)return $t(s),null}else 2*_t()-p.renderingStartTime>Ei&&o!==1073741824&&(s.flags|=128,c=!0,sa(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(o=p.last,o!==null?o.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=_t(),s.sibling=null,o=ut.current,Ze(ut,c?o&1|2:o&1),s):($t(s),null);case 22:case 23:return hd(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(kn&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Gv(t,s){switch(wh(s),s.tag){case 1:return rn(s.type)&&ml(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return bi(),tt(sn),tt(Ut),Mh(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Oh(s),null;case 13:if(tt(ut),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(n(340));wi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return tt(ut),null;case 4:return bi(),null;case 10:return Ch(s.type._context),null;case 22:case 23:return hd(),null;case 24:return null;default:return null}}var jl=!1,Gt=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ci(t,s){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){pt(t,s,c)}else o.current=null}function Jh(t,s,o){try{o()}catch(c){pt(t,s,c)}}var tg=!1;function Qv(t,s){if(hh=tl,t=Mp(),sh(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch(ie){o=null;break e}var v=0,T=-1,R=-1,V=0,te=0,se=t,ee=null;t:for(;;){for(var ye;se!==o||d!==0&&se.nodeType!==3||(T=v+d),se!==p||c!==0&&se.nodeType!==3||(R=v+c),se.nodeType===3&&(v+=se.nodeValue.length),(ye=se.firstChild)!==null;)ee=se,se=ye;for(;;){if(se===t)break t;if(ee===o&&++V===d&&(T=v),ee===p&&++te===c&&(R=v),(ye=se.nextSibling)!==null)break;se=ee,ee=se.parentNode}se=ye}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(dh={focusedElem:t,selectionRange:o},tl=!1,_e=s;_e!==null;)if(s=_e,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,_e=t;else for(;_e!==null;){s=_e;try{var we=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,vt=we.memoizedState,I=s.stateNode,M=I.getSnapshotBeforeUpdate(s.elementType===s.type?Se:$n(s.type,Se),vt);I.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){pt(s,s.return,ie)}if(t=s.sibling,t!==null){t.return=s.return,_e=t;break}_e=s.return}return we=tg,tg=!1,we}function ra(t,s,o){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Jh(s,o,p)}d=d.next}while(d!==c)}}function Il(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==s)}}function ed(t){var s=t.ref;if(s!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof s=="function"?s(t):s.current=t}}function ng(t){var s=t.alternate;s!==null&&(t.alternate=null,ng(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[as],delete s[Ho],delete s[gh],delete s[Dv],delete s[Ov])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sg(t){return t.tag===5||t.tag===3||t.tag===4}function rg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,s,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(t,s):o.insertBefore(t,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(t,o)):(s=o,s.appendChild(t)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=fl));else if(c!==4&&(t=t.child,t!==null))for(td(t,s,o),t=t.sibling;t!==null;)td(t,s,o),t=t.sibling}function nd(t,s,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(nd(t,s,o),t=t.sibling;t!==null;)nd(t,s,o),t=t.sibling}var Ft=null,Gn=!1;function nr(t,s,o){for(o=o.child;o!==null;)ig(t,s,o),o=o.sibling}function ig(t,s,o){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Xa,o)}catch(T){}switch(o.tag){case 5:Gt||Ci(o,s);case 6:var c=Ft,d=Gn;Ft=null,nr(t,s,o),Ft=c,Gn=d,Ft!==null&&(Gn?(t=Ft,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ft.removeChild(o.stateNode));break;case 18:Ft!==null&&(Gn?(t=Ft,o=o.stateNode,t.nodeType===8?mh(t.parentNode,o):t.nodeType===1&&mh(t,o),Io(t)):mh(Ft,o.stateNode));break;case 4:c=Ft,d=Gn,Ft=o.stateNode.containerInfo,Gn=!0,nr(t,s,o),Ft=c,Gn=d;break;case 0:case 11:case 14:case 15:if(!Gt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Jh(o,s,v),d=d.next}while(d!==c)}nr(t,s,o);break;case 1:if(!Gt&&(Ci(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(T){pt(o,s,T)}nr(t,s,o);break;case 21:nr(t,s,o);break;case 22:o.mode&1?(Gt=(c=Gt)||o.memoizedState!==null,nr(t,s,o),Gt=c):nr(t,s,o);break;default:nr(t,s,o)}}function og(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Hv),s.forEach(function(c){var d=sw.bind(null,t,c);o.has(c)||(o.add(c),c.then(d,d))})}}function Hn(t,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var p=t,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 5:Ft=T.stateNode,Gn=!1;break e;case 3:Ft=T.stateNode.containerInfo,Gn=!0;break e;case 4:Ft=T.stateNode.containerInfo,Gn=!0;break e}T=T.return}if(Ft===null)throw Error(n(160));ig(p,v,d),Ft=null,Gn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(V){pt(d,s,V)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ag(s,t),s=s.sibling}function ag(t,s){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(s,t),us(t),c&4){try{ra(3,t,t.return),Il(3,t)}catch(Se){pt(t,t.return,Se)}try{ra(5,t,t.return)}catch(Se){pt(t,t.return,Se)}}break;case 1:Hn(s,t),us(t),c&512&&o!==null&&Ci(o,o.return);break;case 5:if(Hn(s,t),us(t),c&512&&o!==null&&Ci(o,o.return),t.flags&32){var d=t.stateNode;try{To(d,"")}catch(Se){pt(t,t.return,Se)}}if(c&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,T=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&J(d,p),Mu(T,v);var V=Mu(T,p);for(v=0;v<R.length;v+=2){var te=R[v],se=R[v+1];te==="style"?Uf(d,se):te==="dangerouslySetInnerHTML"?zf(d,se):te==="children"?To(d,se):L(d,te,se,V)}switch(T){case"input":Ye(d,p);break;case"textarea":ii(d,p);break;case"select":var ee=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ye=p.value;ye!=null?St(d,!!p.multiple,ye,!1):ee!==!!p.multiple&&(p.defaultValue!=null?St(d,!!p.multiple,p.defaultValue,!0):St(d,!!p.multiple,p.multiple?[]:"",!1))}d[Ho]=p}catch(Se){pt(t,t.return,Se)}}break;case 6:if(Hn(s,t),us(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(Se){pt(t,t.return,Se)}}break;case 3:if(Hn(s,t),us(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Io(s.containerInfo)}catch(Se){pt(t,t.return,Se)}break;case 4:Hn(s,t),us(t);break;case 13:Hn(s,t),us(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(id=_t())),c&4&&og(t);break;case 22:if(te=o!==null&&o.memoizedState!==null,t.mode&1?(Gt=(V=Gt)||te,Hn(s,t),Gt=V):Hn(s,t),us(t),c&8192){if(V=t.memoizedState!==null,(t.stateNode.isHidden=V)&&!te&&(t.mode&1)!==0)for(_e=t,te=t.child;te!==null;){for(se=_e=te;_e!==null;){switch(ee=_e,ye=ee.child,ee.tag){case 0:case 11:case 14:case 15:ra(4,ee,ee.return);break;case 1:Ci(ee,ee.return);var we=ee.stateNode;if(typeof we.componentWillUnmount=="function"){c=ee,o=ee.return;try{s=c,we.props=s.memoizedProps,we.state=s.memoizedState,we.componentWillUnmount()}catch(Se){pt(c,o,Se)}}break;case 5:Ci(ee,ee.return);break;case 22:if(ee.memoizedState!==null){ug(se);continue}}ye!==null?(ye.return=ee,_e=ye):ug(se)}te=te.sibling}e:for(te=null,se=t;;){if(se.tag===5){if(te===null){te=se;try{d=se.stateNode,V?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=se.stateNode,R=se.memoizedProps.style,v=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Bf("display",v))}catch(Se){pt(t,t.return,Se)}}}else if(se.tag===6){if(te===null)try{se.stateNode.nodeValue=V?"":se.memoizedProps}catch(Se){pt(t,t.return,Se)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===t)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===t)break e;for(;se.sibling===null;){if(se.return===null||se.return===t)break e;te===se&&(te=null),se=se.return}te===se&&(te=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Hn(s,t),us(t),c&4&&og(t);break;case 21:break;default:Hn(s,t),us(t)}}function us(t){var s=t.flags;if(s&2){try{e:{for(var o=t.return;o!==null;){if(sg(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(To(d,""),c.flags&=-33);var p=rg(t);nd(t,p,d);break;case 3:case 4:var v=c.stateNode.containerInfo,T=rg(t);td(t,T,v);break;default:throw Error(n(161))}}catch(R){pt(t,t.return,R)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Xv(t,s,o){_e=t,lg(t)}function lg(t,s,o){for(var c=(t.mode&1)!==0;_e!==null;){var d=_e,p=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||jl;if(!v){var T=d.alternate,R=T!==null&&T.memoizedState!==null||Gt;T=jl;var V=Gt;if(jl=v,(Gt=R)&&!V)for(_e=d;_e!==null;)v=_e,R=v.child,v.tag===22&&v.memoizedState!==null?hg(d):R!==null?(R.return=v,_e=R):hg(d);for(;p!==null;)_e=p,lg(p),p=p.sibling;_e=d,jl=T,Gt=V}cg(t)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,_e=p):cg(t)}}function cg(t){for(;_e!==null;){var s=_e;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Gt||Il(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Gt)if(o===null)c.componentDidMount();else{var d=s.elementType===s.type?o.memoizedProps:$n(s.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&um(s,p,c);break;case 3:var v=s.updateQueue;if(v!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}um(s,v,o)}break;case 5:var T=s.stateNode;if(o===null&&s.flags&4){o=T;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var V=s.alternate;if(V!==null){var te=V.memoizedState;if(te!==null){var se=te.dehydrated;se!==null&&Io(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gt||s.flags&512&&ed(s)}catch(ee){pt(s,s.return,ee)}}if(s===t){_e=null;break}if(o=s.sibling,o!==null){o.return=s.return,_e=o;break}_e=s.return}}function ug(t){for(;_e!==null;){var s=_e;if(s===t){_e=null;break}var o=s.sibling;if(o!==null){o.return=s.return,_e=o;break}_e=s.return}}function hg(t){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Il(4,s)}catch(R){pt(s,o,R)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(R){pt(s,d,R)}}var p=s.return;try{ed(s)}catch(R){pt(s,p,R)}break;case 5:var v=s.return;try{ed(s)}catch(R){pt(s,v,R)}}}catch(R){pt(s,s.return,R)}if(s===t){_e=null;break}var T=s.sibling;if(T!==null){T.return=s.return,_e=T;break}_e=s.return}}var Yv=Math.ceil,Fl=U.ReactCurrentDispatcher,sd=U.ReactCurrentOwner,jn=U.ReactCurrentBatchConfig,Be=0,Dt=null,xt=null,qt=0,kn=0,Ni=Zs(0),Tt=0,ia=null,Ar=0,ql=0,rd=0,oa=null,an=null,id=0,Ei=1/0,As=null,Ll=!1,od=null,sr=null,Vl=!1,rr=null,zl=0,aa=0,ad=null,Bl=-1,Ul=0;function Zt(){return(Be&6)!==0?_t():Bl!==-1?Bl:Bl=_t()}function ir(t){return(t.mode&1)===0?1:(Be&2)!==0&&qt!==0?qt&-qt:Mv.transition!==null?(Ul===0&&(Ul=rp()),Ul):(t=$e,t!==0||(t=window.event,t=t===void 0?16:fp(t.type)),t)}function Qn(t,s,o,c){if(50<aa)throw aa=0,ad=null,Error(n(185));Oo(t,o,c),((Be&2)===0||t!==Dt)&&(t===Dt&&((Be&2)===0&&(ql|=o),Tt===4&&or(t,qt)),ln(t,c),o===1&&Be===0&&(s.mode&1)===0&&(Ei=_t()+500,yl&&Js()))}function ln(t,s){var o=t.callbackNode;M0(t,s);var c=Ka(t,t===Dt?qt:0);if(c===0)o!==null&&tp(o),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(o!=null&&tp(o),s===1)t.tag===0?Rv(fg.bind(null,t)):Kp(fg.bind(null,t)),Ev(function(){(Be&6)===0&&Js()}),o=null;else{switch(ip(c)){case 1:o=Vu;break;case 4:o=np;break;case 16:o=Qa;break;case 536870912:o=sp;break;default:o=Qa}o=xg(o,dg.bind(null,t))}t.callbackPriority=s,t.callbackNode=o}}function dg(t,s){if(Bl=-1,Ul=0,(Be&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Ai()&&t.callbackNode!==o)return null;var c=Ka(t,t===Dt?qt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=Wl(t,c);else{s=c;var d=Be;Be|=2;var p=mg();(Dt!==t||qt!==s)&&(As=null,Ei=_t()+500,Or(t,s));do try{Jv();break}catch(T){pg(t,T)}while(!0);Th(),Fl.current=p,Be=d,xt!==null?s=0:(Dt=null,qt=0,s=Tt)}if(s!==0){if(s===2&&(d=zu(t),d!==0&&(c=d,s=ld(t,d))),s===1)throw o=ia,Or(t,0),or(t,c),ln(t,_t()),o;if(s===6)or(t,c);else{if(d=t.current.alternate,(c&30)===0&&!Zv(d)&&(s=Wl(t,c),s===2&&(p=zu(t),p!==0&&(c=p,s=ld(t,p))),s===1))throw o=ia,Or(t,0),or(t,c),ln(t,_t()),o;switch(t.finishedWork=d,t.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Rr(t,an,As);break;case 3:if(or(t,c),(c&130023424)===c&&(s=id+500-_t(),10<s)){if(Ka(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){Zt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=ph(Rr.bind(null,t,an,As),s);break}Rr(t,an,As);break;case 4:if(or(t,c),(c&4194240)===c)break;for(s=t.eventTimes,d=-1;0<c;){var v=31-Bn(c);p=1<<v,v=s[v],v>d&&(d=v),c&=~p}if(c=d,c=_t()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Yv(c/1960))-c,10<c){t.timeoutHandle=ph(Rr.bind(null,t,an,As),c);break}Rr(t,an,As);break;case 5:Rr(t,an,As);break;default:throw Error(n(329))}}}return ln(t,_t()),t.callbackNode===o?dg.bind(null,t):null}function ld(t,s){var o=oa;return t.current.memoizedState.isDehydrated&&(Or(t,s).flags|=256),t=Wl(t,s),t!==2&&(s=an,an=o,s!==null&&cd(s)),t}function cd(t){an===null?an=t:an.push.apply(an,t)}function Zv(t){for(var s=t;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!Un(p(),d))return!1}catch(v){return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function or(t,s){for(s&=~rd,s&=~ql,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var o=31-Bn(s),c=1<<o;t[o]=-1,s&=~c}}function fg(t){if((Be&6)!==0)throw Error(n(327));Ai();var s=Ka(t,0);if((s&1)===0)return ln(t,_t()),null;var o=Wl(t,s);if(t.tag!==0&&o===2){var c=zu(t);c!==0&&(s=c,o=ld(t,c))}if(o===1)throw o=ia,Or(t,0),or(t,s),ln(t,_t()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Rr(t,an,As),ln(t,_t()),null}function ud(t,s){var o=Be;Be|=1;try{return t(s)}finally{Be=o,Be===0&&(Ei=_t()+500,yl&&Js())}}function Dr(t){rr!==null&&rr.tag===0&&(Be&6)===0&&Ai();var s=Be;Be|=1;var o=jn.transition,c=$e;try{if(jn.transition=null,$e=1,t)return t()}finally{$e=c,jn.transition=o,Be=s,(Be&6)===0&&Js()}}function hd(){kn=Ni.current,tt(Ni)}function Or(t,s){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Nv(o)),xt!==null)for(o=xt.return;o!==null;){var c=o;switch(wh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ml();break;case 3:bi(),tt(sn),tt(Ut),Mh();break;case 5:Oh(c);break;case 4:bi();break;case 13:tt(ut);break;case 19:tt(ut);break;case 10:Ch(c.type._context);break;case 22:case 23:hd()}o=o.return}if(Dt=t,xt=t=ar(t.current,null),qt=kn=s,Tt=0,ia=null,rd=ql=Ar=0,an=oa=null,Cr!==null){for(s=0;s<Cr.length;s++)if(o=Cr[s],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,p=o.pending;if(p!==null){var v=p.next;p.next=d,c.next=v}o.pending=c}Cr=null}return t}function pg(t,s){do{var o=xt;try{if(Th(),Nl.current=Ol,El){for(var c=ht.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}El=!1}if(Er=0,At=bt=ht=null,Jo=!1,ea=0,sd.current=null,o===null||o.return===null){Tt=1,ia=s,xt=null;break}e:{var p=t,v=o.return,T=o,R=s;if(s=qt,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var V=R,te=T,se=te.tag;if((te.mode&1)===0&&(se===0||se===11||se===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ye=Lm(v);if(ye!==null){ye.flags&=-257,Vm(ye,v,T,p,s),ye.mode&1&&qm(p,V,s),s=ye,R=V;var we=s.updateQueue;if(we===null){var Se=new Set;Se.add(R),s.updateQueue=Se}else we.add(R);break e}else{if((s&1)===0){qm(p,V,s),dd();break e}R=Error(n(426))}}else if(ot&&T.mode&1){var vt=Lm(v);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Vm(vt,v,T,p,s),Sh(Ti(R,T));break e}}p=R=Ti(R,T),Tt!==4&&(Tt=2),oa===null?oa=[p]:oa.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var I=Im(p,R,s);cm(p,I);break e;case 1:T=R;var M=p.type,q=p.stateNode;if((p.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(sr===null||!sr.has(q)))){p.flags|=65536,s&=-s,p.lanes|=s;var ie=Fm(p,T,s);cm(p,ie);break e}}p=p.return}while(p!==null)}yg(o)}catch(be){s=be,xt===o&&o!==null&&(xt=o=o.return);continue}break}while(!0)}function mg(){var t=Fl.current;return Fl.current=Ol,t===null?Ol:t}function dd(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Dt===null||(Ar&268435455)===0&&(ql&268435455)===0||or(Dt,qt)}function Wl(t,s){var o=Be;Be|=2;var c=mg();(Dt!==t||qt!==s)&&(As=null,Or(t,s));do try{Kv();break}catch(d){pg(t,d)}while(!0);if(Th(),Be=o,Fl.current=c,xt!==null)throw Error(n(261));return Dt=null,qt=0,Tt}function Kv(){for(;xt!==null;)gg(xt)}function Jv(){for(;xt!==null&&!b0();)gg(xt)}function gg(t){var s=wg(t.alternate,t,kn);t.memoizedProps=t.pendingProps,s===null?yg(t):xt=s,sd.current=null}function yg(t){var s=t;do{var o=s.alternate;if(t=s.return,(s.flags&32768)===0){if(o=$v(o,s,kn),o!==null){xt=o;return}}else{if(o=Gv(o,s),o!==null){o.flags&=32767,xt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,xt=null;return}}if(s=s.sibling,s!==null){xt=s;return}xt=s=t}while(s!==null);Tt===0&&(Tt=5)}function Rr(t,s,o){var c=$e,d=jn.transition;try{jn.transition=null,$e=1,ew(t,s,o,c)}finally{jn.transition=d,$e=c}return null}function ew(t,s,o,c){do Ai();while(rr!==null);if((Be&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(P0(t,p),t===Dt&&(xt=Dt=null,qt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Vl||(Vl=!0,xg(Qa,function(){return Ai(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=jn.transition,jn.transition=null;var v=$e;$e=1;var T=Be;Be|=4,sd.current=null,Qv(t,o),ag(o,t),wv(dh),tl=!!hh,dh=hh=null,t.current=o,Xv(o),T0(),Be=T,$e=v,jn.transition=p}else t.current=o;if(Vl&&(Vl=!1,rr=t,zl=d),p=t.pendingLanes,p===0&&(sr=null),E0(o.stateNode),ln(t,_t()),s!==null)for(c=t.onRecoverableError,o=0;o<s.length;o++)d=s[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Ll)throw Ll=!1,t=od,od=null,t;return(zl&1)!==0&&t.tag!==0&&Ai(),p=t.pendingLanes,(p&1)!==0?t===ad?aa++:(aa=0,ad=t):aa=0,Js(),null}function Ai(){if(rr!==null){var t=ip(zl),s=jn.transition,o=$e;try{if(jn.transition=null,$e=16>t?16:t,rr===null)var c=!1;else{if(t=rr,rr=null,zl=0,(Be&6)!==0)throw Error(n(331));var d=Be;for(Be|=4,_e=t.current;_e!==null;){var p=_e,v=p.child;if((_e.flags&16)!==0){var T=p.deletions;if(T!==null){for(var R=0;R<T.length;R++){var V=T[R];for(_e=V;_e!==null;){var te=_e;switch(te.tag){case 0:case 11:case 15:ra(8,te,p)}var se=te.child;if(se!==null)se.return=te,_e=se;else for(;_e!==null;){te=_e;var ee=te.sibling,ye=te.return;if(ng(te),te===V){_e=null;break}if(ee!==null){ee.return=ye,_e=ee;break}_e=ye}}}var we=p.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var vt=Se.sibling;Se.sibling=null,Se=vt}while(Se!==null)}}_e=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,_e=v;else e:for(;_e!==null;){if(p=_e,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ra(9,p,p.return)}var I=p.sibling;if(I!==null){I.return=p.return,_e=I;break e}_e=p.return}}var M=t.current;for(_e=M;_e!==null;){v=_e;var q=v.child;if((v.subtreeFlags&2064)!==0&&q!==null)q.return=v,_e=q;else e:for(v=M;_e!==null;){if(T=_e,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Il(9,T)}}catch(be){pt(T,T.return,be)}if(T===v){_e=null;break e}var ie=T.sibling;if(ie!==null){ie.return=T.return,_e=ie;break e}_e=T.return}}if(Be=d,Js(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Xa,t)}catch(be){}c=!0}return c}finally{$e=o,jn.transition=s}}return!1}function _g(t,s,o){s=Ti(o,s),s=Im(t,s,1),t=tr(t,s,1),s=Zt(),t!==null&&(Oo(t,1,s),ln(t,s))}function pt(t,s,o){if(t.tag===3)_g(t,t,o);else for(;s!==null;){if(s.tag===3){_g(s,t,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(sr===null||!sr.has(c))){t=Ti(o,t),t=Fm(s,t,1),s=tr(s,t,1),t=Zt(),s!==null&&(Oo(s,1,t),ln(s,t));break}}s=s.return}}function tw(t,s,o){var c=t.pingCache;c!==null&&c.delete(s),s=Zt(),t.pingedLanes|=t.suspendedLanes&o,Dt===t&&(qt&o)===o&&(Tt===4||Tt===3&&(qt&130023424)===qt&&500>_t()-id?Or(t,0):rd|=o),ln(t,s)}function vg(t,s){s===0&&((t.mode&1)===0?s=1:(s=Za,Za<<=1,(Za&130023424)===0&&(Za=4194304)));var o=Zt();t=Cs(t,s),t!==null&&(Oo(t,s,o),ln(t,o))}function nw(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),vg(t,o)}function sw(t,s){var o=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),vg(t,o)}var wg;wg=function(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps||sn.current)on=!0;else{if((t.lanes&o)===0&&(s.flags&128)===0)return on=!1,Wv(t,s,o);on=(t.flags&131072)!==0}else on=!1,ot&&(s.flags&1048576)!==0&&Jp(s,vl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Pl(t,s),t=s.pendingProps;var d=yi(s,Ut.current);Si(s,o),d=Ih(null,s,c,t,d,o);var p=Fh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(c)?(p=!0,gl(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ah(s),d.updater=Rl,s.stateNode=d,d._reactInternals=s,Uh(s,c,t,o),s=Hh(null,s,c,!0,p,o)):(s.tag=0,ot&&p&&vh(s),Yt(null,s,d,o),s=s.child),s;case 16:c=s.elementType;e:{switch(Pl(t,s),t=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=iw(c),t=$n(c,t),d){case 0:s=Gh(null,s,c,t,o);break e;case 1:s=Gm(null,s,c,t,o);break e;case 11:s=zm(null,s,c,t,o);break e;case 14:s=Bm(null,s,c,$n(c.type,t),o);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:$n(c,d),Gh(t,s,c,d,o);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:$n(c,d),Gm(t,s,c,d,o);case 3:e:{if(Hm(s),t===null)throw Error(n(387));c=s.pendingProps,p=s.memoizedState,d=p.element,lm(t,s),Tl(s,c,null,o);var v=s.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=Ti(Error(n(423)),s),s=Qm(t,s,c,o,d);break e}else if(c!==d){d=Ti(Error(n(424)),s),s=Qm(t,s,c,o,d);break e}else for(xn=Ys(s.stateNode.containerInfo.firstChild),wn=s,ot=!0,Wn=null,o=om(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(wi(),c===d){s=Es(t,s,o);break e}Yt(t,s,c,o)}s=s.child}return s;case 5:return hm(s),t===null&&kh(s),c=s.type,d=s.pendingProps,p=t!==null?t.memoizedProps:null,v=d.children,fh(c,d)?v=null:p!==null&&fh(c,p)&&(s.flags|=32),$m(t,s),Yt(t,s,v,o),s.child;case 6:return t===null&&kh(s),null;case 13:return Xm(t,s,o);case 4:return Dh(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=xi(s,null,c,o):Yt(t,s,c,o),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:$n(c,d),zm(t,s,c,d,o);case 7:return Yt(t,s,s.pendingProps,o),s.child;case 8:return Yt(t,s,s.pendingProps.children,o),s.child;case 12:return Yt(t,s,s.pendingProps.children,o),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,p=s.memoizedProps,v=d.value,Ze(kl,c._currentValue),c._currentValue=v,p!==null)if(Un(p.value,v)){if(p.children===d.children&&!sn.current){s=Es(t,s,o);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var T=p.dependencies;if(T!==null){v=p.child;for(var R=T.firstContext;R!==null;){if(R.context===c){if(p.tag===1){R=Ns(-1,o&-o),R.tag=2;var V=p.updateQueue;if(V!==null){V=V.shared;var te=V.pending;te===null?R.next=R:(R.next=te.next,te.next=R),V.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),Nh(p.return,o,s),T.lanes|=o;break}R=R.next}}else if(p.tag===10)v=p.type===s.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,T=v.alternate,T!==null&&(T.lanes|=o),Nh(v,o,s),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===s){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Yt(t,s,d.children,o),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,Si(s,o),d=Mn(d),c=c(d),s.flags|=1,Yt(t,s,c,o),s.child;case 14:return c=s.type,d=$n(c,s.pendingProps),d=$n(c.type,d),Bm(t,s,c,d,o);case 15:return Um(t,s,s.type,s.pendingProps,o);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:$n(c,d),Pl(t,s),s.tag=1,rn(c)?(t=!0,gl(s)):t=!1,Si(s,o),Pm(s,c,d),Uh(s,c,d,o),Hh(null,s,c,!0,t,o);case 19:return Zm(t,s,o);case 22:return Wm(t,s,o)}throw Error(n(156,s.tag))};function xg(t,s){return ep(t,s)}function rw(t,s,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,s,o,c){return new rw(t,s,o,c)}function fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iw(t){if(typeof t=="function")return fd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W)return 11;if(t===ue)return 14}return 2}function ar(t,s){var o=t.alternate;return o===null?(o=In(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function $l(t,s,o,c,d,p){var v=2;if(c=t,typeof t=="function")fd(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case O:return Mr(o.children,d,p,s);case E:v=8,d|=8;break;case $:return t=In(12,o,s,d|2),t.elementType=$,t.lanes=p,t;case de:return t=In(13,o,s,d),t.elementType=de,t.lanes=p,t;case G:return t=In(19,o,s,d),t.elementType=G,t.lanes=p,t;case ce:return Gl(o,d,p,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case Q:v=9;break e;case W:v=11;break e;case ue:v=14;break e;case oe:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return s=In(v,o,s,d),s.elementType=t,s.type=c,s.lanes=p,s}function Mr(t,s,o,c){return t=In(7,t,c,s),t.lanes=o,t}function Gl(t,s,o,c){return t=In(22,t,c,s),t.elementType=ce,t.lanes=o,t.stateNode={isHidden:!1},t}function pd(t,s,o){return t=In(6,t,null,s),t.lanes=o,t}function md(t,s,o){return s=In(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function ow(t,s,o,c,d){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bu(0),this.expirationTimes=Bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function gd(t,s,o,c,d,p,v,T,R){return t=new ow(t,s,o,T,R),s===1?(s=1,p===!0&&(s|=8)):s=0,p=In(3,null,null,s),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(p),t}function aw(t,s,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:c==null?null:""+c,children:t,containerInfo:s,implementation:o}}function kg(t){if(!t)return Ks;t=t._reactInternals;e:{if(xr(t)!==t||t.tag!==1)throw Error(n(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(rn(o))return Yp(t,o,s)}return s}function Sg(t,s,o,c,d,p,v,T,R){return t=gd(o,c,!0,t,d,p,v,T,R),t.context=kg(null),o=t.current,c=Zt(),d=ir(o),p=Ns(c,d),p.callback=s!=null?s:null,tr(o,p,d),t.current.lanes=d,Oo(t,d,c),ln(t,c),t}function Hl(t,s,o,c){var d=s.current,p=Zt(),v=ir(d);return o=kg(o),s.context===null?s.context=o:s.pendingContext=o,s=Ns(p,v),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=tr(d,s,v),t!==null&&(Qn(t,d,v,p),bl(t,d,v)),v}function Ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bg(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function yd(t,s){bg(t,s),(t=t.alternate)&&bg(t,s)}function lw(){return null}var Tg=typeof reportError=="function"?reportError:function(t){console.error(t)};function _d(t){this._internalRoot=t}Xl.prototype.render=_d.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(n(409));Hl(t,s,null,null)},Xl.prototype.unmount=_d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Dr(function(){Hl(null,t,null,null)}),s[ks]=null}};function Xl(t){this._internalRoot=t}Xl.prototype.unstable_scheduleHydration=function(t){if(t){var s=lp();t={blockedOn:null,target:t,priority:s};for(var o=0;o<Hs.length&&s!==0&&s<Hs[o].priority;o++);Hs.splice(o,0,t),o===0&&hp(t)}};function vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function cw(t,s,o,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var V=Ql(v);p.call(V)}}var v=Sg(s,c,t,0,null,!1,!1,"",Cg);return t._reactRootContainer=v,t[ks]=v.current,$o(t.nodeType===8?t.parentNode:t),Dr(),v}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var T=c;c=function(){var V=Ql(R);T.call(V)}}var R=gd(t,0,!1,null,null,!1,!1,"",Cg);return t._reactRootContainer=R,t[ks]=R.current,$o(t.nodeType===8?t.parentNode:t),Dr(function(){Hl(s,R,o,c)}),R}function Zl(t,s,o,c,d){var p=o._reactRootContainer;if(p){var v=p;if(typeof d=="function"){var T=d;d=function(){var R=Ql(v);T.call(R)}}Hl(s,v,t,d)}else v=cw(o,s,t,d,c);return Ql(v)}op=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var o=Do(s.pendingLanes);o!==0&&(Uu(s,o|1),ln(s,_t()),(Be&6)===0&&(Ei=_t()+500,Js()))}break;case 13:Dr(function(){var c=Cs(t,1);if(c!==null){var d=Zt();Qn(c,t,1,d)}}),yd(t,1)}},Wu=function(t){if(t.tag===13){var s=Cs(t,134217728);if(s!==null){var o=Zt();Qn(s,t,134217728,o)}yd(t,134217728)}},ap=function(t){if(t.tag===13){var s=ir(t),o=Cs(t,s);if(o!==null){var c=Zt();Qn(o,t,s,c)}yd(t,s)}},lp=function(){return $e},cp=function(t,s){var o=$e;try{return $e=t,s()}finally{$e=o}},Iu=function(t,s,o){switch(s){case"input":if(Ye(t,o),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==t&&c.form===t.form){var d=pl(c);if(!d)throw Error(n(90));he(c),Ye(c,d)}}}break;case"textarea":ii(t,o);break;case"select":s=o.value,s!=null&&St(t,!!o.multiple,s,!1)}},Hf=ud,Qf=Dr;var uw={usingClientEntryPoint:!1,Events:[Qo,mi,pl,$f,Gf,ud]},la={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hw={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kf(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||lw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Xa=Kl.inject(hw),os=Kl}catch(t){}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uw,cn.createPortal=function(t,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(s))throw Error(n(200));return aw(t,s,null,o)},cn.createRoot=function(t,s){if(!vd(t))throw Error(n(299));var o=!1,c="",d=Tg;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=gd(t,1,!1,null,null,o,!1,c,d),t[ks]=s.current,$o(t.nodeType===8?t.parentNode:t),new _d(s)},cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Kf(s),t=t===null?null:t.stateNode,t},cn.flushSync=function(t){return Dr(t)},cn.hydrate=function(t,s,o){if(!Yl(s))throw Error(n(200));return Zl(null,t,s,!0,o)},cn.hydrateRoot=function(t,s,o){if(!vd(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,d=!1,p="",v=Tg;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),s=Sg(s,null,t,1,o!=null?o:null,d,!1,p,v),t[ks]=s.current,$o(t),c)for(t=0;t<c.length;t++)o=c[t],d=o._getVersion,d=d(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,d]:s.mutableSourceEagerHydrationData.push(o,d);return new Xl(s)},cn.render=function(t,s,o){if(!Yl(s))throw Error(n(200));return Zl(null,t,s,!1,o)},cn.unmountComponentAtNode=function(t){if(!Yl(t))throw Error(n(40));return t._reactRootContainer?(Dr(function(){Zl(null,null,t,!1,function(){t._reactRootContainer=null,t[ks]=null})}),!0):!1},cn.unstable_batchedUpdates=ud,cn.unstable_renderSubtreeIntoContainer=function(t,s,o,c){if(!Yl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Zl(t,s,o,!1,c)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Lg;function Tw(){if(Lg)return Sd.exports;Lg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sd.exports=bw(),Sd.exports}var Vg;function Cw(){if(Vg)return ec;Vg=1;var i=Tw();return ec.createRoot=i.createRoot,ec.hydrateRoot=i.hydrateRoot,ec}var Nw=Cw();const Ew=_w(Nw);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),We=(i,e)=>{const n=je.forwardRef((y,g)=>{var w=y,{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:h="",children:f}=w,m=Oi(w,["color","size","strokeWidth","absoluteStrokeWidth","className","children"]);return je.createElement("svg",K(xe(K({ref:g},Aw),{width:a,height:a,stroke:r,strokeWidth:u?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Dw(i)}`,h].join(" ")}),m),[...e.map(([S,x])=>je.createElement(S,x)),...Array.isArray(f)?f:[f]])});return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=We("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=We("Drum",[["path",{d:"m2 2 8 8",key:"1v6059"}],["path",{d:"m22 2-8 8",key:"173r8a"}],["ellipse",{cx:"12",cy:"9",rx:"10",ry:"5",key:"liohsx"}],["path",{d:"M7 13.4v7.9",key:"1yi6u9"}],["path",{d:"M12 14v8",key:"1tn2tj"}],["path",{d:"M17 13.4v7.9",key:"eqz2v3"}],["path",{d:"M2 9v8a10 5 0 0 0 20 0V9",key:"1750ul"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=We("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=We("Guitar",[["path",{d:"m20 7 1.7-1.7a1 1 0 0 0 0-1.4l-1.6-1.6a1 1 0 0 0-1.4 0L17 4v3Z",key:"15ixgv"}],["path",{d:"m17 7-5.1 5.1",key:"l9guh7"}],["circle",{cx:"11.5",cy:"12.5",r:".5",key:"1evg0a"}],["path",{d:"M6 12a2 2 0 0 0 1.8-1.2l.4-.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4",key:"x9fguj"}],["path",{d:"m6 16 2 2",key:"16qmzd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=We("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=We("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=We("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=We("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=We("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=We("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=We("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=We("Piano",[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=We("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=We("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=We("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=We("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=We("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=We("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=We("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=We("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=We("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=We("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=We("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Hw=()=>{const[i,e]=je.useState(!1),n=()=>e(!i);return _.jsx("header",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"flex justify-between items-center h-16",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-accent-600 p-2 rounded-lg",children:_.jsx(qr,{className:"h-6 w-6 text-white"})}),_.jsx("span",{className:"text-xl font-bold gradient-text",children:"Portal AI Music"})]}),_.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[_.jsx("a",{href:"#features",className:"text-gray-700 hover:text-primary-600 transition-colors duration-200",children:"Features"}),_.jsx("a",{href:"#generator",className:"text-gray-700 hover:text-primary-600 transition-colors duration-200",children:"Generator"}),_.jsx("a",{href:"#pricing",className:"text-gray-700 hover:text-primary-600 transition-colors duration-200",children:"Pricing"}),_.jsx("button",{className:"btn-secondary",children:"Sign In"}),_.jsx("button",{className:"btn-primary",children:"Get Started"})]}),_.jsx("button",{onClick:n,className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:i?_.jsx($w,{className:"h-6 w-6"}):_.jsx(Fw,{className:"h-6 w-6"})})]}),i&&_.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 animate-fade-in",children:_.jsxs("nav",{className:"flex flex-col space-y-4",children:[_.jsx("a",{href:"#features",className:"text-gray-700 hover:text-primary-600 transition-colors duration-200",children:"Features"}),_.jsx("a",{href:"#generator",className:"text-gray-700 hover:text-primary-600 transition-colors duration-200",children:"Generator"}),_.jsx("a",{href:"#pricing",className:"text-gray-700 hover:text-primary-600 transition-colors duration-200",children:"Pricing"}),_.jsxs("div",{className:"flex flex-col space-y-2 pt-4",children:[_.jsx("button",{className:"btn-secondary",children:"Sign In"}),_.jsx("button",{className:"btn-primary",children:"Get Started"})]})]})})]})})},Qw=()=>_.jsxs("section",{className:"relative bg-gradient-to-br from-primary-50 via-white to-accent-50 py-20 overflow-hidden",children:[_.jsxs("div",{className:"absolute inset-0",children:[_.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse-slow"}),_.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-accent-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse-slow animation-delay-2000"}),_.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-primary-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse-slow animation-delay-4000"})]}),_.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 mb-8 shadow-lg",children:[_.jsx(zw,{className:"h-4 w-4 text-accent-600"}),_.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI-Powered Music Generation"})]}),_.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold mb-6 animate-fade-in",children:["Create ",_.jsx("span",{className:"gradient-text",children:"AI Music"}),_.jsx("br",{}),"in Seconds"]}),_.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto animate-slide-up",children:"Generate royalty-free music for your videos, podcasts, and content using advanced AI technology. No musical experience required."}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12 animate-slide-up",children:[_.jsxs("button",{className:"btn-primary flex items-center space-x-2 text-lg px-8 py-4",children:[_.jsx(nf,{className:"h-5 w-5"}),_.jsx("span",{children:"Start Creating Music"})]}),_.jsxs("button",{className:"btn-secondary flex items-center space-x-2 text-lg px-8 py-4",children:[_.jsx(Na,{className:"h-5 w-5"}),_.jsx("span",{children:"Watch Demo"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[_.jsxs("div",{className:"text-center animate-fade-in",children:[_.jsx("div",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"100K+"}),_.jsx("div",{className:"text-gray-600",children:"Tracks Generated"})]}),_.jsxs("div",{className:"text-center animate-fade-in",children:[_.jsx("div",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"50+"}),_.jsx("div",{className:"text-gray-600",children:"Music Styles"})]}),_.jsxs("div",{className:"text-center animate-fade-in",children:[_.jsx("div",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"10K+"}),_.jsx("div",{className:"text-gray-600",children:"Happy Creators"})]})]})]})})]}),Xw=()=>{const i=[{icon:Ww,title:"AI-Powered Generation",description:"Advanced AI models create unique, high-quality music based on your text descriptions.",color:"from-primary-500 to-primary-600"},{icon:Dy,title:"Instant Creation",description:"Generate professional music tracks in seconds, not hours. Perfect for tight deadlines.",color:"from-accent-500 to-accent-600"},{icon:Vw,title:"Royalty-Free",description:"All generated music is 100% royalty-free. Use it anywhere without copyright concerns.",color:"from-green-500 to-green-600"},{icon:qw,title:"Multiple Genres",description:"From pop and rock to classical and electronic - create music in any style you need.",color:"from-orange-500 to-orange-600"},{icon:hc,title:"High-Quality Export",description:"Download your tracks in multiple formats including WAV, MP3, and FLAC.",color:"from-blue-500 to-blue-600"},{icon:Pw,title:"Professional Sound",description:"Studio-quality audio output that sounds like it was created by professional musicians.",color:"from-purple-500 to-purple-600"},{icon:Na,title:"Fast Processing",description:"Powered by cutting-edge cloud infrastructure for lightning-fast music generation.",color:"from-yellow-500 to-yellow-600"},{icon:Mw,title:"Global Access",description:"Access your music generator from anywhere in the world, 24/7 availability.",color:"from-teal-500 to-teal-600"}];return _.jsx("section",{id:"features",className:"py-20 bg-white",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4",children:["Powerful ",_.jsx("span",{className:"gradient-text",children:"Features"})]}),_.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to create professional music with AI. No musical training required - just describe what you want."})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((e,n)=>{const r=e.icon;return _.jsxs("div",{className:"card p-6 group hover:scale-105 transition-all duration-300",children:[_.jsx("div",{className:`inline-flex p-3 rounded-lg bg-gradient-to-r ${e.color} mb-4 group-hover:scale-110 transition-transform duration-300`,children:_.jsx(r,{className:"h-6 w-6 text-white"})}),_.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900",children:e.title}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},n)})}),_.jsx("div",{className:"text-center mt-16",children:_.jsx("button",{className:"btn-primary text-lg px-8 py-4",children:"Try All Features Free"})})]})})};function My(i,e){return function(){return i.apply(e,arguments)}}const{toString:Yw}=Object.prototype,{getPrototypeOf:sf}=Object,{iterator:hu,toStringTag:Py}=Symbol,du=(i=>e=>{const n=Yw.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ss=i=>(i=i.toLowerCase(),e=>du(e)===i),fu=i=>e=>typeof e===i,{isArray:uo}=Array,pa=fu("undefined");function Zw(i){return i!==null&&!pa(i)&&i.constructor!==null&&!pa(i.constructor)&&pn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const jy=ss("ArrayBuffer");function Kw(i){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&jy(i.buffer),e}const Jw=fu("string"),pn=fu("function"),Iy=fu("number"),pu=i=>i!==null&&typeof i=="object",ex=i=>i===!0||i===!1,oc=i=>{if(du(i)!=="object")return!1;const e=sf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Py in i)&&!(hu in i)},tx=ss("Date"),nx=ss("File"),sx=ss("Blob"),rx=ss("FileList"),ix=i=>pu(i)&&pn(i.pipe),ox=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||pn(i.append)&&((e=du(i))==="formdata"||e==="object"&&pn(i.toString)&&i.toString()==="[object FormData]"))},ax=ss("URLSearchParams"),[lx,cx,ux,hx]=["ReadableStream","Request","Response","Headers"].map(ss),dx=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ea(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i=="undefined")return;let r,a;if(typeof i!="object"&&(i=[i]),uo(i))for(r=0,a=i.length;r<a;r++)e.call(null,i[r],r,i);else{const l=n?Object.getOwnPropertyNames(i):Object.keys(i),u=l.length;let h;for(r=0;r<u;r++)h=l[r],e.call(null,i[h],h,i)}}function Fy(i,e){e=e.toLowerCase();const n=Object.keys(i);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const Ir=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:globalThis,qy=i=>!pa(i)&&i!==Ir;function Id(){const{caseless:i}=qy(this)&&this||{},e={},n=(r,a)=>{const l=i&&Fy(e,a)||a;oc(e[l])&&oc(r)?e[l]=Id(e[l],r):oc(r)?e[l]=Id({},r):uo(r)?e[l]=r.slice():e[l]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ea(arguments[r],n);return e}const fx=(i,e,n,{allOwnKeys:r}={})=>(Ea(e,(a,l)=>{n&&pn(a)?i[l]=My(a,n):i[l]=a},{allOwnKeys:r}),i),px=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),mx=(i,e,n,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},gx=(i,e,n,r)=>{let a,l,u;const h={};if(e=e||{},i==null)return e;do{for(a=Object.getOwnPropertyNames(i),l=a.length;l-- >0;)u=a[l],(!r||r(u,i,e))&&!h[u]&&(e[u]=i[u],h[u]=!0);i=n!==!1&&sf(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},yx=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const r=i.indexOf(e,n);return r!==-1&&r===n},_x=i=>{if(!i)return null;if(uo(i))return i;let e=i.length;if(!Iy(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},vx=(i=>e=>i&&e instanceof i)(typeof Uint8Array!="undefined"&&sf(Uint8Array)),wx=(i,e)=>{const r=(i&&i[hu]).call(i);let a;for(;(a=r.next())&&!a.done;){const l=a.value;e.call(i,l[0],l[1])}},xx=(i,e)=>{let n;const r=[];for(;(n=i.exec(e))!==null;)r.push(n);return r},kx=ss("HTMLFormElement"),Sx=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),zg=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),bx=ss("RegExp"),Ly=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),r={};Ea(n,(a,l)=>{let u;(u=e(a,l,i))!==!1&&(r[l]=u||a)}),Object.defineProperties(i,r)},Tx=i=>{Ly(i,(e,n)=>{if(pn(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=i[n];if(pn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Cx=(i,e)=>{const n={},r=a=>{a.forEach(l=>{n[l]=!0})};return uo(i)?r(i):r(String(i).split(e)),n},Nx=()=>{},Ex=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function Ax(i){return!!(i&&pn(i.append)&&i[Py]==="FormData"&&i[hu])}const Dx=i=>{const e=new Array(10),n=(r,a)=>{if(pu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const l=uo(r)?[]:{};return Ea(r,(u,h)=>{const f=n(u,a+1);!pa(f)&&(l[h]=f)}),e[a]=void 0,l}}return r};return n(i,0)},Ox=ss("AsyncFunction"),Rx=i=>i&&(pu(i)||pn(i))&&pn(i.then)&&pn(i.catch),Vy=((i,e)=>i?setImmediate:e?((n,r)=>(Ir.addEventListener("message",({source:a,data:l})=>{a===Ir&&l===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Ir.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",pn(Ir.postMessage)),Mx=typeof queueMicrotask!="undefined"?queueMicrotask.bind(Ir):typeof process!="undefined"&&process.nextTick||Vy,Px=i=>i!=null&&pn(i[hu]),z={isArray:uo,isArrayBuffer:jy,isBuffer:Zw,isFormData:ox,isArrayBufferView:Kw,isString:Jw,isNumber:Iy,isBoolean:ex,isObject:pu,isPlainObject:oc,isReadableStream:lx,isRequest:cx,isResponse:ux,isHeaders:hx,isUndefined:pa,isDate:tx,isFile:nx,isBlob:sx,isRegExp:bx,isFunction:pn,isStream:ix,isURLSearchParams:ax,isTypedArray:vx,isFileList:rx,forEach:Ea,merge:Id,extend:fx,trim:dx,stripBOM:px,inherits:mx,toFlatObject:gx,kindOf:du,kindOfTest:ss,endsWith:yx,toArray:_x,forEachEntry:wx,matchAll:xx,isHTMLForm:kx,hasOwnProperty:zg,hasOwnProp:zg,reduceDescriptors:Ly,freezeMethods:Tx,toObjectSet:Cx,toCamelCase:Sx,noop:Nx,toFiniteNumber:Ex,findKey:Fy,global:Ir,isContextDefined:qy,isSpecCompliantForm:Ax,toJSONObject:Dx,isAsyncFn:Ox,isThenable:Rx,setImmediate:Vy,asap:Mx,isIterable:Px};function Fe(i,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}z.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const zy=Fe.prototype,By={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{By[i]={value:i}});Object.defineProperties(Fe,By);Object.defineProperty(zy,"isAxiosError",{value:!0});Fe.from=(i,e,n,r,a,l)=>{const u=Object.create(zy);return z.toFlatObject(i,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Fe.call(u,i.message,e,n,r,a),u.cause=i,u.name=i.name,l&&Object.assign(u,l),u};const jx=null;function Fd(i){return z.isPlainObject(i)||z.isArray(i)}function Uy(i){return z.endsWith(i,"[]")?i.slice(0,-2):i}function Bg(i,e,n){return i?i.concat(e).map(function(a,l){return a=Uy(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function Ix(i){return z.isArray(i)&&!i.some(Fd)}const Fx=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function mu(i,e,n){if(!z.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,k){return!z.isUndefined(k[b])});const r=n.metaTokens,a=n.visitor||g,l=n.dots,u=n.indexes,f=(n.Blob||typeof Blob!="undefined"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(a))throw new TypeError("visitor must be a function");function m(x){if(x===null)return"";if(z.isDate(x))return x.toISOString();if(z.isBoolean(x))return x.toString();if(!f&&z.isBlob(x))throw new Fe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(x)||z.isTypedArray(x)?f&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function g(x,b,k){let C=x;if(x&&!k&&typeof x=="object"){if(z.endsWith(b,"{}"))b=r?b:b.slice(0,-2),x=JSON.stringify(x);else if(z.isArray(x)&&Ix(x)||(z.isFileList(x)||z.endsWith(b,"[]"))&&(C=z.toArray(x)))return b=Uy(b),C.forEach(function(L,U){!(z.isUndefined(L)||L===null)&&e.append(u===!0?Bg([b],U,l):u===null?b:b+"[]",m(L))}),!1}return Fd(x)?!0:(e.append(Bg(k,b,l),m(x)),!1)}const y=[],w=Object.assign(Fx,{defaultVisitor:g,convertValue:m,isVisitable:Fd});function S(x,b){if(!z.isUndefined(x)){if(y.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));y.push(x),z.forEach(x,function(C,j){(!(z.isUndefined(C)||C===null)&&a.call(e,C,z.isString(j)?j.trim():j,b,w))===!0&&S(C,b?b.concat(j):[j])}),y.pop()}}if(!z.isObject(i))throw new TypeError("data must be an object");return S(i),e}function Ug(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rf(i,e){this._pairs=[],i&&mu(i,this,e)}const Wy=rf.prototype;Wy.append=function(e,n){this._pairs.push([e,n])};Wy.toString=function(e){const n=e?function(r){return e.call(this,r,Ug)}:Ug;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function qx(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $y(i,e,n){if(!e)return i;const r=n&&n.encode||qx;z.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=z.isURLSearchParams(e)?e.toString():new rf(e,n).toString(r),l){const u=i.indexOf("#");u!==-1&&(i=i.slice(0,u)),i+=(i.indexOf("?")===-1?"?":"&")+l}return i}class Wg{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Gy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lx=typeof URLSearchParams!="undefined"?URLSearchParams:rf,Vx=typeof FormData!="undefined"?FormData:null,zx=typeof Blob!="undefined"?Blob:null,Bx={isBrowser:!0,classes:{URLSearchParams:Lx,FormData:Vx,Blob:zx},protocols:["http","https","file","blob","url","data"]},of=typeof window!="undefined"&&typeof document!="undefined",qd=typeof navigator=="object"&&navigator||void 0,Ux=of&&(!qd||["ReactNative","NativeScript","NS"].indexOf(qd.product)<0),Wx=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$x=of&&window.location.href||"http://localhost",Gx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:of,hasStandardBrowserEnv:Ux,hasStandardBrowserWebWorkerEnv:Wx,navigator:qd,origin:$x},Symbol.toStringTag,{value:"Module"})),Ht=K(K({},Gx),Bx);function Hx(i,e){return mu(i,new Ht.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,l){return Ht.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function Qx(i){return z.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Xx(i){const e={},n=Object.keys(i);let r;const a=n.length;let l;for(r=0;r<a;r++)l=n[r],e[l]=i[l];return e}function Hy(i){function e(n,r,a,l){let u=n[l++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=l>=n.length;return u=!u&&z.isArray(a)?a.length:u,f?(z.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!h):((!a[u]||!z.isObject(a[u]))&&(a[u]=[]),e(n,r,a[u],l)&&z.isArray(a[u])&&(a[u]=Xx(a[u])),!h)}if(z.isFormData(i)&&z.isFunction(i.entries)){const n={};return z.forEachEntry(i,(r,a)=>{e(Qx(r),a,n,0)}),n}return null}function Yx(i,e,n){if(z.isString(i))try{return(e||JSON.parse)(i),z.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(i)}const Aa={transitional:Gy,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,l=z.isObject(e);if(l&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return a?JSON.stringify(Hy(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hx(e,this.formSerializer).toString();if((h=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return mu(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),Yx(e)):e}],transformResponse:[function(e){const n=this.transitional||Aa.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Fe.from(h,Fe.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],i=>{Aa.headers[i]={}});const Zx=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kx=i=>{const e={};let n,r,a;return i&&i.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),r=u.substring(a+1).trim(),!(!n||e[n]&&Zx[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$g=Symbol("internals");function ua(i){return i&&String(i).trim().toLowerCase()}function ac(i){return i===!1||i==null?i:z.isArray(i)?i.map(ac):String(i)}function Jx(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(i);)e[r[1]]=r[2];return e}const e1=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Nd(i,e,n,r,a){if(z.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function t1(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function n1(i,e){const n=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+n,{value:function(a,l,u){return this[r].call(this,e,a,l,u)},configurable:!0})})}let mn=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function l(h,f,m){const g=ua(f);if(!g)throw new Error("header name must be a non-empty string");const y=z.findKey(a,g);(!y||a[y]===void 0||m===!0||m===void 0&&a[y]!==!1)&&(a[y||f]=ac(h))}const u=(h,f)=>z.forEach(h,(m,g)=>l(m,g,f));if(z.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(z.isString(e)&&(e=e.trim())&&!e1(e))u(Kx(e),n);else if(z.isObject(e)&&z.isIterable(e)){let h={},f,m;for(const g of e){if(!z.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[m=g[0]]=(f=h[m])?z.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(h,n)}else e!=null&&l(n,e,r);return this}get(e,n){if(e=ua(e),e){const r=z.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return Jx(a);if(z.isFunction(n))return n.call(this,a,r);if(z.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ua(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Nd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function l(u){if(u=ua(u),u){const h=z.findKey(r,u);h&&(!n||Nd(r,r[h],h,n))&&(delete r[h],a=!0)}}return z.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const l=n[r];(!e||Nd(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,r={};return z.forEach(this,(a,l)=>{const u=z.findKey(r,l);if(u){n[u]=ac(a),delete n[l];return}const h=e?t1(l):String(l).trim();h!==l&&delete n[l],n[h]=ac(a),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return z.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[$g]=this[$g]={accessors:{}}).accessors,a=this.prototype;function l(u){const h=ua(u);r[h]||(n1(a,u),r[h]=!0)}return z.isArray(e)?e.forEach(l):l(e),this}};mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(mn.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(r){this[n]=r}}});z.freezeMethods(mn);function Ed(i,e){const n=this||Aa,r=e||n,a=mn.from(r.headers);let l=r.data;return z.forEach(i,function(h){l=h.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function Qy(i){return!!(i&&i.__CANCEL__)}function ho(i,e,n){Fe.call(this,i==null?"canceled":i,Fe.ERR_CANCELED,e,n),this.name="CanceledError"}z.inherits(ho,Fe,{__CANCEL__:!0});function Xy(i,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?i(n):e(new Fe("Request failed with status code "+n.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function s1(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function r1(i,e){i=i||10;const n=new Array(i),r=new Array(i);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),g=r[l];u||(u=m),n[a]=f,r[a]=m;let y=l,w=0;for(;y!==a;)w+=n[y++],y=y%i;if(a=(a+1)%i,a===l&&(l=(l+1)%i),m-u<e)return;const S=g&&m-g;return S?Math.round(w*1e3/S):void 0}}function i1(i,e){let n=0,r=1e3/e,a,l;const u=(m,g=Date.now())=>{n=g,a=null,l&&(clearTimeout(l),l=null),i.apply(null,m)};return[(...m)=>{const g=Date.now(),y=g-n;y>=r?u(m,g):(a=m,l||(l=setTimeout(()=>{l=null,u(a)},r-y)))},()=>a&&u(a)]}const dc=(i,e,n=3)=>{let r=0;const a=r1(50,250);return i1(l=>{const u=l.loaded,h=l.lengthComputable?l.total:void 0,f=u-r,m=a(f),g=u<=h;r=u;const y={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:m||void 0,estimated:m&&h&&g?(h-u)/m:void 0,event:l,lengthComputable:h!=null,[e?"download":"upload"]:!0};i(y)},n)},Gg=(i,e)=>{const n=i!=null;return[r=>e[0]({lengthComputable:n,total:i,loaded:r}),e[1]]},Hg=i=>(...e)=>z.asap(()=>i(...e)),o1=Ht.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,Ht.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(Ht.origin),Ht.navigator&&/(msie|trident)/i.test(Ht.navigator.userAgent)):()=>!0,a1=Ht.hasStandardBrowserEnv?{write(i,e,n,r,a,l){const u=[i+"="+encodeURIComponent(e)];z.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),z.isString(r)&&u.push("path="+r),z.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function l1(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function c1(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function Yy(i,e,n){let r=!l1(e);return i&&(r||n==!1)?c1(i,e):e}const Qg=i=>i instanceof mn?K({},i):i;function Br(i,e){e=e||{};const n={};function r(m,g,y,w){return z.isPlainObject(m)&&z.isPlainObject(g)?z.merge.call({caseless:w},m,g):z.isPlainObject(g)?z.merge({},g):z.isArray(g)?g.slice():g}function a(m,g,y,w){if(z.isUndefined(g)){if(!z.isUndefined(m))return r(void 0,m,y,w)}else return r(m,g,y,w)}function l(m,g){if(!z.isUndefined(g))return r(void 0,g)}function u(m,g){if(z.isUndefined(g)){if(!z.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function h(m,g,y){if(y in e)return r(m,g);if(y in i)return r(void 0,m)}const f={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,g,y)=>a(Qg(m),Qg(g),y,!0)};return z.forEach(Object.keys(Object.assign({},i,e)),function(g){const y=f[g]||a,w=y(i[g],e[g],g);z.isUndefined(w)&&y!==h||(n[g]=w)}),n}const Zy=i=>{const e=Br({},i);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:h}=e;e.headers=u=mn.from(u),e.url=$y(Yy(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(z.isFormData(n)){if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[m,...g]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...g].join("; "))}}if(Ht.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&o1(e.url))){const m=a&&l&&a1.read(l);m&&u.set(a,m)}return e},u1=typeof XMLHttpRequest!="undefined",h1=u1&&function(i){return new Promise(function(n,r){const a=Zy(i);let l=a.data;const u=mn.from(a.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:m}=a,g,y,w,S,x;function b(){S&&S(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function C(){if(!k)return;const L=mn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),F={data:!h||h==="text"||h==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:L,config:i,request:k};Xy(function(O){n(O),b()},function(O){r(O),b()},F),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(r(new Fe("Request aborted",Fe.ECONNABORTED,i,k)),k=null)},k.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,i,k)),k=null},k.ontimeout=function(){let U=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const F=a.transitional||Gy;a.timeoutErrorMessage&&(U=a.timeoutErrorMessage),r(new Fe(U,F.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,i,k)),k=null},l===void 0&&u.setContentType(null),"setRequestHeader"in k&&z.forEach(u.toJSON(),function(U,F){k.setRequestHeader(F,U)}),z.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),h&&h!=="json"&&(k.responseType=a.responseType),m&&([w,x]=dc(m,!0),k.addEventListener("progress",w)),f&&k.upload&&([y,S]=dc(f),k.upload.addEventListener("progress",y),k.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(g=L=>{k&&(r(!L||L.type?new ho(null,i,k):L),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const j=s1(a.url);if(j&&Ht.protocols.indexOf(j)===-1){r(new Fe("Unsupported protocol "+j+":",Fe.ERR_BAD_REQUEST,i));return}k.send(l||null)})},d1=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let r=new AbortController,a;const l=function(m){if(!a){a=!0,h();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Fe?g:new ho(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,l(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const h=()=>{i&&(u&&clearTimeout(u),u=null,i.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),i=null)};i.forEach(m=>m.addEventListener("abort",l));const{signal:f}=r;return f.unsubscribe=()=>z.asap(h),f}},f1=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let r=0,a;for(;r<n;)a=r+e,yield i.slice(r,a),r=a},p1=function(i,e){return wd(this,null,function*(){try{for(var n=Og(m1(i)),r,a,l;r=!(a=yield new Pr(n.next())).done;r=!1){const u=a.value;yield*Sn(f1(u,e))}}catch(a){l=[a]}finally{try{r&&(a=n.return)&&(yield new Pr(a.call(n)))}finally{if(l)throw l[0]}}})},m1=function(i){return wd(this,null,function*(){if(i[Symbol.asyncIterator]){yield*Sn(i);return}const e=i.getReader();try{for(;;){const{done:n,value:r}=yield new Pr(e.read());if(n)break;yield r}}finally{yield new Pr(e.cancel())}})},Xg=(i,e,n,r)=>{const a=p1(i,e);let l=0,u,h=m=>{u||(u=!0,r&&r(m))};return new ReadableStream({pull(m){return fe(this,null,function*(){try{const{done:g,value:y}=yield a.next();if(g){h(),m.close();return}let w=y.byteLength;if(n){let S=l+=w;n(S)}m.enqueue(new Uint8Array(y))}catch(g){throw h(g),g}})},cancel(m){return h(m),a.return()}},{highWaterMark:2})},gu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ky=gu&&typeof ReadableStream=="function",g1=gu&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):i=>fe(null,null,function*(){return new Uint8Array(yield new Response(i).arrayBuffer())})),Jy=(i,...e)=>{try{return!!i(...e)}catch(n){return!1}},y1=Ky&&Jy(()=>{let i=!1;const e=new Request(Ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),Yg=64*1024,Ld=Ky&&Jy(()=>z.isReadableStream(new Response("").body)),fc={stream:Ld&&(i=>i.body)};gu&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fc[e]&&(fc[e]=z.isFunction(i[e])?n=>n[e]():(n,r)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,r)})})})(new Response);const _1=i=>fe(null,null,function*(){if(i==null)return 0;if(z.isBlob(i))return i.size;if(z.isSpecCompliantForm(i))return(yield new Request(Ht.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(z.isArrayBufferView(i)||z.isArrayBuffer(i))return i.byteLength;if(z.isURLSearchParams(i)&&(i=i+""),z.isString(i))return(yield g1(i)).byteLength}),v1=(i,e)=>fe(null,null,function*(){const n=z.toFiniteNumber(i.getContentLength());return n==null?_1(e):n}),w1=gu&&(i=>fe(null,null,function*(){let{url:e,method:n,data:r,signal:a,cancelToken:l,timeout:u,onDownloadProgress:h,onUploadProgress:f,responseType:m,headers:g,withCredentials:y="same-origin",fetchOptions:w}=Zy(i);m=m?(m+"").toLowerCase():"text";let S=d1([a,l&&l.toAbortSignal()],u),x;const b=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let k;try{if(f&&y1&&n!=="get"&&n!=="head"&&(k=yield v1(g,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),P;if(z.isFormData(r)&&(P=F.headers.get("content-type"))&&g.setContentType(P),F.body){const[O,E]=Gg(k,dc(Hg(f)));r=Xg(F.body,Yg,O,E)}}z.isString(y)||(y=y?"include":"omit");const C="credentials"in Request.prototype;x=new Request(e,xe(K({},w),{signal:S,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:C?y:void 0}));let j=yield fetch(x,w);const L=Ld&&(m==="stream"||m==="response");if(Ld&&(h||L&&b)){const F={};["status","statusText","headers"].forEach($=>{F[$]=j[$]});const P=z.toFiniteNumber(j.headers.get("content-length")),[O,E]=h&&Gg(P,dc(Hg(h),!0))||[];j=new Response(Xg(j.body,Yg,O,()=>{E&&E(),b&&b()}),F)}m=m||"text";let U=yield fc[z.findKey(fc,m)||"text"](j,i);return!L&&b&&b(),yield new Promise((F,P)=>{Xy(F,P,{data:U,headers:mn.from(j.headers),status:j.status,statusText:j.statusText,config:i,request:x})})}catch(C){throw b&&b(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,i,x),{cause:C.cause||C}):Fe.from(C,C&&C.code,i,x)}})),Vd={http:jx,xhr:h1,fetch:w1};z.forEach(Vd,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch(n){}Object.defineProperty(i,"adapterName",{value:e})}});const Zg=i=>`- ${i}`,x1=i=>z.isFunction(i)||i===null||i===!1,e_={getAdapter:i=>{i=z.isArray(i)?i:[i];const{length:e}=i;let n,r;const a={};for(let l=0;l<e;l++){n=i[l];let u;if(r=n,!x1(n)&&(r=Vd[(u=String(n)).toLowerCase()],r===void 0))throw new Fe(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+l]=r}if(!r){const l=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(Zg).join(`
`):" "+Zg(l[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Vd};function Ad(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new ho(null,i)}function Kg(i){return Ad(i),i.headers=mn.from(i.headers),i.data=Ed.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),e_.getAdapter(i.adapter||Aa.adapter)(i).then(function(r){return Ad(i),r.data=Ed.call(i,i.transformResponse,r),r.headers=mn.from(r.headers),r},function(r){return Qy(r)||(Ad(i),r&&r.response&&(r.response.data=Ed.call(i,i.transformResponse,r.response),r.response.headers=mn.from(r.response.headers))),Promise.reject(r)})}const t_="1.10.0",yu={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{yu[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const Jg={};yu.transitional=function(e,n,r){function a(l,u){return"[Axios v"+t_+"] Transitional option '"+l+"'"+u+(r?". "+r:"")}return(l,u,h)=>{if(e===!1)throw new Fe(a(u," has been removed"+(n?" in "+n:"")),Fe.ERR_DEPRECATED);return n&&!Jg[u]&&(Jg[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,u,h):!0}};yu.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function k1(i,e,n){if(typeof i!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let a=r.length;for(;a-- >0;){const l=r[a],u=e[l];if(u){const h=i[l],f=h===void 0||u(h,l,i);if(f!==!0)throw new Fe("option "+l+" must be "+f,Fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Fe("Unknown option "+l,Fe.ERR_BAD_OPTION)}}const lc={assertOptions:k1,validators:yu},ds=lc.validators;let Lr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Wg,response:new Wg}}request(e,n){return fe(this,null,function*(){try{return yield this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch(u){}}throw r}})}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Br(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:l}=n;r!==void 0&&lc.assertOptions(r,{silentJSONParsing:ds.transitional(ds.boolean),forcedJSONParsing:ds.transitional(ds.boolean),clarifyTimeoutError:ds.transitional(ds.boolean)},!1),a!=null&&(z.isFunction(a)?n.paramsSerializer={serialize:a}:lc.assertOptions(a,{encode:ds.function,serialize:ds.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lc.assertOptions(n,{baseUrl:ds.spelling("baseURL"),withXsrfToken:ds.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&z.merge(l.common,l[n.method]);l&&z.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=mn.concat(u,l);const h=[];let f=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(f=f&&b.synchronous,h.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let g,y=0,w;if(!f){const x=[Kg.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,m),w=x.length,g=Promise.resolve(n);y<w;)g=g.then(x[y++],x[y++]);return g}w=h.length;let S=n;for(y=0;y<w;){const x=h[y++],b=h[y++];try{S=x(S)}catch(k){b.call(this,k);break}}try{g=Kg.call(this,S)}catch(x){return Promise.reject(x)}for(y=0,w=m.length;y<w;)g=g.then(m[y++],m[y++]);return g}getUri(e){e=Br(this.defaults,e);const n=Yy(e.baseURL,e.url,e.allowAbsoluteUrls);return $y(n,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){Lr.prototype[e]=function(n,r){return this.request(Br(r||{},{method:e,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function n(r){return function(l,u,h){return this.request(Br(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Lr.prototype[e]=n(),Lr.prototype[e+"Form"]=n(!0)});let S1=class n_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(h=>{r.subscribe(h),l=h}).then(a);return u.cancel=function(){r.unsubscribe(l)},u},e(function(l,u,h){r.reason||(r.reason=new ho(l,u,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new n_(function(a){e=a}),cancel:e}}};function b1(i){return function(n){return i.apply(null,n)}}function T1(i){return z.isObject(i)&&i.isAxiosError===!0}const zd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zd).forEach(([i,e])=>{zd[e]=i});function s_(i){const e=new Lr(i),n=My(Lr.prototype.request,e);return z.extend(n,Lr.prototype,e,{allOwnKeys:!0}),z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return s_(Br(i,a))},n}const dt=s_(Aa);dt.Axios=Lr;dt.CanceledError=ho;dt.CancelToken=S1;dt.isCancel=Qy;dt.VERSION=t_;dt.toFormData=mu;dt.AxiosError=Fe;dt.Cancel=dt.CanceledError;dt.all=function(e){return Promise.all(e)};dt.spread=b1;dt.isAxiosError=T1;dt.mergeConfig=Br;dt.AxiosHeaders=mn;dt.formToJSON=i=>Hy(z.isHTMLForm(i)?new FormData(i):i);dt.getAdapter=e_.getAdapter;dt.HttpStatusCode=zd;dt.default=dt;const{Axios:bN,AxiosError:TN,CanceledError:CN,isCancel:NN,CancelToken:EN,VERSION:AN,all:DN,Cancel:ON,isAxiosError:RN,spread:MN,toFormData:PN,AxiosHeaders:jN,HttpStatusCode:IN,formToJSON:FN,getAdapter:qN,mergeConfig:LN}=dt,af="14.9.17",ey=(i,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:i}),ty=(i,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:i}),Bd=(i,e)=>({startTime:e,type:"setValue",value:i}),r_=(i,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:i}),i_=(i,e,{startTime:n,target:r,timeConstant:a})=>r+(e-r)*Math.exp((n-i)/a),Pi=i=>i.type==="exponentialRampToValue",pc=i=>i.type==="linearRampToValue",ur=i=>Pi(i)||pc(i),lf=i=>i.type==="setValue",Os=i=>i.type==="setValueCurve",mc=(i,e,n,r)=>{const a=i[e];return a===void 0?r:ur(a)||lf(a)?a.value:Os(a)?a.values[a.values.length-1]:i_(n,mc(i,e-1,a.startTime,r),a)},ny=(i,e,n,r,a)=>n===void 0?[r.insertTime,a]:ur(n)?[n.endTime,n.value]:lf(n)?[n.startTime,n.value]:Os(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,mc(i,e-1,n.startTime,a)],Ud=i=>i.type==="cancelAndHold",Wd=i=>i.type==="cancelScheduledValues",cr=i=>Ud(i)||Wd(i)?i.cancelTime:Pi(i)||pc(i)?i.endTime:i.startTime,sy=(i,e,n,{endTime:r,value:a})=>n===a?a:0<n&&0<a||n<0&&a<0?n*Dg(a/n,(i-e)/(r-e)):0,ry=(i,e,n,{endTime:r,value:a})=>n+(i-e)/(r-e)*(a-n),C1=(i,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?i[n]:(1-(e-n))*i[n]+(1-(r-e))*i[r]},N1=(i,{duration:e,startTime:n,values:r})=>{const a=(i-n)/e*(r.length-1);return C1(r,a)},tc=i=>i.type==="setTarget";class E1{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=cr(e);if(Ud(e)||Wd(e)){const r=this._automationEvents.findIndex(l=>Wd(e)&&Os(l)?l.startTime+l.duration>=n:cr(l)>=n),a=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Ud(e)){const l=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&ur(a)){if(l!==void 0&&tc(l))throw new Error("The internal list is malformed.");const u=l===void 0?a.insertTime:Os(l)?l.startTime+l.duration:cr(l),h=l===void 0?this._defaultValue:Os(l)?l.values[l.values.length-1]:l.value,f=Pi(a)?sy(n,u,h,a):ry(n,u,h,a),m=Pi(a)?ey(f,n,this._currenTime):ty(f,n,this._currenTime);this._automationEvents.push(m)}if(l!==void 0&&tc(l)&&this._automationEvents.push(Bd(this.getValue(n),n)),l!==void 0&&Os(l)&&l.startTime+l.duration>n){const u=n-l.startTime,h=(l.values.length-1)/l.duration,f=Math.max(2,1+Math.ceil(u*h)),m=u/(f-1)*h,g=l.values.slice(0,f);if(m<1)for(let y=1;y<f;y+=1){const w=m*y%1;g[y]=l.values[y-1]*(1-w)+l.values[y]*w}this._automationEvents[this._automationEvents.length-1]=r_(g,l.startTime,u)}}}else{const r=this._automationEvents.findIndex(u=>cr(u)>n),a=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(a!==void 0&&Os(a)&&cr(a)+a.duration>n)return!1;const l=Pi(e)?ey(e.value,e.endTime,this._currenTime):pc(e)?ty(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(l);else{if(Os(e)&&n+e.duration>cr(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,l)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>cr(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),a=r[0];tc(a)&&r.unshift(Bd(mc(this._automationEvents,n-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(u=>cr(u)>e),r=this._automationEvents[n],a=(n===-1?this._automationEvents.length:n)-1,l=this._automationEvents[a];if(l!==void 0&&tc(l)&&(r===void 0||!ur(r)||r.insertTime>e))return i_(e,mc(this._automationEvents,a-1,l.startTime,this._defaultValue),l);if(l!==void 0&&lf(l)&&(r===void 0||!ur(r)))return l.value;if(l!==void 0&&Os(l)&&(r===void 0||!ur(r)||l.startTime+l.duration>e))return e<l.startTime+l.duration?N1(e,l):l.values[l.values.length-1];if(l!==void 0&&ur(l)&&(r===void 0||!ur(r)))return l.value;if(r!==void 0&&Pi(r)){const[u,h]=ny(this._automationEvents,a,l,r,this._defaultValue);return sy(e,u,h,r)}if(r!==void 0&&pc(r)){const[u,h]=ny(this._automationEvents,a,l,r,this._defaultValue);return ry(e,u,h,r)}return this._defaultValue}}const A1=i=>({cancelTime:i,type:"cancelAndHold"}),D1=i=>({cancelTime:i,type:"cancelScheduledValues"}),O1=(i,e)=>({endTime:e,type:"exponentialRampToValue",value:i}),R1=(i,e)=>({endTime:e,type:"linearRampToValue",value:i}),M1=(i,e,n)=>({startTime:e,target:i,timeConstant:n,type:"setTarget"}),P1=()=>new DOMException("","AbortError"),j1=i=>(e,n,[r,a,l],u)=>{i(e[a],[n,r,l],h=>h[0]===n&&h[1]===r,u)},I1=i=>(e,n,r)=>{const a=[];for(let l=0;l<r.numberOfInputs;l+=1)a.push(new Set);i.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},F1=i=>(e,n)=>{i.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Li=new WeakSet,o_=new WeakMap,cf=new WeakMap,a_=new WeakMap,uf=new WeakMap,_u=new WeakMap,l_=new WeakMap,$d=new WeakMap,Gd=new WeakMap,Hd=new WeakMap,c_={construct(){return c_}},q1=i=>{try{const e=new Proxy(i,c_);new e}catch(e){return!1}return!0},iy=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,oy=(i,e)=>{const n=[];let r=i.replace(/^[\s]+/,""),a=r.match(iy);for(;a!==null;){const l=a[1].slice(1,-1),u=a[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,e).toString());n.push(u),r=r.slice(a[0].length).replace(/^[\s]+/,""),a=r.match(iy)}return[n.join(";"),r]},ay=i=>{if(i!==void 0&&!Array.isArray(i))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},ly=i=>{if(!q1(i))throw new TypeError("The given value for processorCtor should be a constructor.");if(i.prototype===null||typeof i.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},L1=(i,e,n,r,a,l,u,h,f,m,g,y,w)=>{let S=0;return(x,b,k={credentials:"omit"})=>{const C=g.get(x);if(C!==void 0&&C.has(b))return Promise.resolve();const j=m.get(x);if(j!==void 0){const F=j.get(b);if(F!==void 0)return F}const L=l(x),U=L.audioWorklet===void 0?a(b).then(([F,P])=>{const[O,E]=oy(F,P),$=`${O};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return n($)}).then(()=>{const F=w._AWGS.pop();if(F===void 0)throw new SyntaxError;r(L.currentTime,L.sampleRate,()=>F(class{},void 0,(P,O)=>{if(P.trim()==="")throw e();const E=Gd.get(L);if(E!==void 0){if(E.has(P))throw e();ly(O),ay(O.parameterDescriptors),E.set(P,O)}else ly(O),ay(O.parameterDescriptors),Gd.set(L,new Map([[P,O]]))},L.sampleRate,void 0,void 0))}):Promise.all([a(b),Promise.resolve(i(y,y))]).then(([[F,P],O])=>{const E=S+1;S=E;const[$,re]=oy(F,P),G=`${$};((AudioWorkletProcessor,registerProcessor)=>{${re}
})(${O?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${O?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${O?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,ue=new Blob([G],{type:"application/javascript; charset=utf-8"}),oe=URL.createObjectURL(ue);return L.audioWorklet.addModule(oe,k).then(()=>{if(h(L))return L;const ce=u(L);return ce.audioWorklet.addModule(oe,k).then(()=>ce)}).then(ce=>{if(f===null)throw new SyntaxError;try{new f(ce,`__sac${E}`)}catch(H){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(oe))});return j===void 0?m.set(x,new Map([[b,U]])):j.set(b,U),U.then(()=>{const F=g.get(x);F===void 0?g.set(x,new Set([b])):F.add(b)}).finally(()=>{const F=m.get(x);F!==void 0&&F.delete(b)}),U}},es=(i,e)=>{const n=i.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},vu=(i,e)=>{const n=Array.from(i).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return i.delete(r),r},u_=(i,e,n,r)=>{const a=es(i,e),l=vu(a,u=>u[0]===n&&u[1]===r);return a.size===0&&i.delete(e),l},Da=i=>es(l_,i),Vi=i=>{if(Li.has(i))throw new Error("The AudioNode is already stored.");Li.add(i),Da(i).forEach(e=>e(!0))},h_=i=>"port"in i,Oa=i=>{if(!Li.has(i))throw new Error("The AudioNode is not stored.");Li.delete(i),Da(i).forEach(e=>e(!1))},Qd=(i,e)=>{!h_(i)&&e.every(n=>n.size===0)&&Oa(i)},V1=(i,e,n,r,a,l,u,h,f,m,g,y,w)=>{const S=new WeakMap;return(x,b,k,C,j)=>{const{activeInputs:L,passiveInputs:U}=l(b),{outputs:F}=l(x),P=h(x),O=E=>{const $=f(b),re=f(x);if(E){const Q=u_(U,x,k,C);i(L,x,Q,!1),!j&&!y(x)&&n(re,$,k,C),w(b)&&Vi(b)}else{const Q=r(L,x,k,C);e(U,C,Q,!1),!j&&!y(x)&&a(re,$,k,C);const W=u(b);if(W===0)g(b)&&Qd(b,L);else{const de=S.get(b);de!==void 0&&clearTimeout(de),S.set(b,setTimeout(()=>{g(b)&&Qd(b,L)},W*1e3))}}};return m(F,[b,k,C],E=>E[0]===b&&E[1]===k&&E[2]===C,!0)?(P.add(O),g(x)?i(L,x,[k,C,O],!0):e(U,C,[x,k,O],!0),!0):!1}},z1=i=>(e,n,[r,a,l],u)=>{const h=e.get(r);h===void 0?e.set(r,new Set([[a,n,l]])):i(h,[a,n,l],f=>f[0]===a&&f[1]===n,u)},B1=i=>(e,n)=>{const r=i(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const a=()=>{n.removeEventListener("ended",a),n.disconnect(r),r.disconnect()};n.addEventListener("ended",a)},U1=i=>(e,n)=>{i(e).add(n)},W1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},$1=(i,e,n,r,a,l)=>class extends i{constructor(h,f){const m=a(h),g=K(K({},W1),f),y=r(m,g),w=l(m)?e():null;super(h,!1,y,w),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(h){this._nativeAnalyserNode.fftSize=h}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(h){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=h,!(h>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(h){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=h,!(this._nativeAnalyserNode.maxDecibels>h))throw this._nativeAnalyserNode.minDecibels=f,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(h){this._nativeAnalyserNode.smoothingTimeConstant=h}getByteFrequencyData(h){this._nativeAnalyserNode.getByteFrequencyData(h)}getByteTimeDomainData(h){this._nativeAnalyserNode.getByteTimeDomainData(h)}getFloatFrequencyData(h){this._nativeAnalyserNode.getFloatFrequencyData(h)}getFloatTimeDomainData(h){this._nativeAnalyserNode.getFloatTimeDomainData(h)}},Xt=(i,e)=>i.context===e,G1=(i,e,n)=>()=>{const r=new WeakMap,a=(l,u)=>fe(null,null,function*(){let h=e(l);if(!Xt(h,u)){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,fftSize:h.fftSize,maxDecibels:h.maxDecibels,minDecibels:h.minDecibels,smoothingTimeConstant:h.smoothingTimeConstant};h=i(u,m)}return r.set(u,h),yield n(l,u,h),h});return{render(l,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},gc=i=>{try{i.copyToChannel(new Float32Array(1),0,-1)}catch(e){return!1}return!0},vs=()=>new DOMException("","IndexSizeError"),hf=i=>{i.getChannelData=(e=>n=>{try{return e.call(i,n)}catch(r){throw r.code===12?vs():r}})(i.getChannelData)},H1={numberOfChannels:1},Q1=(i,e,n,r,a,l,u,h)=>{let f=null;return class d_{constructor(g){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:w,sampleRate:S}=K(K({},H1),g);f===null&&(f=new a(1,1,44100));const x=r!==null&&e(l,l)?new r({length:y,numberOfChannels:w,sampleRate:S}):f.createBuffer(w,y,S);if(x.numberOfChannels===0)throw n();return typeof x.copyFromChannel!="function"?(u(x),hf(x)):e(gc,()=>gc(x))||h(x),i.add(x),x}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===d_.prototype||i.has(g)}}},hn=-34028234663852886e22,Kt=-hn,js=i=>Li.has(i),X1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Y1=(i,e,n,r,a,l,u,h)=>class extends i{constructor(m,g){const y=l(m),w=K(K({},X1),g),S=a(y,w),x=u(y),b=x?e():null;super(m,!1,S,b),this._audioBufferSourceNodeRenderer=b,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=S,this._onended=null,this._playbackRate=n(this,x,S.playbackRate,Kt,hn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(m){if(this._nativeAudioBufferSourceNode.buffer=m,m!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(m){this._nativeAudioBufferSourceNode.loop=m}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(m){this._nativeAudioBufferSourceNode.loopEnd=m}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(m){this._nativeAudioBufferSourceNode.loopStart=m}get onended(){return this._onended}set onended(m){const g=typeof m=="function"?h(this,m):null;this._nativeAudioBufferSourceNode.onended=g;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===g?m:y}get playbackRate(){return this._playbackRate}start(m=0,g=0,y){if(this._nativeAudioBufferSourceNode.start(m,g,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[m,g]:[m,g,y]),this.context.state!=="closed"){Vi(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),js(this)&&Oa(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(m=0){this._nativeAudioBufferSourceNode.stop(m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=m)}},Z1=(i,e,n,r,a)=>()=>{const l=new WeakMap;let u=null,h=null;const f=(m,g)=>fe(null,null,function*(){let y=n(m);const w=Xt(y,g);if(!w){const S={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(g,S),u!==null&&y.start(...u),h!==null&&y.stop(h)}return l.set(g,y),w?yield i(g,m.playbackRate,y.playbackRate):yield r(g,m.playbackRate,y.playbackRate),yield a(m,g,y),y});return{set start(m){u=m},set stop(m){h=m},render(m,g){const y=l.get(g);return y!==void 0?Promise.resolve(y):f(m,g)}}},K1=i=>"playbackRate"in i,J1=i=>"frequency"in i&&"gain"in i,ek=i=>"offset"in i,tk=i=>!("frequency"in i)&&"gain"in i,nk=i=>"detune"in i&&"frequency"in i&&!("gain"in i),sk=i=>"pan"in i,Jt=i=>es(o_,i),Ra=i=>es(a_,i),Xd=(i,e)=>{const{activeInputs:n}=Jt(i);n.forEach(a=>a.forEach(([l])=>{e.includes(i)||Xd(l,[...e,i])}));const r=K1(i)?[i.playbackRate]:h_(i)?Array.from(i.parameters.values()):J1(i)?[i.Q,i.detune,i.frequency,i.gain]:ek(i)?[i.offset]:tk(i)?[i.gain]:nk(i)?[i.detune,i.frequency]:sk(i)?[i.pan]:[];for(const a of r){const l=Ra(a);l!==void 0&&l.activeInputs.forEach(([u])=>Xd(u,e))}js(i)&&Oa(i)},f_=i=>{Xd(i.destination,[])},rk=i=>i===void 0||typeof i=="number"||typeof i=="string"&&(i==="balanced"||i==="interactive"||i==="playback"),ik=(i,e,n,r,a,l,u,h,f)=>class extends i{constructor(g={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(g)}catch(x){throw x.code===12&&x.message==="sampleRate is not in range"?n():x}if(y===null)throw r();if(!rk(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&y.sampleRate!==g.sampleRate)throw n();super(y,2);const{latencyHint:w}=g,{sampleRate:S}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:w==="balanced"?512/S:w==="interactive"||w===void 0?256/S:w==="playback"?1024/S:Math.max(2,Math.min(128,Math.round(w*S/128)))*128/S,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const x=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",x)};y.addEventListener("statechange",x)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),f_(this)}))}createMediaElementSource(g){return new a(this,{mediaElement:g})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(g){return new u(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new h(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,y)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?g():this.resume().then(g,y)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?e():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?e():g})}},ok=(i,e,n,r,a,l,u,h)=>class extends i{constructor(m,g){const y=l(m),w=u(y),S=a(y,g,w),x=w?e(h):null;super(m,!1,S,x),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=S}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(m){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(m>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=m}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(m){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=m}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},ak=i=>{const e=new WeakMap,n=(r,a)=>fe(null,null,function*(){const l=a.destination;return e.set(a,l),yield i(r,a,l),l});return{render(r,a){const l=e.get(a);return l!==void 0?Promise.resolve(l):n(r,a)}}},lk=(i,e,n,r,a,l,u,h)=>(f,m)=>{const g=m.listener,y=()=>{const F=new Float32Array(1),P=e(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),O=u(m);let E=!1,$=[0,0,-1,0,1,0],re=[0,0,0];const Q=()=>{if(E)return;E=!0;const ue=r(m,256,9,0);ue.onaudioprocess=({inputBuffer:oe})=>{const ce=[l(oe,F,0),l(oe,F,1),l(oe,F,2),l(oe,F,3),l(oe,F,4),l(oe,F,5)];ce.some((Z,X)=>Z!==$[X])&&(g.setOrientation(...ce),$=ce);const H=[l(oe,F,6),l(oe,F,7),l(oe,F,8)];H.some((Z,X)=>Z!==re[X])&&(g.setPosition(...H),re=H)},P.connect(ue)},W=ue=>oe=>{oe!==$[ue]&&($[ue]=oe,g.setOrientation(...$))},de=ue=>oe=>{oe!==re[ue]&&(re[ue]=oe,g.setPosition(...re))},G=(ue,oe,ce)=>{const H=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe});H.connect(P,0,ue),H.start(),Object.defineProperty(H.offset,"defaultValue",{get(){return oe}});const Z=i({context:f},O,H.offset,Kt,hn);return h(Z,"value",X=>()=>X.call(Z),X=>D=>{try{X.call(Z,D)}catch(B){if(B.code!==9)throw B}Q(),O&&ce(D)}),Z.cancelAndHoldAtTime=(X=>O?()=>{throw a()}:(...D)=>{const B=X.apply(Z,D);return Q(),B})(Z.cancelAndHoldAtTime),Z.cancelScheduledValues=(X=>O?()=>{throw a()}:(...D)=>{const B=X.apply(Z,D);return Q(),B})(Z.cancelScheduledValues),Z.exponentialRampToValueAtTime=(X=>O?()=>{throw a()}:(...D)=>{const B=X.apply(Z,D);return Q(),B})(Z.exponentialRampToValueAtTime),Z.linearRampToValueAtTime=(X=>O?()=>{throw a()}:(...D)=>{const B=X.apply(Z,D);return Q(),B})(Z.linearRampToValueAtTime),Z.setTargetAtTime=(X=>O?()=>{throw a()}:(...D)=>{const B=X.apply(Z,D);return Q(),B})(Z.setTargetAtTime),Z.setValueAtTime=(X=>O?()=>{throw a()}:(...D)=>{const B=X.apply(Z,D);return Q(),B})(Z.setValueAtTime),Z.setValueCurveAtTime=(X=>O?()=>{throw a()}:(...D)=>{const B=X.apply(Z,D);return Q(),B})(Z.setValueCurveAtTime),Z};return{forwardX:G(0,0,W(0)),forwardY:G(1,0,W(1)),forwardZ:G(2,-1,W(2)),positionX:G(6,0,de(0)),positionY:G(7,0,de(1)),positionZ:G(8,0,de(2)),upX:G(3,0,W(3)),upY:G(4,1,W(4)),upZ:G(5,0,W(5))}},{forwardX:w,forwardY:S,forwardZ:x,positionX:b,positionY:k,positionZ:C,upX:j,upY:L,upZ:U}=g.forwardX===void 0?y():g;return{get forwardX(){return w},get forwardY(){return S},get forwardZ(){return x},get positionX(){return b},get positionY(){return k},get positionZ(){return C},get upX(){return j},get upY(){return L},get upZ(){return U}}},yc=i=>"context"in i,Ma=i=>yc(i[0]),Jr=(i,e,n,r)=>{for(const a of i)if(n(a)){if(r)return!1;throw Error("The set contains at least one similar element.")}return i.add(e),!0},cy=(i,e,[n,r],a)=>{Jr(i,[e,n,r],l=>l[0]===e&&l[1]===n,a)},uy=(i,[e,n,r],a)=>{const l=i.get(e);l===void 0?i.set(e,new Set([[n,r]])):Jr(l,[n,r],u=>u[0]===n,a)},fo=i=>"inputs"in i,_c=(i,e,n,r)=>{if(fo(e)){const a=e.inputs[r];return i.connect(a,n,0),[a,n,0]}return i.connect(e,n,r),[e,n,r]},p_=(i,e,n)=>{for(const r of i)if(r[0]===e&&r[1]===n)return i.delete(r),r;return null},ck=(i,e,n)=>vu(i,r=>r[0]===e&&r[1]===n),m_=(i,e)=>{if(!Da(i).delete(e))throw new Error("Missing the expected event listener.")},g_=(i,e,n)=>{const r=es(i,e),a=vu(r,l=>l[0]===n);return r.size===0&&i.delete(e),a},vc=(i,e,n,r)=>{fo(e)?i.disconnect(e.inputs[r],n,0):i.disconnect(e,n,r)},it=i=>es(cf,i),ma=i=>es(uf,i),Ur=i=>$d.has(i),cc=i=>!Li.has(i),hy=(i,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=i.createScriptProcessor(256,1,1),a=i.createGain(),l=i.createBuffer(1,2,44100),u=l.getChannelData(0);u[0]=1,u[1]=1;const h=i.createBufferSource();h.buffer=l,h.loop=!0,h.connect(r).connect(i.destination),h.connect(a),h.disconnect(a),r.onaudioprocess=f=>{const m=f.inputBuffer.getChannelData(0);Array.prototype.some.call(m,g=>g===1)?n(!0):n(!1),h.stop(),r.onaudioprocess=null,h.disconnect(r),r.disconnect(i.destination)},h.start()}}),Dd=(i,e)=>{const n=new Map;for(const r of i)for(const a of r){const l=n.get(a);n.set(a,l===void 0?1:l+1)}n.forEach((r,a)=>e(a,r))},wc=i=>"context"in i,uk=i=>{const e=new Map;i.connect=(n=>(r,a=0,l=0)=>{const u=wc(r)?n(r,a,l):n(r,a),h=e.get(r);return h===void 0?e.set(r,[{input:l,output:a}]):h.every(f=>f.input!==l||f.output!==a)&&h.push({input:l,output:a}),u})(i.connect.bind(i)),i.disconnect=(n=>(r,a,l)=>{if(n.apply(i),r===void 0)e.clear();else if(typeof r=="number")for(const[u,h]of e){const f=h.filter(m=>m.output!==r);f.length===0?e.delete(u):e.set(u,f)}else if(e.has(r))if(a===void 0)e.delete(r);else{const u=e.get(r);if(u!==void 0){const h=u.filter(f=>f.output!==a&&(f.input!==l||l===void 0));h.length===0?e.delete(r):e.set(r,h)}}for(const[u,h]of e)h.forEach(f=>{wc(u)?i.connect(u,f.output,f.input):i.connect(u,f.output)})})(i.disconnect)},hk=(i,e,n,r)=>{const{activeInputs:a,passiveInputs:l}=Ra(e),{outputs:u}=Jt(i),h=Da(i),f=m=>{const g=it(i),y=ma(e);if(m){const w=g_(l,i,n);cy(a,i,w,!1),!r&&!Ur(i)&&g.connect(y,n)}else{const w=ck(a,i,n);uy(l,w,!1),!r&&!Ur(i)&&g.disconnect(y,n)}};return Jr(u,[e,n],m=>m[0]===e&&m[1]===n,!0)?(h.add(f),js(i)?cy(a,i,[n,f],!0):uy(l,[i,n,f],!0),!0):!1},dk=(i,e,n,r)=>{const{activeInputs:a,passiveInputs:l}=Jt(e),u=p_(a[r],i,n);return u===null?[u_(l,i,n,r)[2],!1]:[u[2],!0]},fk=(i,e,n)=>{const{activeInputs:r,passiveInputs:a}=Ra(e),l=p_(r,i,n);return l===null?[g_(a,i,n)[1],!1]:[l[2],!0]},df=(i,e,n,r,a)=>{const[l,u]=dk(i,n,r,a);if(l!==null&&(m_(i,l),u&&!e&&!Ur(i)&&vc(it(i),it(n),r,a)),js(n)){const{activeInputs:h}=Jt(n);Qd(n,h)}},ff=(i,e,n,r)=>{const[a,l]=fk(i,n,r);a!==null&&(m_(i,a),l&&!e&&!Ur(i)&&it(i).disconnect(ma(n),r))},pk=(i,e)=>{const n=Jt(i),r=[];for(const a of n.outputs)Ma(a)?df(i,e,...a):ff(i,e,...a),r.push(a[0]);return n.outputs.clear(),r},mk=(i,e,n)=>{const r=Jt(i),a=[];for(const l of r.outputs)l[1]===n&&(Ma(l)?df(i,e,...l):ff(i,e,...l),a.push(l[0]),r.outputs.delete(l));return a},gk=(i,e,n,r,a)=>{const l=Jt(i);return Array.from(l.outputs).filter(u=>u[0]===n&&(r===void 0||u[1]===r)&&(a===void 0||u[2]===a)).map(u=>(Ma(u)?df(i,e,...u):ff(i,e,...u),l.outputs.delete(u),u[0]))},yk=(i,e,n,r,a,l,u,h,f,m,g,y,w,S,x,b)=>class extends m{constructor(C,j,L,U){super(L),this._context=C,this._nativeAudioNode=L;const F=g(C);y(F)&&n(hy,()=>hy(F,b))!==!0&&uk(L),cf.set(this,L),l_.set(this,new Set),C.state!=="closed"&&j&&Vi(this),i(this,U,L)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,j=0,L=0){if(j<0||j>=this._nativeAudioNode.numberOfOutputs)throw a();const U=g(this._context),F=x(U);if(w(C)||S(C))throw l();if(yc(C)){const E=it(C);try{const re=_c(this._nativeAudioNode,E,j,L),Q=cc(this);(F||Q)&&this._nativeAudioNode.disconnect(...re),this.context.state!=="closed"&&!Q&&cc(C)&&Vi(C)}catch(re){throw re.code===12?l():re}if(e(this,C,j,L,F)){const re=f([this],C);Dd(re,r(F))}return C}const P=ma(C);if(P.name==="playbackRate"&&P.maxValue===1024)throw u();try{this._nativeAudioNode.connect(P,j),(F||cc(this))&&this._nativeAudioNode.disconnect(P,j)}catch(E){throw E.code===12?l():E}if(hk(this,C,j,F)){const E=f([this],C);Dd(E,r(F))}}disconnect(C,j,L){let U;const F=g(this._context),P=x(F);if(C===void 0)U=pk(this,P);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();U=mk(this,P,C)}else{if(j!==void 0&&(j<0||j>=this.numberOfOutputs)||yc(C)&&L!==void 0&&(L<0||L>=C.numberOfInputs))throw a();if(U=gk(this,P,C,j,L),U.length===0)throw l()}for(const O of U){const E=f([this],O);Dd(E,h)}}},_k=(i,e,n,r,a,l,u,h,f,m,g,y,w)=>(S,x,b,k=null,C=null)=>{const j=b.value,L=new E1(j),U=x?r(L):null,F={get defaultValue(){return j},get maxValue(){return k===null?b.maxValue:k},get minValue(){return C===null?b.minValue:C},get value(){return b.value},set value(P){b.value=P,F.setValueAtTime(P,S.context.currentTime)},cancelAndHoldAtTime(P){if(typeof b.cancelAndHoldAtTime=="function")U===null&&L.flush(S.context.currentTime),L.add(a(P)),b.cancelAndHoldAtTime(P);else{const O=Array.from(L).pop();U===null&&L.flush(S.context.currentTime),L.add(a(P));const E=Array.from(L).pop();b.cancelScheduledValues(P),O!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?b.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?b.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?b.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&b.setValueCurveAtTime(E.values,E.startTime,E.duration))}return F},cancelScheduledValues(P){return U===null&&L.flush(S.context.currentTime),L.add(l(P)),b.cancelScheduledValues(P),F},exponentialRampToValueAtTime(P,O){if(P===0)throw new RangeError;if(!Number.isFinite(O)||O<0)throw new RangeError;const E=S.context.currentTime;return U===null&&L.flush(E),Array.from(L).length===0&&(L.add(m(j,E)),b.setValueAtTime(j,E)),L.add(u(P,O)),b.exponentialRampToValueAtTime(P,O),F},linearRampToValueAtTime(P,O){const E=S.context.currentTime;return U===null&&L.flush(E),Array.from(L).length===0&&(L.add(m(j,E)),b.setValueAtTime(j,E)),L.add(h(P,O)),b.linearRampToValueAtTime(P,O),F},setTargetAtTime(P,O,E){return U===null&&L.flush(S.context.currentTime),L.add(f(P,O,E)),b.setTargetAtTime(P,O,E),F},setValueAtTime(P,O){return U===null&&L.flush(S.context.currentTime),L.add(m(P,O)),b.setValueAtTime(P,O),F},setValueCurveAtTime(P,O,E){const $=P instanceof Float32Array?P:new Float32Array(P);if(y!==null&&y.name==="webkitAudioContext"){const re=O+E,Q=S.context.sampleRate,W=Math.ceil(O*Q),de=Math.floor(re*Q),G=de-W,ue=new Float32Array(G);for(let ce=0;ce<G;ce+=1){const H=($.length-1)/E*((W+ce)/Q-O),Z=Math.floor(H),X=Math.ceil(H);ue[ce]=Z===X?$[Z]:(1-(H-Z))*$[Z]+(1-(X-H))*$[X]}U===null&&L.flush(S.context.currentTime),L.add(g(ue,O,E)),b.setValueCurveAtTime(ue,O,E);const oe=de/Q;oe<re&&w(F,ue[ue.length-1],oe),w(F,$[$.length-1],re)}else U===null&&L.flush(S.context.currentTime),L.add(g($,O,E)),b.setValueCurveAtTime($,O,E);return F}};return n.set(F,b),e.set(F,S),i(F,U),F},vk=i=>({replay(e){for(const n of i)if(n.type==="exponentialRampToValue"){const{endTime:r,value:a}=n;e.exponentialRampToValueAtTime(a,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:a}=n;e.linearRampToValueAtTime(a,r)}else if(n.type==="setTarget"){const{startTime:r,target:a,timeConstant:l}=n;e.setTargetAtTime(a,r,l)}else if(n.type==="setValue"){const{startTime:r,value:a}=n;e.setValueAtTime(a,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:a,values:l}=n;e.setValueCurveAtTime(l,a,r)}else throw new Error("Can't apply an unknown automation.")}});class y_{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,a)=>e.call(n,r,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const wk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},xk=(i,e,n,r,a,l,u,h,f,m,g,y,w,S)=>class extends e{constructor(b,k,C){var j;const L=h(b),U=f(L),F=g(K(K({},wk),C));w(F);const P=Gd.get(L),O=P==null?void 0:P.get(k),E=U||L.state!=="closed"?L:(j=u(L))!==null&&j!==void 0?j:L,$=a(E,U?null:b.baseLatency,m,k,O,F),re=U?r(k,F,O):null;super(b,!0,$,re);const Q=[];$.parameters.forEach((de,G)=>{const ue=n(this,U,de);Q.push([G,ue])}),this._nativeAudioWorkletNode=$,this._onprocessorerror=null,this._parameters=new y_(Q),U&&i(L,this);const{activeInputs:W}=l(this);y($,W)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(b){const k=typeof b=="function"?S(this,b):null;this._nativeAudioWorkletNode.onprocessorerror=k;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===k?b:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function xc(i,e,n,r,a){if(typeof i.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),i.copyFromChannel(e[n],r,a);else{const l=i.getChannelData(r);if(e[n].byteLength===0)e[n]=l.slice(a,a+128);else{const u=new Float32Array(l.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(u)}}}const __=(i,e,n,r,a)=>{typeof i.copyToChannel=="function"?e[n].byteLength!==0&&i.copyToChannel(e[n],r,a):e[n].byteLength!==0&&i.getChannelData(r).set(e[n],a)},kc=(i,e)=>{const n=[];for(let r=0;r<i;r+=1){const a=[],l=typeof e=="number"?e:e[r];for(let u=0;u<l;u+=1)a.push(new Float32Array(128));n.push(a)}return n},kk=(i,e)=>{const n=es(Hd,i),r=it(e);return es(n,r)},Sk=(i,e,n,r,a,l,u)=>fe(null,null,function*(){const h=e===null?Math.ceil(i.context.length/128)*128:e.length,f=r.channelCount*r.numberOfInputs,m=a.reduce((k,C)=>k+C,0),g=m===0?null:n.createBuffer(m,h,n.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const y=Jt(i),w=yield kk(n,i),S=kc(r.numberOfInputs,r.channelCount),x=kc(r.numberOfOutputs,a),b=Array.from(i.parameters.keys()).reduce((k,C)=>xe(K({},k),{[C]:new Float32Array(128)}),{});for(let k=0;k<h;k+=128){if(r.numberOfInputs>0&&e!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let j=0;j<r.channelCount;j+=1)xc(e,S[C],j,j,k);l.parameterDescriptors!==void 0&&e!==null&&l.parameterDescriptors.forEach(({name:C},j)=>{xc(e,b,C,f+j,k)});for(let C=0;C<r.numberOfInputs;C+=1)for(let j=0;j<a[C];j+=1)x[C][j].byteLength===0&&(x[C][j]=new Float32Array(128));try{const C=S.map((L,U)=>y.activeInputs[U].size===0?[]:L),j=u(k/n.sampleRate,n.sampleRate,()=>w.process(C,x,b));if(g!==null)for(let L=0,U=0;L<r.numberOfOutputs;L+=1){for(let F=0;F<a[L];F+=1)__(g,x[L],F,U+F,k);U+=a[L]}if(!j)break}catch(C){i.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return g}),bk=(i,e,n,r,a,l,u,h,f,m,g,y,w,S,x,b)=>(k,C,j)=>{const L=new WeakMap;let U=null;const F=(P,O)=>fe(null,null,function*(){let E=g(P),$=null;const re=Xt(E,O),Q=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(y===null){const W=Q.reduce((oe,ce)=>oe+ce,0),de=a(O,{channelCount:Math.max(1,W),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,W)}),G=[];for(let oe=0;oe<P.numberOfOutputs;oe+=1)G.push(r(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Q[oe]}));const ue=u(O,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});ue.connect=e.bind(null,G),ue.disconnect=f.bind(null,G),$=[de,G,ue]}else re||(E=new y(O,k));if(L.set(O,$===null?E:$[2]),$!==null){if(U===null){if(j===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ce=P.channelCount*P.numberOfInputs,H=j.parameterDescriptors===void 0?0:j.parameterDescriptors.length,Z=ce+H;U=Sk(P,Z===0?null:yield fe(null,null,function*(){const D=new w(Z,Math.ceil(P.context.length/128)*128,O.sampleRate),B=[],Y=[];for(let pe=0;pe<C.numberOfInputs;pe+=1)B.push(u(D,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),Y.push(a(D,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const ge=yield Promise.all(Array.from(P.parameters.values()).map(pe=>fe(null,null,function*(){const ae=l(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:pe.value});return yield S(D,pe,ae.offset),ae}))),Te=r(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ce+H)});for(let pe=0;pe<C.numberOfInputs;pe+=1){B[pe].connect(Y[pe]);for(let ae=0;ae<C.channelCount;ae+=1)Y[pe].connect(Te,ae,pe*C.channelCount+ae)}for(const[pe,ae]of ge.entries())ae.connect(Te,0,ce+pe),ae.start(0);return Te.connect(D.destination),yield Promise.all(B.map(pe=>x(P,D,pe))),b(D)}),O,C,Q,j,m)}const W=yield U,de=n(O,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[G,ue,oe]=$;W!==null&&(de.buffer=W,de.start(0)),de.connect(G);for(let ce=0,H=0;ce<P.numberOfOutputs;ce+=1){const Z=ue[ce];for(let X=0;X<Q[ce];X+=1)G.connect(Z,H+X,X);H+=Q[ce]}return oe}if(re)for(const[W,de]of P.parameters.entries())yield i(O,de,E.parameters.get(W));else for(const[W,de]of P.parameters.entries())yield S(O,de,E.parameters.get(W));return yield x(P,O,E),E});return{render(P,O){h(O,P);const E=L.get(O);return E!==void 0?Promise.resolve(E):F(P,O)}}},Tk=(i,e,n,r,a,l,u,h,f,m,g,y,w,S,x,b,k,C,j,L)=>class extends x{constructor(F,P){super(F,P),this._nativeContext=F,this._audioWorklet=i===void 0?void 0:{addModule:(O,E)=>i(this,O,E)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(F,P,O){return new n({length:P,numberOfChannels:F,sampleRate:O})}createBufferSource(){return new r(this)}createChannelMerger(F=6){return new l(this,{numberOfInputs:F})}createChannelSplitter(F=6){return new u(this,{numberOfOutputs:F})}createConstantSource(){return new h(this)}createConvolver(){return new f(this)}createDelay(F=1){return new g(this,{maxDelayTime:F})}createDynamicsCompressor(){return new y(this)}createGain(){return new w(this)}createIIRFilter(F,P){return new S(this,{feedback:P,feedforward:F})}createOscillator(){return new b(this)}createPanner(){return new k(this)}createPeriodicWave(F,P,O={disableNormalization:!1}){return new C(this,xe(K({},O),{imag:P,real:F}))}createStereoPanner(){return new j(this)}createWaveShaper(){return new L(this)}decodeAudioData(F,P,O){return m(this._nativeContext,F).then(E=>(typeof P=="function"&&P(E),E),E=>{throw typeof O=="function"&&O(E),E})}},Ck={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Nk=(i,e,n,r,a,l,u,h)=>class extends i{constructor(m,g){const y=l(m),w=K(K({},Ck),g),S=a(y,w),x=u(y),b=x?n():null;super(m,!1,S,b),this._Q=e(this,x,S.Q,Kt,hn),this._detune=e(this,x,S.detune,1200*Math.log2(Kt),-1200*Math.log2(Kt)),this._frequency=e(this,x,S.frequency,m.sampleRate/2,0),this._gain=e(this,x,S.gain,40*Math.log10(Kt),hn),this._nativeBiquadFilterNode=S,h(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(m){this._nativeBiquadFilterNode.type=m}getFrequencyResponse(m,g,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(m,g,y)}catch(w){throw w.code===11?r():w}if(m.length!==g.length||g.length!==y.length)throw r()}},Ek=(i,e,n,r,a)=>()=>{const l=new WeakMap,u=(h,f)=>fe(null,null,function*(){let m=n(h);const g=Xt(m,f);if(!g){const y={Q:m.Q.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,gain:m.gain.value,type:m.type};m=e(f,y)}return l.set(f,m),g?(yield i(f,h.Q,m.Q),yield i(f,h.detune,m.detune),yield i(f,h.frequency,m.frequency),yield i(f,h.gain,m.gain)):(yield r(f,h.Q,m.Q),yield r(f,h.detune,m.detune),yield r(f,h.frequency,m.frequency),yield r(f,h.gain,m.gain)),yield a(h,f,m),m});return{render(h,f){const m=l.get(f);return m!==void 0?Promise.resolve(m):u(h,f)}}},Ak=(i,e)=>(n,r)=>{const a=e.get(n);if(a!==void 0)return a;const l=i.get(n);if(l!==void 0)return l;try{const u=r();return u instanceof Promise?(i.set(n,u),u.catch(()=>!1).then(h=>(i.delete(n),e.set(n,h),h))):(e.set(n,u),u)}catch(u){return e.set(n,!1),!1}},Dk={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Ok=(i,e,n,r,a)=>class extends i{constructor(u,h){const f=r(u),m=K(K({},Dk),h),g=n(f,m),y=a(f)?e():null;super(u,!1,g,y)}},Rk=(i,e,n)=>()=>{const r=new WeakMap,a=(l,u)=>fe(null,null,function*(){let h=e(l);if(!Xt(h,u)){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,numberOfInputs:h.numberOfInputs};h=i(u,m)}return r.set(u,h),yield n(l,u,h),h});return{render(l,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},Mk={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Pk=(i,e,n,r,a,l)=>class extends i{constructor(h,f){const m=r(h),g=l(K(K({},Mk),f)),y=n(m,g),w=a(m)?e():null;super(h,!1,y,w)}},jk=(i,e,n)=>()=>{const r=new WeakMap,a=(l,u)=>fe(null,null,function*(){let h=e(l);if(!Xt(h,u)){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,numberOfOutputs:h.numberOfOutputs};h=i(u,m)}return r.set(u,h),yield n(l,u,h),h});return{render(l,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},Ik=i=>(e,n,r)=>i(n,e,r),Fk=i=>(e,n,r=0,a=0)=>{const l=e[r];if(l===void 0)throw i();return wc(n)?l.connect(n,0,a):l.connect(n,0)},qk=i=>(e,n)=>{const r=i(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return r.buffer=a,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},Lk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Vk=(i,e,n,r,a,l,u)=>class extends i{constructor(f,m){const g=a(f),y=K(K({},Lk),m),w=r(g,y),S=l(g),x=S?n():null;super(f,!1,w,x),this._constantSourceNodeRenderer=x,this._nativeConstantSourceNode=w,this._offset=e(this,S,w.offset,Kt,hn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const m=typeof f=="function"?u(this,f):null;this._nativeConstantSourceNode.onended=m;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===m?f:g}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Vi(this);const m=()=>{this._nativeConstantSourceNode.removeEventListener("ended",m),js(this)&&Oa(this)};this._nativeConstantSourceNode.addEventListener("ended",m)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},zk=(i,e,n,r,a)=>()=>{const l=new WeakMap;let u=null,h=null;const f=(m,g)=>fe(null,null,function*(){let y=n(m);const w=Xt(y,g);if(!w){const S={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(g,S),u!==null&&y.start(u),h!==null&&y.stop(h)}return l.set(g,y),w?yield i(g,m.offset,y.offset):yield r(g,m.offset,y.offset),yield a(m,g,y),y});return{set start(m){u=m},set stop(m){h=m},render(m,g){const y=l.get(g);return y!==void 0?Promise.resolve(y):f(m,g)}}},Bk=i=>e=>(i[0]=e,i[0]),Uk={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Wk=(i,e,n,r,a,l)=>class extends i{constructor(h,f){const m=r(h),g=K(K({},Uk),f),y=n(m,g),S=a(m)?e():null;super(h,!1,y,S),this._isBufferNullified=!1,this._nativeConvolverNode=y,g.buffer!==null&&l(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(h){if(this._nativeConvolverNode.buffer=h,h===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(h){this._nativeConvolverNode.normalize=h}},$k=(i,e,n)=>()=>{const r=new WeakMap,a=(l,u)=>fe(null,null,function*(){let h=e(l);if(!Xt(h,u)){const m={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,disableNormalization:!h.normalize};h=i(u,m)}return r.set(u,h),fo(h)?yield n(l,u,h.inputs[0]):yield n(l,u,h),h});return{render(l,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},Gk=(i,e)=>(n,r,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,a)}catch(l){throw l.name==="SyntaxError"?i():l}},Hk=()=>new DOMException("","DataCloneError"),dy=i=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const a=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>a();try{e.postMessage(i,[i])}catch(l){}finally{a()}})},Qk=(i,e,n,r,a,l,u,h,f,m,g)=>(y,w)=>{const S=u(y)?y:l(y);if(a.has(w)){const x=n();return Promise.reject(x)}try{a.add(w)}catch(x){}return e(f,()=>f(S))?S.decodeAudioData(w).then(x=>(dy(w).catch(()=>{}),e(h,()=>h(x))||g(x),i.add(x),x)):new Promise((x,b)=>{const k=()=>fe(null,null,function*(){try{yield dy(w)}catch(j){}}),C=j=>{b(j),k()};try{S.decodeAudioData(w,j=>{typeof j.copyFromChannel!="function"&&(m(j),hf(j)),i.add(j),k().then(()=>x(j))},j=>{C(j===null?r():j)})}catch(j){C(j)}})},Xk=(i,e,n,r,a,l,u,h)=>(f,m)=>{const g=e.get(f);if(g===void 0)throw new Error("Missing the expected cycle count.");const y=l(f.context),w=h(y);if(g===m){if(e.delete(f),!w&&u(f)){const S=r(f),{outputs:x}=n(f);for(const b of x)if(Ma(b)){const k=r(b[0]);i(S,k,b[1],b[2])}else{const k=a(b[0]);S.connect(k,b[1])}}}else e.set(f,g-m)},Yk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Zk=(i,e,n,r,a,l,u)=>class extends i{constructor(f,m){const g=a(f),y=K(K({},Yk),m),w=r(g,y),S=l(g),x=S?n(y.maxDelayTime):null;super(f,!1,w,x),this._delayTime=e(this,S,w.delayTime),u(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},Kk=(i,e,n,r,a)=>l=>{const u=new WeakMap,h=(f,m)=>fe(null,null,function*(){let g=n(f);const y=Xt(g,m);if(!y){const w={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:l};g=e(m,w)}return u.set(m,g),y?yield i(m,f.delayTime,g.delayTime):yield r(m,f.delayTime,g.delayTime),yield a(f,m,g),g});return{render(f,m){const g=u.get(m);return g!==void 0?Promise.resolve(g):h(f,m)}}},Jk=i=>(e,n,r,a)=>i(e[a],l=>l[0]===n&&l[1]===r),eS=i=>(e,n)=>{i(e).delete(n)},tS=i=>"delayTime"in i,nS=(i,e,n)=>function r(a,l){const u=yc(l)?l:n(i,l);if(tS(u))return[];if(a[0]===u)return[a];if(a.includes(u))return[];const{outputs:h}=e(u);return Array.from(h).map(f=>r([...a,u],f[0])).reduce((f,m)=>f.concat(m),[])},nc=(i,e,n)=>{const r=e[n];if(r===void 0)throw i();return r},sS=i=>(e,n=void 0,r=void 0,a=0)=>n===void 0?e.forEach(l=>l.disconnect()):typeof n=="number"?nc(i,e,n).disconnect():wc(n)?r===void 0?e.forEach(l=>l.disconnect(n)):a===void 0?nc(i,e,r).disconnect(n,0):nc(i,e,r).disconnect(n,0,a):r===void 0?e.forEach(l=>l.disconnect(n)):nc(i,e,r).disconnect(n,0),rS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},iS=(i,e,n,r,a,l,u,h)=>class extends i{constructor(m,g){const y=l(m),w=K(K({},rS),g),S=r(y,w),x=u(y),b=x?n():null;super(m,!1,S,b),this._attack=e(this,x,S.attack),this._knee=e(this,x,S.knee),this._nativeDynamicsCompressorNode=S,this._ratio=e(this,x,S.ratio),this._release=e(this,x,S.release),this._threshold=e(this,x,S.threshold),h(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(m){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=m,m>2)throw this._nativeDynamicsCompressorNode.channelCount=g,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(m){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=m,m==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},oS=(i,e,n,r,a)=>()=>{const l=new WeakMap,u=(h,f)=>fe(null,null,function*(){let m=n(h);const g=Xt(m,f);if(!g){const y={attack:m.attack.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,knee:m.knee.value,ratio:m.ratio.value,release:m.release.value,threshold:m.threshold.value};m=e(f,y)}return l.set(f,m),g?(yield i(f,h.attack,m.attack),yield i(f,h.knee,m.knee),yield i(f,h.ratio,m.ratio),yield i(f,h.release,m.release),yield i(f,h.threshold,m.threshold)):(yield r(f,h.attack,m.attack),yield r(f,h.knee,m.knee),yield r(f,h.ratio,m.ratio),yield r(f,h.release,m.release),yield r(f,h.threshold,m.threshold)),yield a(h,f,m),m});return{render(h,f){const m=l.get(f);return m!==void 0?Promise.resolve(m):u(h,f)}}},aS=()=>new DOMException("","EncodingError"),lS=i=>e=>new Promise((n,r)=>{if(i===null){r(new SyntaxError);return}const a=i.document.head;if(a===null)r(new SyntaxError);else{const l=i.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),h=URL.createObjectURL(u),f=i.onerror,m=()=>{i.onerror=f,URL.revokeObjectURL(h)};i.onerror=(g,y,w,S,x)=>{if(y===h||y===i.location.href&&w===1&&S===1)return m(),r(x),!1;if(f!==null)return f(g,y,w,S,x)},l.onerror=()=>{m(),r(new SyntaxError)},l.onload=()=>{m(),n()},l.src=h,l.type="module",a.appendChild(l)}}),cS=i=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,a){if(r!==null){let l=this._listeners.get(r);l===void 0&&(l=i(this,r),typeof r=="function"&&this._listeners.set(r,l)),this._nativeEventTarget.addEventListener(n,l,a)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,a){const l=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,l===void 0?null:l,a)}},uS=i=>(e,n,r)=>{Object.defineProperties(i,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{i!==null&&(delete i.currentFrame,delete i.currentTime)}},hS=i=>e=>fe(null,null,function*(){try{const n=yield fetch(e);if(n.ok)return[yield n.text(),n.url]}catch(n){}throw i()}),dS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},fS=(i,e,n,r,a,l)=>class extends i{constructor(h,f){const m=a(h),g=K(K({},dS),f),y=r(m,g),w=l(m),S=w?n():null;super(h,!1,y,S),this._gain=e(this,w,y.gain,Kt,hn)}get gain(){return this._gain}},pS=(i,e,n,r,a)=>()=>{const l=new WeakMap,u=(h,f)=>fe(null,null,function*(){let m=n(h);const g=Xt(m,f);if(!g){const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:m.gain.value};m=e(f,y)}return l.set(f,m),g?yield i(f,h.gain,m.gain):yield r(f,h.gain,m.gain),yield a(h,f,m),m});return{render(h,f){const m=l.get(f);return m!==void 0?Promise.resolve(m):u(h,f)}}},mS=(i,e)=>n=>e(i,n),gS=i=>e=>{const n=i(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},yS=i=>e=>{var n;return(n=i.get(e))!==null&&n!==void 0?n:0},_S=i=>e=>{const n=i(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},vS=i=>e=>i.get(e),Pt=()=>new DOMException("","InvalidStateError"),wS=i=>e=>{const n=i.get(e);if(n===void 0)throw Pt();return n},xS=(i,e)=>n=>{let r=i.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),i.set(n,r),r},kS=i=>e=>{const n=i.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},wu=()=>new DOMException("","InvalidAccessError"),SS=i=>{i.getFrequencyResponse=(e=>(n,r,a)=>{if(n.length!==r.length||r.length!==a.length)throw wu();return e.call(i,n,r,a)})(i.getFrequencyResponse)},bS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},TS=(i,e,n,r,a,l)=>class extends i{constructor(h,f){const m=r(h),g=a(m),y=K(K({},bS),f),w=e(m,g?null:h.baseLatency,y),S=g?n(y.feedback,y.feedforward):null;super(h,!1,w,S),SS(w),this._nativeIIRFilterNode=w,l(this,1)}getFrequencyResponse(h,f,m){return this._nativeIIRFilterNode.getFrequencyResponse(h,f,m)}},v_=(i,e,n,r,a,l,u,h,f,m,g)=>{const y=m.length;let w=h;for(let S=0;S<y;S+=1){let x=n[0]*m[S];for(let b=1;b<a;b+=1){const k=w-b&f-1;x+=n[b]*l[k],x-=i[b]*u[k]}for(let b=a;b<r;b+=1)x+=n[b]*l[w-b&f-1];for(let b=a;b<e;b+=1)x-=i[b]*u[w-b&f-1];l[w]=m[S],u[w]=x,w=w+1&f-1,g[S]=x}return w},CS=(i,e,n,r)=>{const a=n instanceof Float64Array?n:new Float64Array(n),l=r instanceof Float64Array?r:new Float64Array(r),u=a.length,h=l.length,f=Math.min(u,h);if(a[0]!==1){for(let x=0;x<u;x+=1)l[x]/=a[0];for(let x=1;x<h;x+=1)a[x]/=a[0]}const m=32,g=new Float32Array(m),y=new Float32Array(m),w=e.createBuffer(i.numberOfChannels,i.length,i.sampleRate),S=i.numberOfChannels;for(let x=0;x<S;x+=1){const b=i.getChannelData(x),k=w.getChannelData(x);g.fill(0),y.fill(0),v_(a,u,l,h,f,g,y,0,m,b,k)}return w},NS=(i,e,n,r,a)=>(l,u)=>{const h=new WeakMap;let f=null;const m=(g,y)=>fe(null,null,function*(){let w=null,S=e(g);const x=Xt(S,y);if(y.createIIRFilter===void 0?w=i(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):x||(S=y.createIIRFilter(u,l)),h.set(y,w===null?S:w),w!==null){if(f===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new n(g.context.destination.channelCount,g.context.length,y.sampleRate);f=fe(null,null,function*(){yield r(g,k,k.destination);const C=yield a(k);return CS(C,y,l,u)})}const b=yield f;return w.buffer=b,w.start(0),w}return yield r(g,y,S),S});return{render(g,y){const w=h.get(y);return w!==void 0?Promise.resolve(w):m(g,y)}}},ES=(i,e,n,r,a,l)=>u=>(h,f)=>{const m=i.get(h);if(m===void 0){if(!u&&l(h)){const g=r(h),{outputs:y}=n(h);for(const w of y)if(Ma(w)){const S=r(w[0]);e(g,S,w[1],w[2])}else{const S=a(w[0]);g.disconnect(S,w[1])}}i.set(h,f)}else i.set(h,m+f)},AS=(i,e)=>n=>{const r=i.get(n);return e(r)||e(n)},DS=(i,e)=>n=>i.has(n)||e(n),OS=(i,e)=>n=>i.has(n)||e(n),RS=(i,e)=>n=>{const r=i.get(n);return e(r)||e(n)},MS=i=>e=>i!==null&&e instanceof i,PS=i=>e=>i!==null&&typeof i.AudioNode=="function"&&e instanceof i.AudioNode,jS=i=>e=>i!==null&&typeof i.AudioParam=="function"&&e instanceof i.AudioParam,IS=(i,e)=>n=>i(n)||e(n),FS=i=>e=>i!==null&&e instanceof i,qS=i=>i!==null&&i.isSecureContext,LS=(i,e,n,r,a,l,u,h,f,m,g,y,w,S,x,b)=>fe(null,null,function*(){return i(e,e)&&i(n,n)&&i(a,a)&&i(l,l)&&i(h,h)&&i(f,f)&&i(m,m)&&i(g,g)&&i(y,y)&&i(w,w)&&i(S,S)?(yield Promise.all([i(r,r),i(u,u),i(x,x),i(b,b)])).every(C=>C):!1}),VS=(i,e,n,r)=>class extends i{constructor(l,u){const h=n(l),f=e(h,u);if(r(h))throw TypeError();super(l,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},zS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},BS=(i,e,n,r)=>class extends i{constructor(l,u){const h=n(l);if(r(h))throw new TypeError;const f=K(K({},zS),u),m=e(h,f);super(l,!1,m,null),this._nativeMediaStreamAudioDestinationNode=m}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},US=(i,e,n,r)=>class extends i{constructor(l,u){const h=n(l),f=e(h,u);if(r(h))throw new TypeError;super(l,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},WS=(i,e,n)=>class extends i{constructor(a,l){const u=n(a),h=e(u,l);super(a,!0,h,null)}},$S=(i,e,n,r,a,l)=>class extends n{constructor(h,f){super(h),this._nativeContext=h,_u.set(this,h),r(h)&&a.set(h,new Set),this._destination=new i(this,f),this._listener=e(this,h),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(h){const f=typeof h=="function"?l(this,h):null;this._nativeContext.onstatechange=f;const m=this._nativeContext.onstatechange;this._onstatechange=m!==null&&m===f?h:m}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ga=i=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=i.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch(n){}return!1},GS=(i,e)=>(n,r,a)=>{const l=new Set;return n.connect=(u=>(h,f=0,m=0)=>{const g=l.size===0;if(e(h))return u.call(n,h,f,m),i(l,[h,f,m],y=>y[0]===h&&y[1]===f&&y[2]===m,!0),g&&r(),h;u.call(n,h,f),i(l,[h,f],y=>y[0]===h&&y[1]===f,!0),g&&r()})(n.connect),n.disconnect=(u=>(h,f,m)=>{const g=l.size>0;if(h===void 0)u.apply(n),l.clear();else if(typeof h=="number"){u.call(n,h);for(const w of l)w[1]===h&&l.delete(w)}else{e(h)?u.call(n,h,f,m):u.call(n,h,f);for(const w of l)w[0]===h&&(f===void 0||w[1]===f)&&(m===void 0||w[2]===m)&&l.delete(w)}const y=l.size===0;g&&y&&a()})(n.disconnect),n},at=(i,e,n)=>{const r=e[n];r!==void 0&&r!==i[n]&&(i[n]=r)},Nt=(i,e)=>{at(i,e,"channelCount"),at(i,e,"channelCountMode"),at(i,e,"channelInterpretation")},fy=i=>typeof i.getFloatTimeDomainData=="function",HS=i=>{i.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);i.getByteTimeDomainData(n);const r=Math.max(n.length,i.fftSize);for(let a=0;a<r;a+=1)e[a]=(n[a]-128)*.0078125;return e}},QS=(i,e)=>(n,r)=>{const a=n.createAnalyser();if(Nt(a,r),!(r.maxDecibels>r.minDecibels))throw e();return at(a,r,"fftSize"),at(a,r,"maxDecibels"),at(a,r,"minDecibels"),at(a,r,"smoothingTimeConstant"),i(fy,()=>fy(a))||HS(a),a},XS=i=>i===null?null:i.hasOwnProperty("AudioBuffer")?i.AudioBuffer:null,gt=(i,e,n)=>{const r=e[n];r!==void 0&&r!==i[n].value&&(i[n].value=r)},YS=i=>{i.start=(e=>{let n=!1;return(r=0,a=0,l)=>{if(n)throw Pt();e.call(i,r,a,l),n=!0}})(i.start)},pf=i=>{i.start=(e=>(n=0,r=0,a)=>{if(typeof a=="number"&&a<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(i,n,r,a)})(i.start)},mf=i=>{i.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(i,n)})(i.stop)},ZS=(i,e,n,r,a,l,u,h,f,m,g)=>(y,w)=>{const S=y.createBufferSource();return Nt(S,w),gt(S,w,"playbackRate"),at(S,w,"buffer"),at(S,w,"loop"),at(S,w,"loopEnd"),at(S,w,"loopStart"),e(n,()=>n(y))||YS(S),e(r,()=>r(y))||f(S),e(a,()=>a(y))||m(S,y),e(l,()=>l(y))||pf(S),e(u,()=>u(y))||g(S,y),e(h,()=>h(y))||mf(S),i(y,S),S},KS=i=>i===null?null:i.hasOwnProperty("AudioContext")?i.AudioContext:i.hasOwnProperty("webkitAudioContext")?i.webkitAudioContext:null,JS=(i,e)=>(n,r,a)=>{const l=n.destination;if(l.channelCount!==r)try{l.channelCount=r}catch(h){}a&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:r});const u=i(n,{channelCount:r,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return e(u,"channelCount",h=>()=>h.call(u),h=>f=>{h.call(u,f);try{l.channelCount=f}catch(m){if(f>l.maxChannelCount)throw m}}),e(u,"channelCountMode",h=>()=>h.call(u),h=>f=>{h.call(u,f),l.channelCountMode=f}),e(u,"channelInterpretation",h=>()=>h.call(u),h=>f=>{h.call(u,f),l.channelInterpretation=f}),Object.defineProperty(u,"maxChannelCount",{get:()=>l.maxChannelCount}),u.connect(l),u},eb=i=>i===null?null:i.hasOwnProperty("AudioWorkletNode")?i.AudioWorkletNode:null,tb=i=>{const{port1:e}=new MessageChannel;try{e.postMessage(i)}finally{e.close()}},nb=(i,e,n,r,a)=>(l,u,h,f,m,g)=>{if(h!==null)try{const y=new h(l,f,g),w=new Map;let S=null;if(Object.defineProperties(y,{channelCount:{get:()=>g.channelCount,set:()=>{throw i()}},channelCountMode:{get:()=>"explicit",set:()=>{throw i()}},onprocessorerror:{get:()=>S,set:x=>{typeof S=="function"&&y.removeEventListener("processorerror",S),S=typeof x=="function"?x:null,typeof S=="function"&&y.addEventListener("processorerror",S)}}}),y.addEventListener=(x=>(...b)=>{if(b[0]==="processorerror"){const k=typeof b[1]=="function"?b[1]:typeof b[1]=="object"&&b[1]!==null&&typeof b[1].handleEvent=="function"?b[1].handleEvent:null;if(k!==null){const C=w.get(b[1]);C!==void 0?b[1]=C:(b[1]=j=>{j.type==="error"?(Object.defineProperties(j,{type:{value:"processorerror"}}),k(j)):k(new ErrorEvent(b[0],K({},j)))},w.set(k,b[1]))}}return x.call(y,"error",b[1],b[2]),x.call(y,...b)})(y.addEventListener),y.removeEventListener=(x=>(...b)=>{if(b[0]==="processorerror"){const k=w.get(b[1]);k!==void 0&&(w.delete(b[1]),b[1]=k)}return x.call(y,"error",b[1],b[2]),x.call(y,b[0],b[1],b[2])})(y.removeEventListener),g.numberOfOutputs!==0){const x=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(x).connect(l.destination),a(y,()=>x.disconnect(),()=>x.connect(l.destination))}return y}catch(y){throw y.code===11?r():y}if(m===void 0)throw r();return tb(g),e(l,u,m,g)},w_=(i,e)=>i===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(i*e))))),sb=i=>new Promise((e,n)=>{const{port1:r,port2:a}=new MessageChannel;r.onmessage=({data:l})=>{r.close(),a.close(),e(l)},r.onmessageerror=({data:l})=>{r.close(),a.close(),n(l)},a.postMessage(i)}),rb=(i,e)=>fe(null,null,function*(){const n=yield sb(e);return new i(n)}),ib=(i,e,n,r)=>{let a=Hd.get(i);a===void 0&&(a=new WeakMap,Hd.set(i,a));const l=rb(n,r);return a.set(e,l),l},ob=(i,e,n,r,a,l,u,h,f,m,g,y,w)=>(S,x,b,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw f();const C=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(C.some(le=>le<1))throw f();if(C.length!==k.numberOfOutputs)throw e();if(k.channelCountMode!=="explicit")throw f();const j=k.channelCount*k.numberOfInputs,L=C.reduce((le,J)=>le+J,0),U=b.parameterDescriptors===void 0?0:b.parameterDescriptors.length;if(j+U>6||L>6)throw f();const F=new MessageChannel,P=[],O=[];for(let le=0;le<k.numberOfInputs;le+=1)P.push(u(S,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),O.push(a(S,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const E=[];if(b.parameterDescriptors!==void 0)for(const{defaultValue:le,maxValue:J,minValue:Ye,name:Ge}of b.parameterDescriptors){const Ve=l(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[Ge]!==void 0?k.parameterData[Ge]:le===void 0?0:le});Object.defineProperties(Ve.offset,{defaultValue:{get:()=>le===void 0?0:le},maxValue:{get:()=>J===void 0?Kt:J},minValue:{get:()=>Ye===void 0?hn:Ye}}),E.push(Ve)}const $=r(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+U)}),re=w_(x,S.sampleRate),Q=h(S,re,j+U,Math.max(1,L)),W=a(S,{channelCount:Math.max(1,L),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,L)}),de=[];for(let le=0;le<k.numberOfOutputs;le+=1)de.push(r(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[le]}));for(let le=0;le<k.numberOfInputs;le+=1){P[le].connect(O[le]);for(let J=0;J<k.channelCount;J+=1)O[le].connect($,J,le*k.channelCount+J)}const G=new y_(b.parameterDescriptors===void 0?[]:b.parameterDescriptors.map(({name:le},J)=>{const Ye=E[J];return Ye.connect($,0,j+J),Ye.start(0),[le,Ye.offset]}));$.connect(Q);let ue=k.channelInterpretation,oe=null;const ce=k.numberOfOutputs===0?[Q]:de,H={get bufferSize(){return re},get channelCount(){return k.channelCount},set channelCount(le){throw n()},get channelCountMode(){return k.channelCountMode},set channelCountMode(le){throw n()},get channelInterpretation(){return ue},set channelInterpretation(le){for(const J of P)J.channelInterpretation=le;ue=le},get context(){return Q.context},get inputs(){return P},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return oe},set onprocessorerror(le){typeof oe=="function"&&H.removeEventListener("processorerror",oe),oe=typeof le=="function"?le:null,typeof oe=="function"&&H.addEventListener("processorerror",oe)},get parameters(){return G},get port(){return F.port2},addEventListener(...le){return Q.addEventListener(le[0],le[1],le[2])},connect:i.bind(null,ce),disconnect:m.bind(null,ce),dispatchEvent(...le){return Q.dispatchEvent(le[0])},removeEventListener(...le){return Q.removeEventListener(le[0],le[1],le[2])}},Z=new Map;F.port1.addEventListener=(le=>(...J)=>{if(J[0]==="message"){const Ye=typeof J[1]=="function"?J[1]:typeof J[1]=="object"&&J[1]!==null&&typeof J[1].handleEvent=="function"?J[1].handleEvent:null;if(Ye!==null){const Ge=Z.get(J[1]);Ge!==void 0?J[1]=Ge:(J[1]=Ve=>{g(S.currentTime,S.sampleRate,()=>Ye(Ve))},Z.set(Ye,J[1]))}}return le.call(F.port1,J[0],J[1],J[2])})(F.port1.addEventListener),F.port1.removeEventListener=(le=>(...J)=>{if(J[0]==="message"){const Ye=Z.get(J[1]);Ye!==void 0&&(Z.delete(J[1]),J[1]=Ye)}return le.call(F.port1,J[0],J[1],J[2])})(F.port1.removeEventListener);let X=null;Object.defineProperty(F.port1,"onmessage",{get:()=>X,set:le=>{typeof X=="function"&&F.port1.removeEventListener("message",X),X=typeof le=="function"?le:null,typeof X=="function"&&(F.port1.addEventListener("message",X),F.port1.start())}}),b.prototype.port=F.port1;let D=null;ib(S,H,b,k).then(le=>D=le);const Y=kc(k.numberOfInputs,k.channelCount),ge=kc(k.numberOfOutputs,C),Te=b.parameterDescriptors===void 0?[]:b.parameterDescriptors.reduce((le,{name:J})=>xe(K({},le),{[J]:new Float32Array(128)}),{});let pe=!0;const ae=()=>{k.numberOfOutputs>0&&Q.disconnect(W);for(let le=0,J=0;le<k.numberOfOutputs;le+=1){const Ye=de[le];for(let Ge=0;Ge<C[le];Ge+=1)W.disconnect(Ye,J+Ge,Ge);J+=C[le]}},Ce=new Map;Q.onaudioprocess=({inputBuffer:le,outputBuffer:J})=>{if(D!==null){const Ye=y(H);for(let Ge=0;Ge<re;Ge+=128){for(let Ve=0;Ve<k.numberOfInputs;Ve+=1)for(let He=0;He<k.channelCount;He+=1)xc(le,Y[Ve],He,He,Ge);b.parameterDescriptors!==void 0&&b.parameterDescriptors.forEach(({name:Ve},He)=>{xc(le,Te,Ve,j+He,Ge)});for(let Ve=0;Ve<k.numberOfInputs;Ve+=1)for(let He=0;He<C[Ve];He+=1)ge[Ve][He].byteLength===0&&(ge[Ve][He]=new Float32Array(128));try{const Ve=Y.map((St,Dn)=>{if(Ye[Dn].size>0)return Ce.set(Dn,re/128),St;const ii=Ce.get(Dn);return ii===void 0?[]:(St.every(Ua=>Ua.every(Wa=>Wa===0))&&(ii===1?Ce.delete(Dn):Ce.set(Dn,ii-1)),St)});pe=g(S.currentTime+Ge/S.sampleRate,S.sampleRate,()=>D.process(Ve,ge,Te));for(let St=0,Dn=0;St<k.numberOfOutputs;St+=1){for(let Us=0;Us<C[St];Us+=1)__(J,ge[St],Us,Dn+Us,Ge);Dn+=C[St]}}catch(Ve){pe=!1,H.dispatchEvent(new ErrorEvent("processorerror",{colno:Ve.colno,filename:Ve.filename,lineno:Ve.lineno,message:Ve.message}))}if(!pe){for(let Ve=0;Ve<k.numberOfInputs;Ve+=1){P[Ve].disconnect(O[Ve]);for(let He=0;He<k.channelCount;He+=1)O[Ge].disconnect($,He,Ve*k.channelCount+He)}if(b.parameterDescriptors!==void 0){const Ve=b.parameterDescriptors.length;for(let He=0;He<Ve;He+=1){const St=E[He];St.disconnect($,0,j+He),St.stop()}}$.disconnect(Q),Q.onaudioprocess=null,Re?ae():he();break}}}};let Re=!1;const N=u(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),me=()=>Q.connect(N).connect(S.destination),he=()=>{Q.disconnect(N),N.disconnect()},ct=()=>{if(pe){he(),k.numberOfOutputs>0&&Q.connect(W);for(let le=0,J=0;le<k.numberOfOutputs;le+=1){const Ye=de[le];for(let Ge=0;Ge<C[le];Ge+=1)W.connect(Ye,J+Ge,Ge);J+=C[le]}}Re=!0},ft=()=>{pe&&(me(),ae()),Re=!1};return me(),w(H,ct,ft)},x_=(i,e)=>{const n=i.createBiquadFilter();return Nt(n,e),gt(n,e,"Q"),gt(n,e,"detune"),gt(n,e,"frequency"),gt(n,e,"gain"),at(n,e,"type"),n},ab=(i,e)=>(n,r)=>{const a=n.createChannelMerger(r.numberOfInputs);return i!==null&&i.name==="webkitAudioContext"&&e(n,a),Nt(a,r),a},lb=i=>{const e=i.numberOfOutputs;Object.defineProperty(i,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Pt()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Pt()}}),Object.defineProperty(i,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Pt()}})},Pa=(i,e)=>{const n=i.createChannelSplitter(e.numberOfOutputs);return Nt(n,e),lb(n),n},cb=(i,e,n,r,a)=>(l,u)=>{if(l.createConstantSource===void 0)return n(l,u);const h=l.createConstantSource();return Nt(h,u),gt(h,u,"offset"),e(r,()=>r(l))||pf(h),e(a,()=>a(l))||mf(h),i(l,h),h},po=(i,e)=>(i.connect=e.connect.bind(e),i.disconnect=e.disconnect.bind(e),i),ub=(i,e,n,r)=>(a,h)=>{var f=h,{offset:l}=f,u=Oi(f,["offset"]);const m=a.createBuffer(1,2,44100),g=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),y=n(a,xe(K({},u),{gain:l})),w=m.getChannelData(0);w[0]=1,w[1]=1,g.buffer=m,g.loop=!0;const S={get bufferSize(){},get channelCount(){return y.channelCount},set channelCount(k){y.channelCount=k},get channelCountMode(){return y.channelCountMode},set channelCountMode(k){y.channelCountMode=k},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(k){y.channelInterpretation=k},get context(){return y.context},get inputs(){return[]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get offset(){return y.gain},get onended(){return g.onended},set onended(k){g.onended=k},addEventListener(...k){return g.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return g.dispatchEvent(k[0])},removeEventListener(...k){return g.removeEventListener(k[0],k[1],k[2])},start(k=0){g.start.call(g,k)},stop(k=0){g.stop.call(g,k)}},x=()=>g.connect(y),b=()=>g.disconnect(y);return i(a,g),r(po(S,y),x,b)},hb=(i,e)=>(n,r)=>{const a=n.createConvolver();if(Nt(a,r),r.disableNormalization===a.normalize&&(a.normalize=!r.disableNormalization),at(a,r,"buffer"),r.channelCount>2||(e(a,"channelCount",l=>()=>l.call(a),l=>u=>{if(u>2)throw i();return l.call(a,u)}),r.channelCountMode==="max"))throw i();return e(a,"channelCountMode",l=>()=>l.call(a),l=>u=>{if(u==="max")throw i();return l.call(a,u)}),a},k_=(i,e)=>{const n=i.createDelay(e.maxDelayTime);return Nt(n,e),gt(n,e,"delayTime"),n},db=i=>(e,n)=>{const r=e.createDynamicsCompressor();if(Nt(r,n),n.channelCount>2||n.channelCountMode==="max")throw i();return gt(r,n,"attack"),gt(r,n,"knee"),gt(r,n,"ratio"),gt(r,n,"release"),gt(r,n,"threshold"),r},_n=(i,e)=>{const n=i.createGain();return Nt(n,e),gt(n,e,"gain"),n},fb=i=>(e,n,r)=>{if(e.createIIRFilter===void 0)return i(e,n,r);const a=e.createIIRFilter(r.feedforward,r.feedback);return Nt(a,r),a};function pb(i,e){const n=e[0]*e[0]+e[1]*e[1];return[(i[0]*e[0]+i[1]*e[1])/n,(i[1]*e[0]-i[0]*e[1])/n]}function mb(i,e){return[i[0]*e[0]-i[1]*e[1],i[0]*e[1]+i[1]*e[0]]}function py(i,e){let n=[0,0];for(let r=i.length-1;r>=0;r-=1)n=mb(n,e),n[0]+=i[r];return n}const gb=(i,e,n,r)=>(a,l,{channelCount:u,channelCountMode:h,channelInterpretation:f,feedback:m,feedforward:g})=>{const y=w_(l,a.sampleRate),w=m instanceof Float64Array?m:new Float64Array(m),S=g instanceof Float64Array?g:new Float64Array(g),x=w.length,b=S.length,k=Math.min(x,b);if(x===0||x>20)throw r();if(w[0]===0)throw e();if(b===0||b>20)throw r();if(S[0]===0)throw e();if(w[0]!==1){for(let E=0;E<b;E+=1)S[E]/=w[0];for(let E=1;E<x;E+=1)w[E]/=w[0]}const C=n(a,y,u,u);C.channelCount=u,C.channelCountMode=h,C.channelInterpretation=f;const j=32,L=[],U=[],F=[];for(let E=0;E<u;E+=1){L.push(0);const $=new Float32Array(j),re=new Float32Array(j);$.fill(0),re.fill(0),U.push($),F.push(re)}C.onaudioprocess=E=>{const $=E.inputBuffer,re=E.outputBuffer,Q=$.numberOfChannels;for(let W=0;W<Q;W+=1){const de=$.getChannelData(W),G=re.getChannelData(W);L[W]=v_(w,x,S,b,k,U[W],F[W],L[W],j,de,G)}};const P=a.sampleRate/2;return po({get bufferSize(){return y},get channelCount(){return C.channelCount},set channelCount(E){C.channelCount=E},get channelCountMode(){return C.channelCountMode},set channelCountMode(E){C.channelCountMode=E},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(E){C.channelInterpretation=E},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...E){return C.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return C.dispatchEvent(E[0])},getFrequencyResponse(E,$,re){if(E.length!==$.length||$.length!==re.length)throw i();const Q=E.length;for(let W=0;W<Q;W+=1){const de=-Math.PI*(E[W]/P),G=[Math.cos(de),Math.sin(de)],ue=py(S,G),oe=py(w,G),ce=pb(ue,oe);$[W]=Math.sqrt(ce[0]*ce[0]+ce[1]*ce[1]),re[W]=Math.atan2(ce[1],ce[0])}},removeEventListener(...E){return C.removeEventListener(E[0],E[1],E[2])}},C)},yb=(i,e)=>i.createMediaElementSource(e.mediaElement),_b=(i,e)=>{const n=i.createMediaStreamDestination();return Nt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},vb=(i,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((l,u)=>l.id<u.id?-1:l.id>u.id?1:0);const r=n.slice(0,1),a=i.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(a,"mediaStream",{value:e}),a},wb=(i,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const a=new MediaStream([r]),l=n.createMediaStreamSource(a);if(r.kind!=="audio")throw i();if(e(n))throw new TypeError;return l},xb=i=>i===null?null:i.hasOwnProperty("OfflineAudioContext")?i.OfflineAudioContext:i.hasOwnProperty("webkitOfflineAudioContext")?i.webkitOfflineAudioContext:null,kb=(i,e,n,r,a,l)=>(u,h)=>{const f=u.createOscillator();return Nt(f,h),gt(f,h,"detune"),gt(f,h,"frequency"),h.periodicWave!==void 0?f.setPeriodicWave(h.periodicWave):at(f,h,"type"),e(n,()=>n(u))||pf(f),e(r,()=>r(u))||l(f,u),e(a,()=>a(u))||mf(f),i(u,f),f},Sb=i=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?i(e,n):(Nt(r,n),gt(r,n,"orientationX"),gt(r,n,"orientationY"),gt(r,n,"orientationZ"),gt(r,n,"positionX"),gt(r,n,"positionY"),gt(r,n,"positionZ"),at(r,n,"coneInnerAngle"),at(r,n,"coneOuterAngle"),at(r,n,"coneOuterGain"),at(r,n,"distanceModel"),at(r,n,"maxDistance"),at(r,n,"panningModel"),at(r,n,"refDistance"),at(r,n,"rolloffFactor"),r)},bb=(i,e,n,r,a,l,u,h,f,m)=>(g,re)=>{var Q=re,{coneInnerAngle:y,coneOuterAngle:w,coneOuterGain:S,distanceModel:x,maxDistance:b,orientationX:k,orientationY:C,orientationZ:j,panningModel:L,positionX:U,positionY:F,positionZ:P,refDistance:O,rolloffFactor:E}=Q,$=Oi(Q,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);const W=g.createPanner();if($.channelCount>2||$.channelCountMode==="max")throw u();Nt(W,$);const de={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},G=n(g,xe(K({},de),{channelInterpretation:"speakers",numberOfInputs:6})),ue=r(g,xe(K({},$),{gain:1})),oe=r(g,xe(K({},de),{gain:1})),ce=r(g,xe(K({},de),{gain:0})),H=r(g,xe(K({},de),{gain:0})),Z=r(g,xe(K({},de),{gain:0})),X=r(g,xe(K({},de),{gain:0})),D=r(g,xe(K({},de),{gain:0})),B=a(g,256,6,1),Y=l(g,xe(K({},de),{curve:new Float32Array([1,1]),oversample:"none"}));let ge=[k,C,j],Te=[U,F,P];const pe=new Float32Array(1);B.onaudioprocess=({inputBuffer:N})=>{const me=[f(N,pe,0),f(N,pe,1),f(N,pe,2)];me.some((ct,ft)=>ct!==ge[ft])&&(W.setOrientation(...me),ge=me);const he=[f(N,pe,3),f(N,pe,4),f(N,pe,5)];he.some((ct,ft)=>ct!==Te[ft])&&(W.setPosition(...he),Te=he)},Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0});const ae={get bufferSize(){},get channelCount(){return W.channelCount},set channelCount(N){if(N>2)throw u();ue.channelCount=N,W.channelCount=N},get channelCountMode(){return W.channelCountMode},set channelCountMode(N){if(N==="max")throw u();ue.channelCountMode=N,W.channelCountMode=N},get channelInterpretation(){return W.channelInterpretation},set channelInterpretation(N){ue.channelInterpretation=N,W.channelInterpretation=N},get coneInnerAngle(){return W.coneInnerAngle},set coneInnerAngle(N){W.coneInnerAngle=N},get coneOuterAngle(){return W.coneOuterAngle},set coneOuterAngle(N){W.coneOuterAngle=N},get coneOuterGain(){return W.coneOuterGain},set coneOuterGain(N){if(N<0||N>1)throw e();W.coneOuterGain=N},get context(){return W.context},get distanceModel(){return W.distanceModel},set distanceModel(N){W.distanceModel=N},get inputs(){return[ue]},get maxDistance(){return W.maxDistance},set maxDistance(N){if(N<0)throw new RangeError;W.maxDistance=N},get numberOfInputs(){return W.numberOfInputs},get numberOfOutputs(){return W.numberOfOutputs},get orientationX(){return oe.gain},get orientationY(){return ce.gain},get orientationZ(){return H.gain},get panningModel(){return W.panningModel},set panningModel(N){W.panningModel=N},get positionX(){return Z.gain},get positionY(){return X.gain},get positionZ(){return D.gain},get refDistance(){return W.refDistance},set refDistance(N){if(N<0)throw new RangeError;W.refDistance=N},get rolloffFactor(){return W.rolloffFactor},set rolloffFactor(N){if(N<0)throw new RangeError;W.rolloffFactor=N},addEventListener(...N){return ue.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return ue.dispatchEvent(N[0])},removeEventListener(...N){return ue.removeEventListener(N[0],N[1],N[2])}};y!==ae.coneInnerAngle&&(ae.coneInnerAngle=y),w!==ae.coneOuterAngle&&(ae.coneOuterAngle=w),S!==ae.coneOuterGain&&(ae.coneOuterGain=S),x!==ae.distanceModel&&(ae.distanceModel=x),b!==ae.maxDistance&&(ae.maxDistance=b),k!==ae.orientationX.value&&(ae.orientationX.value=k),C!==ae.orientationY.value&&(ae.orientationY.value=C),j!==ae.orientationZ.value&&(ae.orientationZ.value=j),L!==ae.panningModel&&(ae.panningModel=L),U!==ae.positionX.value&&(ae.positionX.value=U),F!==ae.positionY.value&&(ae.positionY.value=F),P!==ae.positionZ.value&&(ae.positionZ.value=P),O!==ae.refDistance&&(ae.refDistance=O),E!==ae.rolloffFactor&&(ae.rolloffFactor=E),(ge[0]!==1||ge[1]!==0||ge[2]!==0)&&W.setOrientation(...ge),(Te[0]!==0||Te[1]!==0||Te[2]!==0)&&W.setPosition(...Te);const Ce=()=>{ue.connect(W),i(ue,Y,0,0),Y.connect(oe).connect(G,0,0),Y.connect(ce).connect(G,0,1),Y.connect(H).connect(G,0,2),Y.connect(Z).connect(G,0,3),Y.connect(X).connect(G,0,4),Y.connect(D).connect(G,0,5),G.connect(B).connect(g.destination)},Re=()=>{ue.disconnect(W),h(ue,Y,0,0),Y.disconnect(oe),oe.disconnect(G),Y.disconnect(ce),ce.disconnect(G),Y.disconnect(H),H.disconnect(G),Y.disconnect(Z),Z.disconnect(G),Y.disconnect(X),X.disconnect(G),Y.disconnect(D),D.disconnect(G),G.disconnect(B),B.disconnect(g.destination)};return m(po(ae,W),Ce,Re)},Tb=i=>(e,{disableNormalization:n,imag:r,real:a})=>{const l=r instanceof Float32Array?r:new Float32Array(r),u=a instanceof Float32Array?a:new Float32Array(a),h=e.createPeriodicWave(u,l,{disableNormalization:n});if(Array.from(r).length<2)throw i();return h},ja=(i,e,n,r)=>i.createScriptProcessor(e,n,r),Cb=(i,e)=>(n,r)=>{const a=r.channelCountMode;if(a==="clamped-max")throw e();if(n.createStereoPanner===void 0)return i(n,r);const l=n.createStereoPanner();return Nt(l,r),gt(l,r,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>a,set:u=>{if(u!==a)throw e()}}),l},Nb=(i,e,n,r,a,l)=>{const h=new Float32Array([1,1]),f=Math.PI/2,m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g=xe(K({},m),{oversample:"none"}),y=(x,b,k,C)=>{const j=new Float32Array(16385),L=new Float32Array(16385);for(let $=0;$<16385;$+=1){const re=$/16384*f;j[$]=Math.cos(re),L[$]=Math.sin(re)}const U=n(x,xe(K({},m),{gain:0})),F=r(x,xe(K({},g),{curve:j})),P=r(x,xe(K({},g),{curve:h})),O=n(x,xe(K({},m),{gain:0})),E=r(x,xe(K({},g),{curve:L}));return{connectGraph(){b.connect(U),b.connect(P.inputs===void 0?P:P.inputs[0]),b.connect(O),P.connect(k),k.connect(F.inputs===void 0?F:F.inputs[0]),k.connect(E.inputs===void 0?E:E.inputs[0]),F.connect(U.gain),E.connect(O.gain),U.connect(C,0,0),O.connect(C,0,1)},disconnectGraph(){b.disconnect(U),b.disconnect(P.inputs===void 0?P:P.inputs[0]),b.disconnect(O),P.disconnect(k),k.disconnect(F.inputs===void 0?F:F.inputs[0]),k.disconnect(E.inputs===void 0?E:E.inputs[0]),F.disconnect(U.gain),E.disconnect(O.gain),U.disconnect(C,0,0),O.disconnect(C,0,1)}}},w=(x,b,k,C)=>{const j=new Float32Array(16385),L=new Float32Array(16385),U=new Float32Array(16385),F=new Float32Array(16385),P=Math.floor(16385/2);for(let ce=0;ce<16385;ce+=1)if(ce>P){const H=(ce-P)/(16384-P)*f;j[ce]=Math.cos(H),L[ce]=Math.sin(H),U[ce]=0,F[ce]=1}else{const H=ce/(16384-P)*f;j[ce]=1,L[ce]=0,U[ce]=Math.cos(H),F[ce]=Math.sin(H)}const O=e(x,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),E=n(x,xe(K({},m),{gain:0})),$=r(x,xe(K({},g),{curve:j})),re=n(x,xe(K({},m),{gain:0})),Q=r(x,xe(K({},g),{curve:L})),W=r(x,xe(K({},g),{curve:h})),de=n(x,xe(K({},m),{gain:0})),G=r(x,xe(K({},g),{curve:U})),ue=n(x,xe(K({},m),{gain:0})),oe=r(x,xe(K({},g),{curve:F}));return{connectGraph(){b.connect(O),b.connect(W.inputs===void 0?W:W.inputs[0]),O.connect(E,0),O.connect(re,0),O.connect(de,1),O.connect(ue,1),W.connect(k),k.connect($.inputs===void 0?$:$.inputs[0]),k.connect(Q.inputs===void 0?Q:Q.inputs[0]),k.connect(G.inputs===void 0?G:G.inputs[0]),k.connect(oe.inputs===void 0?oe:oe.inputs[0]),$.connect(E.gain),Q.connect(re.gain),G.connect(de.gain),oe.connect(ue.gain),E.connect(C,0,0),de.connect(C,0,0),re.connect(C,0,1),ue.connect(C,0,1)},disconnectGraph(){b.disconnect(O),b.disconnect(W.inputs===void 0?W:W.inputs[0]),O.disconnect(E,0),O.disconnect(re,0),O.disconnect(de,1),O.disconnect(ue,1),W.disconnect(k),k.disconnect($.inputs===void 0?$:$.inputs[0]),k.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),k.disconnect(G.inputs===void 0?G:G.inputs[0]),k.disconnect(oe.inputs===void 0?oe:oe.inputs[0]),$.disconnect(E.gain),Q.disconnect(re.gain),G.disconnect(de.gain),oe.disconnect(ue.gain),E.disconnect(C,0,0),de.disconnect(C,0,0),re.disconnect(C,0,1),ue.disconnect(C,0,1)}}},S=(x,b,k,C,j)=>{if(b===1)return y(x,k,C,j);if(b===2)return w(x,k,C,j);throw a()};return(x,L)=>{var U=L,{channelCount:b,channelCountMode:k,pan:C}=U,j=Oi(U,["channelCount","channelCountMode","pan"]);if(k==="max")throw a();const F=i(x,xe(K({},j),{channelCount:1,channelCountMode:k,numberOfInputs:2})),P=n(x,xe(K({},j),{channelCount:b,channelCountMode:k,gain:1})),O=n(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:E,disconnectGraph:$}=S(x,b,P,O,F);Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"maxValue",{get:()=>1}),Object.defineProperty(O.gain,"minValue",{get:()=>-1});const re={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(G){P.channelCount!==G&&(Q&&$(),{connectGraph:E,disconnectGraph:$}=S(x,G,P,O,F),Q&&E()),P.channelCount=G},get channelCountMode(){return P.channelCountMode},set channelCountMode(G){if(G==="clamped-max"||G==="max")throw a();P.channelCountMode=G},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(G){P.channelInterpretation=G},get context(){return P.context},get inputs(){return[P]},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get pan(){return O.gain},addEventListener(...G){return P.addEventListener(G[0],G[1],G[2])},dispatchEvent(...G){return P.dispatchEvent(G[0])},removeEventListener(...G){return P.removeEventListener(G[0],G[1],G[2])}};let Q=!1;const W=()=>{E(),Q=!0},de=()=>{$(),Q=!1};return l(po(re,F),W,de)}},Eb=(i,e,n,r,a,l,u)=>(h,f)=>{const m=h.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&h.createGain().gain.automationRate===void 0)return n(h,f);Nt(m,f);const g=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(g!==null&&g.length<2)throw e();at(m,{curve:g},"curve"),at(m,f,"oversample");let y=null,w=!1;return u(m,"curve",b=>()=>b.call(m),b=>k=>(b.call(m,k),w&&(r(k)&&y===null?y=i(h,m):!r(k)&&y!==null&&(y(),y=null)),k)),a(m,()=>{w=!0,r(m.curve)&&(y=i(h,m))},()=>{w=!1,y!==null&&(y(),y=null)})},Ab=(i,e,n,r,a)=>(l,m)=>{var g=m,{curve:u,oversample:h}=g,f=Oi(g,["curve","oversample"]);const y=l.createWaveShaper(),w=l.createWaveShaper();Nt(y,f),Nt(w,f);const S=n(l,xe(K({},f),{gain:1})),x=n(l,xe(K({},f),{gain:-1})),b=n(l,xe(K({},f),{gain:1})),k=n(l,xe(K({},f),{gain:-1}));let C=null,j=!1,L=null;const U={get bufferSize(){},get channelCount(){return y.channelCount},set channelCount(O){S.channelCount=O,x.channelCount=O,y.channelCount=O,b.channelCount=O,w.channelCount=O,k.channelCount=O},get channelCountMode(){return y.channelCountMode},set channelCountMode(O){S.channelCountMode=O,x.channelCountMode=O,y.channelCountMode=O,b.channelCountMode=O,w.channelCountMode=O,k.channelCountMode=O},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(O){S.channelInterpretation=O,x.channelInterpretation=O,y.channelInterpretation=O,b.channelInterpretation=O,w.channelInterpretation=O,k.channelInterpretation=O},get context(){return y.context},get curve(){return L},set curve(O){if(O!==null&&O.length<2)throw e();if(O===null)y.curve=O,w.curve=O;else{const E=O.length,$=new Float32Array(E+2-E%2),re=new Float32Array(E+2-E%2);$[0]=O[0],re[0]=-O[E-1];const Q=Math.ceil((E+1)/2),W=(E+1)/2-1;for(let de=1;de<Q;de+=1){const G=de/Q*W,ue=Math.floor(G),oe=Math.ceil(G);$[de]=ue===oe?O[ue]:(1-(G-ue))*O[ue]+(1-(oe-G))*O[oe],re[de]=ue===oe?-O[E-1-ue]:-((1-(G-ue))*O[E-1-ue])-(1-(oe-G))*O[E-1-oe]}$[Q]=E%2===1?O[Q-1]:(O[Q-2]+O[Q-1])/2,y.curve=$,w.curve=re}L=O,j&&(r(L)&&C===null?C=i(l,S):C!==null&&(C(),C=null))},get inputs(){return[S]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get oversample(){return y.oversample},set oversample(O){y.oversample=O,w.oversample=O},addEventListener(...O){return S.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return S.dispatchEvent(O[0])},removeEventListener(...O){return S.removeEventListener(O[0],O[1],O[2])}};u!==null&&(U.curve=u instanceof Float32Array?u:new Float32Array(u)),h!==U.oversample&&(U.oversample=h);const F=()=>{S.connect(y).connect(b),S.connect(x).connect(w).connect(k).connect(b),j=!0,r(L)&&(C=i(l,S))},P=()=>{S.disconnect(y),y.disconnect(b),S.disconnect(x),x.disconnect(w),w.disconnect(k),k.disconnect(b),j=!1,C!==null&&(C(),C=null)};return a(po(U,b),F,P)},nn=()=>new DOMException("","NotSupportedError"),Db={numberOfChannels:1},Ob=(i,e,n,r,a)=>class extends i{constructor(u,h,f){let m;if(typeof u=="number"&&h!==void 0&&f!==void 0)m={length:h,numberOfChannels:u,sampleRate:f};else if(typeof u=="object")m=u;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:y,sampleRate:w}=K(K({},Db),m),S=r(y,g,w);e(ga,()=>ga(S))||S.addEventListener("statechange",(()=>{let x=0;const b=k=>{this._state==="running"&&(x>0?(S.removeEventListener("statechange",b),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):x+=1)};return b})()),super(S,y),this._length=g,this._nativeOfflineAudioContext=S,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,f_(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},Rb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Mb=(i,e,n,r,a,l,u)=>class extends i{constructor(f,m){const g=a(f),y=K(K({},Rb),m),w=n(g,y),S=l(g),x=S?r():null,b=f.sampleRate/2;super(f,!1,w,x),this._detune=e(this,S,w.detune,153600,-153600),this._frequency=e(this,S,w.frequency,b,-b),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=x,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const m=typeof f=="function"?u(this,f):null;this._nativeOscillatorNode.onended=m;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===m?f:g}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Vi(this);const m=()=>{this._nativeOscillatorNode.removeEventListener("ended",m),js(this)&&Oa(this)};this._nativeOscillatorNode.addEventListener("ended",m)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},Pb=(i,e,n,r,a)=>()=>{const l=new WeakMap;let u=null,h=null,f=null;const m=(g,y)=>fe(null,null,function*(){let w=n(g);const S=Xt(w,y);if(!S){const x={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:u===null?void 0:u,type:w.type};w=e(y,x),h!==null&&w.start(h),f!==null&&w.stop(f)}return l.set(y,w),S?(yield i(y,g.detune,w.detune),yield i(y,g.frequency,w.frequency)):(yield r(y,g.detune,w.detune),yield r(y,g.frequency,w.frequency)),yield a(g,y,w),w});return{set periodicWave(g){u=g},set start(g){h=g},set stop(g){f=g},render(g,y){const w=l.get(y);return w!==void 0?Promise.resolve(w):m(g,y)}}},jb={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Ib=(i,e,n,r,a,l,u)=>class extends i{constructor(f,m){const g=a(f),y=K(K({},jb),m),w=n(g,y),S=l(g),x=S?r():null;super(f,!1,w,x),this._nativePannerNode=w,this._orientationX=e(this,S,w.orientationX,Kt,hn),this._orientationY=e(this,S,w.orientationY,Kt,hn),this._orientationZ=e(this,S,w.orientationZ,Kt,hn),this._positionX=e(this,S,w.positionX,Kt,hn),this._positionY=e(this,S,w.positionY,Kt,hn),this._positionZ=e(this,S,w.positionZ,Kt,hn),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},Fb=(i,e,n,r,a,l,u,h,f,m)=>()=>{const g=new WeakMap;let y=null;const w=(S,x)=>fe(null,null,function*(){let b=null,k=l(S);const C={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},j=xe(K({},C),{coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor}),L=Xt(k,x);if("bufferSize"in k)b=r(x,xe(K({},C),{gain:1}));else if(!L){const U=xe(K({},j),{orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value});k=a(x,U)}if(g.set(x,b===null?k:b),b!==null){if(y===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Q=new u(6,S.context.length,x.sampleRate),W=e(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});W.connect(Q.destination),y=fe(null,null,function*(){const de=yield Promise.all([S.orientationX,S.orientationY,S.orientationZ,S.positionX,S.positionY,S.positionZ].map((G,ue)=>fe(null,null,function*(){const oe=n(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue===0?1:0});return yield h(Q,G,oe.offset),oe})));for(let G=0;G<6;G+=1)de[G].connect(W,0,G),de[G].start(0);return m(Q)})}const U=yield y,F=r(x,xe(K({},C),{gain:1}));yield f(S,x,F);const P=[];for(let Q=0;Q<U.numberOfChannels;Q+=1)P.push(U.getChannelData(Q));let O=[P[0][0],P[1][0],P[2][0]],E=[P[3][0],P[4][0],P[5][0]],$=r(x,xe(K({},C),{gain:1})),re=a(x,xe(K({},j),{orientationX:O[0],orientationY:O[1],orientationZ:O[2],positionX:E[0],positionY:E[1],positionZ:E[2]}));F.connect($).connect(re.inputs[0]),re.connect(b);for(let Q=128;Q<U.length;Q+=128){const W=[P[0][Q],P[1][Q],P[2][Q]],de=[P[3][Q],P[4][Q],P[5][Q]];if(W.some((G,ue)=>G!==O[ue])||de.some((G,ue)=>G!==E[ue])){O=W,E=de;const G=Q/x.sampleRate;$.gain.setValueAtTime(0,G),$=r(x,xe(K({},C),{gain:0})),re=a(x,xe(K({},j),{orientationX:O[0],orientationY:O[1],orientationZ:O[2],positionX:E[0],positionY:E[1],positionZ:E[2]})),$.gain.setValueAtTime(1,G),F.connect($).connect(re.inputs[0]),re.connect(b)}}return b}return L?(yield i(x,S.orientationX,k.orientationX),yield i(x,S.orientationY,k.orientationY),yield i(x,S.orientationZ,k.orientationZ),yield i(x,S.positionX,k.positionX),yield i(x,S.positionY,k.positionY),yield i(x,S.positionZ,k.positionZ)):(yield h(x,S.orientationX,k.orientationX),yield h(x,S.orientationY,k.orientationY),yield h(x,S.orientationZ,k.orientationZ),yield h(x,S.positionX,k.positionX),yield h(x,S.positionY,k.positionY),yield h(x,S.positionZ,k.positionZ)),fo(k)?yield f(S,x,k.inputs[0]):yield f(S,x,k),k});return{render(S,x){const b=g.get(x);return b!==void 0?Promise.resolve(b):w(S,x)}}},qb={disableNormalization:!1},Lb=(i,e,n,r)=>class S_{constructor(l,u){const h=e(l),f=r(K(K({},qb),u)),m=i(h,f);return n.add(m),m}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===S_.prototype||n.has(l)}},Vb=(i,e)=>(n,r,a)=>(i(r).replay(a),e(r,n,a)),zb=(i,e,n)=>(r,a,l)=>fe(null,null,function*(){const u=i(r);yield Promise.all(u.activeInputs.map((h,f)=>Array.from(h).map(y=>fe(null,[y],function*([m,g]){const S=yield e(m).render(m,a),x=r.context.destination;!n(m)&&(r!==x||!n(r))&&S.connect(l,g,f)}))).reduce((h,f)=>[...h,...f],[]))}),Bb=(i,e,n)=>(r,a,l)=>fe(null,null,function*(){const u=e(r);yield Promise.all(Array.from(u.activeInputs).map(m=>fe(null,[m],function*([h,f]){const y=yield i(h).render(h,a);n(h)||y.connect(l,f)})))}),Ub=(i,e,n,r)=>a=>i(ga,()=>ga(a))?Promise.resolve(i(r,r)).then(l=>{if(!l){const u=n(a,512,0,1);a.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>a.currentTime,u.connect(a.destination)}return a.startRendering()}):new Promise(l=>{const u=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=h=>{u.disconnect(),l(h.renderedBuffer)},u.connect(a.destination),a.startRendering()}),Wb=i=>(e,n)=>{i.set(e,n)},$b=i=>(e,n)=>i.set(e,n),Gb=(i,e,n,r,a,l,u,h)=>(f,m)=>n(f).render(f,m).then(()=>Promise.all(Array.from(r(m)).map(g=>n(g).render(g,m)))).then(()=>a(m)).then(g=>(typeof g.copyFromChannel!="function"?(u(g),hf(g)):e(l,()=>l(g))||h(g),i.add(g),g)),Hb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Qb=(i,e,n,r,a,l)=>class extends i{constructor(h,f){const m=a(h),g=K(K({},Hb),f),y=n(m,g),w=l(m),S=w?r():null;super(h,!1,y,S),this._pan=e(this,w,y.pan)}get pan(){return this._pan}},Xb=(i,e,n,r,a)=>()=>{const l=new WeakMap,u=(h,f)=>fe(null,null,function*(){let m=n(h);const g=Xt(m,f);if(!g){const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,pan:m.pan.value};m=e(f,y)}return l.set(f,m),g?yield i(f,h.pan,m.pan):yield r(f,h.pan,m.pan),fo(m)?yield a(h,f,m.inputs[0]):yield a(h,f,m),m});return{render(h,f){const m=l.get(f);return m!==void 0?Promise.resolve(m):u(h,f)}}},Yb=i=>()=>{if(i===null)return!1;try{new i({length:1,sampleRate:44100})}catch(e){return!1}return!0},Zb=i=>()=>{if(i===null)return!1;const n=new i(1,1,44100).createBuffer(1,1,44100);if(n.copyToChannel===void 0)return!0;const r=new Float32Array(2);try{n.copyFromChannel(r,0,0)}catch(a){return!1}return!0},Kb=i=>()=>{if(i===null)return!1;if(i.prototype!==void 0&&i.prototype.close!==void 0)return!0;const e=new i,n=e.close!==void 0;try{e.close()}catch(r){}return n},Jb=i=>()=>{if(i===null)return Promise.resolve(!1);const e=new i(1,1,44100);return new Promise(n=>{let r=!0;const a=u=>{r&&(r=!1,e.startRendering(),n(u instanceof TypeError))};let l;try{l=e.decodeAudioData(null,()=>{},a)}catch(u){a(u)}l!==void 0&&l.catch(a)})},eT=i=>()=>{if(i===null)return!1;let e;try{e=new i({latencyHint:"balanced"})}catch(n){return!1}return e.close(),!0},tT=i=>()=>{if(i===null)return!1;const n=new i(1,1,44100).createGain(),r=n.connect(n)===n;return n.disconnect(n),r},nT=(i,e)=>()=>fe(null,null,function*(){if(i===null)return!0;if(e===null)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new MessageChannel,a=new e(1,128,44100),l=URL.createObjectURL(n);let u=!1;try{yield a.audioWorklet.addModule(l);const h=new i(a,"a",{numberOfOutputs:0}),f=a.createOscillator();yield new Promise(m=>{h.port.onmessage=()=>m(),h.port.postMessage(r.port2,[r.port2])}),h.port.onmessage=()=>u=!0,f.connect(h),f.start(0),yield a.startRendering(),u=yield new Promise(m=>{r.port1.onmessage=({data:g})=>m(g===1),r.port1.postMessage(0)})}catch(h){}finally{r.port1.close(),URL.revokeObjectURL(l)}return u}),sT=(i,e)=>()=>fe(null,null,function*(){if(i===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),a=URL.createObjectURL(n);let l=!1,u=!1;try{yield r.audioWorklet.addModule(a);const h=new i(r,"a",{numberOfOutputs:0}),f=r.createOscillator();h.port.onmessage=()=>l=!0,h.onprocessorerror=()=>u=!0,f.connect(h),f.start(0),yield r.startRendering(),yield new Promise(m=>setTimeout(m))}catch(h){}finally{URL.revokeObjectURL(a)}return l&&!u}),rT=i=>()=>{if(i===null)return!1;const n=new i(1,1,44100).createChannelMerger();if(n.channelCountMode==="max")return!0;try{n.channelCount=2}catch(r){return!0}return!1},iT=i=>()=>{if(i===null)return!1;const e=new i(1,1,44100);return e.createConstantSource===void 0?!0:e.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY},oT=i=>()=>{if(i===null)return!1;const e=new i(1,1,44100),n=e.createConvolver();n.buffer=e.createBuffer(1,1,e.sampleRate);try{n.buffer=e.createBuffer(1,1,e.sampleRate)}catch(r){return!1}return!0},aT=i=>()=>{if(i===null)return!1;const n=new i(1,1,44100).createConvolver();try{n.channelCount=1}catch(r){return!1}return!0},lT=i=>()=>i!==null&&i.hasOwnProperty("isSecureContext"),cT=i=>()=>{if(i===null)return!1;const e=new i;try{return e.createMediaStreamSource(new MediaStream),!1}catch(n){return!0}finally{e.close()}},uT=(i,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=i(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{n.oncomplete=()=>{r.disconnect(),a(n.currentTime!==0)},n.startRendering()})},hT=i=>()=>{if(i===null)return Promise.resolve(!1);const e=new i(1,1,44100);if(e.createStereoPanner===void 0||e.createConstantSource===void 0)return Promise.resolve(!0);const n=e.createConstantSource(),r=e.createStereoPanner();return n.channelCount=1,n.offset.value=1,r.channelCount=1,n.start(),n.connect(r).connect(e.destination),e.startRendering().then(a=>a.getChannelData(0)[0]!==1)},dT=()=>new DOMException("","UnknownError"),fT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},pT=(i,e,n,r,a,l,u)=>class extends i{constructor(f,m){const g=a(f),y=K(K({},fT),m),w=n(g,y),x=l(g)?r():null;super(f,!0,w,x),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},mT=(i,e,n)=>()=>{const r=new WeakMap,a=(l,u)=>fe(null,null,function*(){let h=e(l);if(!Xt(h,u)){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,curve:h.curve,oversample:h.oversample};h=i(u,m)}return r.set(u,h),fo(h)?yield n(l,u,h.inputs[0]):yield n(l,u,h),h});return{render(l,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},gT=()=>typeof window=="undefined"?null:window,yT=(i,e)=>n=>{n.copyFromChannel=(r,a,l=0)=>{const u=i(l),h=i(a);if(h>=n.numberOfChannels)throw e();const f=n.length,m=n.getChannelData(h),g=r.length;for(let y=u<0?-u:0;y+u<f&&y<g;y+=1)r[y]=m[y+u]},n.copyToChannel=(r,a,l=0)=>{const u=i(l),h=i(a);if(h>=n.numberOfChannels)throw e();const f=n.length,m=n.getChannelData(h),g=r.length;for(let y=u<0?-u:0;y+u<f&&y<g;y+=1)m[y+u]=r[y]}},_T=i=>e=>{e.copyFromChannel=(n=>(r,a,l=0)=>{const u=i(l),h=i(a);if(u<e.length)return n.call(e,r,h,u)})(e.copyFromChannel),e.copyToChannel=(n=>(r,a,l=0)=>{const u=i(l),h=i(a);if(u<e.length)return n.call(e,r,h,u)})(e.copyToChannel)},vT=i=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),i(e,"buffer",a=>()=>{const l=a.call(e);return l===r?null:l},a=>l=>a.call(e,l===null?r:l))},wT=(i,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw i()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw i()}});const a=n.createBufferSource();e(r,()=>{const h=r.numberOfInputs;for(let f=0;f<h;f+=1)a.connect(r,0,f)},()=>a.disconnect(r))},b_=(i,e,n)=>i.copyFromChannel===void 0?i.getChannelData(n)[0]:(i.copyFromChannel(e,n),e[0]),T_=i=>{if(i===null)return!1;const e=i.length;return e%2!==0?i[Math.floor(e/2)]!==0:i[e/2-1]+i[e/2]!==0},Ia=(i,e,n,r)=>{let a=i;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:l,set:u}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(i,e,{get:n(l),set:r(u)})},xT=i=>xe(K({},i),{outputChannelCount:i.outputChannelCount!==void 0?i.outputChannelCount:i.numberOfInputs===1&&i.numberOfOutputs===1?[i.channelCount]:Array.from({length:i.numberOfOutputs},()=>1)}),kT=i=>xe(K({},i),{channelCount:i.numberOfOutputs}),ST=i=>{const{imag:e,real:n}=i;return e===void 0?n===void 0?xe(K({},i),{imag:[0,0],real:[0,0]}):xe(K({},i),{imag:Array.from(n,()=>0),real:n}):n===void 0?xe(K({},i),{imag:e,real:Array.from(e,()=>0)}):xe(K({},i),{imag:e,real:n})},C_=(i,e,n)=>{try{i.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;C_(i,e,n+1e-7)}},bT=i=>{const e=i.createBufferSource();e.start();try{e.start()}catch(n){return!0}return!1},TT=i=>{const e=i.createBufferSource(),n=i.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch(r){return!1}return!0},CT=i=>{const e=i.createBufferSource();e.start();try{e.stop()}catch(n){return!1}return!0},gf=i=>{const e=i.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},N_=i=>{const e=i.createBuffer(1,1,44100),n=i.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch(r){return!1}},yf=i=>{const e=i.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},NT=i=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(i)}finally{e.close(),n.close()}},ET=()=>{try{new DOMException}catch(i){return!1}return!0},AT=()=>new Promise(i=>{const e=new ArrayBuffer(0),{port1:n,port2:r}=new MessageChannel;n.onmessage=({data:a})=>i(a!==null),r.postMessage(e,[e])}),DT=i=>{i.start=(e=>(n=0,r=0,a)=>{const l=i.buffer,u=l===null?r:Math.min(l.duration,r);l!==null&&u>l.duration-.5/i.context.sampleRate?e.call(i,n,0,0):e.call(i,n,u,a)})(i.start)},E_=(i,e)=>{const n=e.createGain();i.connect(n);const r=(a=>()=>{a.call(i,n),i.removeEventListener("ended",r)})(i.disconnect);i.addEventListener("ended",r),po(i,n),i.stop=(a=>{let l=!1;return(u=0)=>{if(l)try{a.call(i,u)}catch(h){n.gain.setValueAtTime(0,u)}else a.call(i,u),l=!0}})(i.stop)},mo=(i,e)=>n=>{const r={value:i};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(i,n):e.handleEvent.call(i,n)},OT=j1(Jr),RT=z1(Jr),MT=Jk(vu),A_=new WeakMap,PT=yS(A_),zn=Ak(new Map,new WeakMap),ts=gT(),D_=QS(zn,vs),_f=gS(Jt),Bt=zb(Jt,_f,Ur),jT=G1(D_,it,Bt),Je=wS(_u),Rt=xb(ts),Qe=FS(Rt),O_=new WeakMap,R_=cS(mo),fr=KS(ts),vf=MS(fr),wf=PS(ts),M_=jS(ts),zi=eb(ts),wt=yk(I1(o_),V1(OT,RT,_c,MT,vc,Jt,PT,Da,it,Jr,js,Ur,cc),zn,ES($d,vc,Jt,it,ma,js),vs,wu,nn,Xk(_c,$d,Jt,it,ma,Je,js,Qe),nS(O_,Jt,es),R_,Je,vf,wf,M_,Qe,zi),IT=$1(wt,jT,vs,D_,Je,Qe),xf=new WeakSet,my=XS(ts),P_=Bk(new Uint32Array(1)),kf=yT(P_,vs),Sf=_T(P_),j_=Q1(xf,zn,nn,my,Rt,Yb(my),kf,Sf),xu=B1(_n),I_=Bb(_f,Ra,Ur),ws=Ik(I_),go=ZS(xu,zn,bT,TT,CT,gf,N_,yf,DT,vT(Ia),E_),xs=Vb(_S(Ra),I_),FT=Z1(ws,go,it,xs,Bt),rs=_k(F1(a_),O_,uf,vk,A1,D1,O1,R1,M1,Bd,r_,fr,C_),qT=Y1(wt,FT,rs,Pt,go,Je,Qe,mo),LT=ok(wt,ak,vs,Pt,JS(_n,Ia),Je,Qe,Bt),VT=Ek(ws,x_,it,xs,Bt),ei=$b(A_),zT=Nk(wt,rs,VT,wu,x_,Je,Qe,ei),_r=GS(Jr,wf),BT=wT(Pt,_r),vr=ab(fr,BT),UT=Rk(vr,it,Bt),WT=Ok(wt,UT,vr,Je,Qe),$T=jk(Pa,it,Bt),GT=Pk(wt,$T,Pa,Je,Qe,kT),HT=ub(xu,go,_n,_r),yo=cb(xu,zn,HT,gf,yf),QT=zk(ws,yo,it,xs,Bt),XT=Vk(wt,rs,QT,yo,Je,Qe,mo),F_=hb(nn,Ia),YT=$k(F_,it,Bt),ZT=Wk(wt,YT,F_,Je,Qe,ei),KT=Kk(ws,k_,it,xs,Bt),JT=Zk(wt,rs,KT,k_,Je,Qe,ei),q_=db(nn),e2=oS(ws,q_,it,xs,Bt),t2=iS(wt,rs,e2,q_,nn,Je,Qe,ei),n2=pS(ws,_n,it,xs,Bt),s2=fS(wt,rs,n2,_n,Je,Qe),r2=gb(wu,Pt,ja,nn),ku=Ub(zn,_n,ja,uT(_n,Rt)),i2=NS(go,it,Rt,Bt,ku),o2=fb(r2),a2=TS(wt,o2,i2,Je,Qe,ei),l2=lk(rs,vr,yo,ja,nn,b_,Qe,Ia),L_=new WeakMap,c2=$S(LT,l2,R_,Qe,L_,mo),V_=kb(xu,zn,gf,N_,yf,E_),u2=Pb(ws,V_,it,xs,Bt),h2=Mb(wt,rs,V_,u2,Je,Qe,mo),z_=qk(go),d2=Ab(z_,Pt,_n,T_,_r),Su=Eb(z_,Pt,d2,T_,_r,fr,Ia),f2=bb(_c,Pt,vr,_n,ja,Su,nn,vc,b_,_r),B_=Sb(f2),p2=Fb(ws,vr,yo,_n,B_,it,Rt,xs,Bt,ku),m2=Ib(wt,rs,B_,p2,Je,Qe,ei),g2=Tb(vs),y2=Lb(g2,Je,new WeakSet,ST),_2=Nb(vr,Pa,_n,Su,nn,_r),U_=Cb(_2,nn),v2=Xb(ws,U_,it,xs,Bt),w2=Qb(wt,rs,U_,v2,Je,Qe),x2=mT(Su,it,Bt),k2=pT(wt,Pt,Su,x2,Je,Qe,ei),W_=qS(ts),bf=uS(ts),$_=new WeakMap,S2=xS($_,Rt),b2=W_?L1(zn,nn,lS(ts),bf,hS(P1),Je,S2,Qe,zi,new WeakMap,new WeakMap,sT(zi,Rt),ts):void 0,T2=IS(vf,Qe),C2=Qk(xf,zn,Hk,aS,new WeakSet,Je,T2,gc,ga,kf,Sf),G_=Tk(b2,IT,j_,qT,zT,WT,GT,XT,ZT,C2,JT,t2,s2,a2,c2,h2,m2,y2,w2,k2),N2=VS(wt,yb,Je,Qe),E2=BS(wt,_b,Je,Qe),A2=US(wt,vb,Je,Qe),D2=wb(Pt,Qe),O2=WS(wt,D2,Je),R2=ik(G_,Pt,nn,dT,N2,E2,A2,O2,fr),Tf=kS(L_),M2=U1(Tf),H_=Fk(vs),P2=eS(Tf),Q_=sS(vs),X_=new WeakMap,j2=mS(X_,es),I2=ob(H_,vs,Pt,vr,Pa,yo,_n,ja,nn,Q_,bf,j2,_r),F2=nb(Pt,I2,_n,nn,_r),q2=bk(ws,H_,go,vr,Pa,yo,_n,P2,Q_,bf,it,zi,Rt,xs,Bt,ku),L2=vS($_),V2=Wb(X_),gy=W_?xk(M2,wt,rs,q2,F2,Jt,L2,Je,Qe,zi,xT,V2,NT,mo):void 0,z2=Gk(nn,Rt),B2=Gb(xf,zn,_f,Tf,ku,gc,kf,Sf),U2=Ob(G_,zn,Pt,z2,B2),W2=AS(_u,vf),$2=DS(cf,wf),G2=OS(uf,M_),H2=RS(_u,Qe),Q2=()=>LS(zn,Zb(Rt),Kb(fr),Jb(Rt),eT(fr),tT(Rt),nT(zi,Rt),rT(Rt),iT(Rt),oT(Rt),aT(Rt),ET,lT(ts),cT(fr),hT(Rt),AT);function gn(i){return i===void 0}function Ie(i){return i!==void 0}function Y_(i){return typeof i=="function"}function Cn(i){return typeof i=="number"}function Is(i){return Object.prototype.toString.call(i)==="[object Object]"&&i.constructor===Object}function Cf(i){return typeof i=="boolean"}function zt(i){return Array.isArray(i)}function ns(i){return typeof i=="string"}function fa(i){return ns(i)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(i)}function ke(i,e){if(!i)throw new Error(e)}function Lt(i,e,n=1/0){if(!(e<=i&&i<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${i}`)}function Nf(i){!i.isOffline&&i.state!=="running"&&_o('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Z_=!1,yy=!1;function Yd(i){Z_=i}function K_(i){gn(i)&&Z_&&!yy&&(yy=!0,_o("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Ef=console;function X2(i){Ef=i}function J_(...i){Ef.log(...i)}function _o(...i){Ef.warn(...i)}const Y2=Object.freeze(Object.defineProperty({__proto__:null,assert:ke,assertContextRunning:Nf,assertRange:Lt,assertUsedScheduleTime:K_,enterScheduledCallback:Yd,log:J_,setLogger:X2,warn:_o},Symbol.toStringTag,{value:"Module"}));function Z2(i){return new R2(i)}function K2(i,e,n){return new U2(i,e,n)}const Fs=typeof self=="object"?self:null,J2=Fs&&(Fs.hasOwnProperty("AudioContext")||Fs.hasOwnProperty("webkitAudioContext"));function eC(i,e,n){return ke(Ie(gy),"This node only works in a secure context (https or localhost)"),new gy(i,e,n)}function is(i,e,n,r){var a=arguments.length,l=a<3?e:r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,e,n,r);else for(var h=i.length-1;h>=0;h--)(u=i[h])&&(l=(a<3?u(l):a>3?u(e,n,l):u(e,n))||l);return a>3&&l&&Object.defineProperty(e,n,l),l}function Xe(i,e,n,r){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(r.next(g))}catch(y){u(y)}}function f(g){try{m(r.throw(g))}catch(y){u(y)}}function m(g){g.done?l(g.value):a(g.value).then(h,f)}m((r=r.apply(i,[])).next())})}class tC{constructor(e,n,r,a){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Wr(i){return G2(i)}function pr(i){return $2(i)}function uc(i){return H2(i)}function Mi(i){return W2(i)}function nC(i){return i instanceof j_}function sC(i,e){return i==="value"||Wr(e)||pr(e)||nC(e)}function Fn(i,...e){if(!e.length)return i;const n=e.shift();if(Is(i)&&Is(n))for(const r in n)sC(r,n[r])?i[r]=n[r]:Is(n[r])?(i[r]||Object.assign(i,{[r]:{}}),Fn(i[r],n[r])):Object.assign(i,{[r]:n[r]});return Fn(i,...e)}function rC(i,e){return i.length===e.length&&i.every((n,r)=>e[r]===n)}function A(i,e,n=[],r){const a={},l=Array.from(e);if(Is(l[0])&&r&&!Reflect.has(l[0],r)&&(Object.keys(l[0]).some(h=>Reflect.has(i,h))||(Fn(a,{[r]:l[0]}),n.splice(n.indexOf(r),1),l.shift())),l.length===1&&Is(l[0]))Fn(a,l[0]);else for(let u=0;u<n.length;u++)Ie(l[u])&&(a[n[u]]=l[u]);return Fn(i,a)}function iC(i){return i.constructor.getDefaults()}function qn(i,e){return gn(i)?e:i}function Vt(i,e){return e.forEach(n=>{Reflect.has(i,n)&&delete i[n]}),i}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */let zs=class{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Fs&&this.toString()===Fs.TONE_DEBUG_CLASS)&&J_(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}};zs.version=af;const Af=1e-6;function Bi(i,e){return i>e+Af}function Zd(i,e){return Bi(i,e)||Zn(i,e)}function Sc(i,e){return i+Af<e}function Zn(i,e){return Math.abs(i-e)<Af}function ti(i,e,n){return Math.max(Math.min(i,n),e)}class Tn extends zs{constructor(){super(),this.name="Timeline",this._timeline=[];const e=A(Tn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ke(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];ke(Zd(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Zn(this._timeline[n].time,e)){for(let r=n;r>=0&&Zn(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Zd(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const a=this._timeline.length;let l=a;if(a>0&&this._timeline[a-1][n]<=e)return a-1;for(;r<l;){let u=Math.floor(r+(l-r)/2);const h=this._timeline[u],f=this._timeline[u+1];if(Zn(h[n],e)){for(let m=u;m<this._timeline.length;m++){const g=this._timeline[m];if(Zn(g[n],e))u=m;else break}return u}else{if(Sc(h[n],e)&&Bi(f[n],e))return u;Bi(h[n],e)?l=u:r=u+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let a=this._search(e),l=this._search(n);return a!==-1&&l!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[l].time===n&&(l-=1),this._iterate(r,a,l)):a===-1&&this._iterate(r,0,l),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Zn(this._timeline[r].time,e)){let a=r;for(let l=r;l>=0&&Zn(this._timeline[l].time,e);l--)a=l;this._iterate(l=>{n(l)},a,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const e0=[];function bu(i){e0.push(i)}function oC(i){e0.forEach(e=>e(i))}const t0=[];function Tu(i){t0.push(i)}function aC(i){t0.forEach(e=>e(i))}class vo extends zs{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(a=>{gn(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(n)}),this}once(e,n){const r=(...a)=>{n(...a),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(a=>{if(gn(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(gn(n))this._events[a]=[];else{const l=this._events[a];for(let u=l.length-1;u>=0;u--)l[u]===n&&l.splice(u,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let a=0,l=r.length;a<l;a++)r[a].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(vo.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class Df extends vo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class wo extends Df{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Tn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=A(wo.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=Z2({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new tC(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(oC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return ke(Mi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return ke(Mi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return ke(Mi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ke(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ke(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ke(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ke(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return eC(this.rawContext,e,n)}addAudioWorkletModule(e){return Xe(this,void 0,void 0,function*(){ke(Ie(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Xe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Mi(this._context)?this._context.resume():Promise.resolve()}close(){return Xe(this,void 0,void 0,function*(){Mi(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&aC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let l=0;l<r.length;l++)r[l]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=n,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,a=()=>{const l=this.now();this._timeouts.add({callback:()=>{e(),a()},id:r,time:l+n})};return a(),r}}class lC extends Df{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Xe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Ne(i,e){zt(e)?e.forEach(n=>Ne(i,n)):Object.defineProperty(i,e,{enumerable:!0,writable:!1})}function Fa(i,e){zt(e)?e.forEach(n=>Fa(i,n)):Object.defineProperty(i,e,{writable:!0})}const qe=()=>{};class ze extends zs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=qe;const e=A(ze.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,ns(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:qe,onload:qe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:st().sampleRate}set(e){return e instanceof ze?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Xe(this,void 0,void 0,function*(){const n=ze.load(e).then(r=>{this.set(r),this.onload(this)});ze.downloads.push(n);try{yield n}finally{const r=ze.downloads.indexOf(n);ze.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=zt(e)&&e[0].length>0,r=n?e.length:1,a=n?e[0].length:e.length,l=st(),u=l.createBuffer(r,a,l.sampleRate),h=!n&&r===1?[e]:e;for(let f=0;f<r;f++)u.copyToChannel(h[f],f);return this._buffer=u,this}toMono(e){if(Cn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let a=0;a<r;a++){const l=this.toArray(a);for(let u=0;u<l.length;u++)n[u]+=l[u]}n=n.map(a=>a/r),this.fromArray(n)}return this}toArray(e){if(Cn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){ke(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),a=Math.floor(n*this.sampleRate);ke(r<a,"The start time must be less than the end time");const l=a-r,u=st().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let h=0;h<this.numberOfChannels;h++)u.copyToChannel(this.getChannelData(h).subarray(r,a),h);return new ze(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ze().fromArray(e)}static fromUrl(e){return Xe(this,void 0,void 0,function*(){return yield new ze().load(e)})}static load(e){return Xe(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const f=n[1].split("|");let m=f[0];for(const g of f)if(ze.supportsType(g)){m=g;break}e=e.replace(n[0],m)}const r=ze.baseUrl===""||ze.baseUrl.endsWith("/")?ze.baseUrl:ze.baseUrl+"/",a=document.createElement("a");a.href=r+e,a.pathname=(a.pathname+a.hash).split("/").map(encodeURIComponent).join("/");const l=yield fetch(a.href);if(!l.ok)throw new Error(`could not load url: ${e}`);const u=yield l.arrayBuffer();return yield st().decodeAudioData(u)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Xe(this,void 0,void 0,function*(){for(yield Promise.resolve();ze.downloads.length;)yield ze.downloads[0]})}}ze.baseUrl="";ze.downloads=[];class xo extends wo{constructor(){super({clockSource:"offline",context:uc(arguments[0])?arguments[0]:K2(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:uc(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=uc(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Xe(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(e=!0){return Xe(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new ze(n)})}close(){return Promise.resolve()}}const n0=new lC;let Fr=n0;function st(){return Fr===n0&&J2&&bc(new wo),Fr}function bc(i,e=!1){e&&Fr.dispose(),Mi(i)?Fr=new wo(i):uc(i)?Fr=new xo(i):Fr=i}function Cu(){return Fr.resume()}if(Fs&&!Fs.TONE_SILENCE_LOGGING){const e=` * Tone.js v${af} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Ui(i){return Math.pow(10,i/20)}function qa(i){return 20*(Math.log(i)/Math.LN10)}function Wi(i){return Math.pow(2,i/12)}let Nu=440;function cC(){return Nu}function uC(i){Nu=i}function dr(i){return Math.round(s0(i))}function s0(i){return 69+12*Math.log2(i/Nu)}function Of(i){return Nu*Math.pow(2,(i-69)/12)}class Rf extends zs{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),a=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/r)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(a+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(a+=this._beatsToUnits(parseFloat(r)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Rf&&this.fromType(this._val),gn(this._val))return this._noArg();if(ns(this._val)&&gn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Is(this._val)){let e=0;for(const n in this._val)if(Ie(this._val[n])){const r=this._val[n],a=new this.constructor(this.context,n).valueOf()*r;e+=a}return e}if(Ie(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return ns(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class bn extends Rf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new bn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),h=Math.round(a/r)*r-a;return a+h*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let l=1;l<9;l++){const u=Math.pow(2,l);n.push(u+"n."),n.push(u+"n"),n.push(u+"t")}n.push("0");let r=n[0],a=new bn(this.context,n[0]).toSeconds();return n.forEach(l=>{const u=new bn(this.context,l).toSeconds();Math.abs(u-e)<Math.abs(a-e)&&(r=l,a=u)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let a=n%1*4;n=Math.floor(n)%this._getTimeSignature();const l=a.toString();return l.length>3&&(a=parseFloat(parseFloat(l).toFixed(3))),[r,n,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return dr(this.toFrequency())}_now(){return this.context.now()}}function hC(i,e){return new bn(st(),i,e)}class en extends bn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return cC()}static set A4(e){uC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:en.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const a=dC[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?a:en.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(a*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(a*=this._beatsToUnits(parseFloat(r)/4)),a}}})}transpose(e){return new en(this.context,this.valueOf()*Wi(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return dr(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/en.A4);let r=Math.round(12*n)+57;const a=Math.floor(r/12);return a<0&&(r+=-12*a),fC[r%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Of(e)}static ftom(e){return dr(e)}}const dC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},fC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function pC(i,e){return new en(st(),i,e)}class kt extends bn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function mC(i,e){return new kt(st(),i,e)}class jt extends zs{constructor(){super();const e=A(jt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:st()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return K_(e),new bn(this.context,e).toSeconds()}toFrequency(e){return new en(this.context,e).toFrequency()}toTicks(e){return new kt(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{gn(e[r])&&delete n[r]}),n}get(){const e=iC(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];Ie(r)&&Ie(r.value)&&Ie(r.setValueAtTime)?e[n]=r.value:r instanceof jt?e[n]=r._getPartialProperties(e[n]):zt(r)||Cn(r)||ns(r)||Cf(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Ie(this[n])&&(this[n]&&Ie(this[n].value)&&Ie(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof jt?this[n].set(e[n]):this[n]=e[n])}),this}}class ko extends Tn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Lt(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let a=r;a>=0;a--){const l=this._timeline[a];if(l.state===e)return l}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let a=r;a<this._timeline.length;a++){const l=this._timeline[a];if(l.state===e)return l}}}class Me extends jt{constructor(){super(A(Me.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=A(Me.getDefaults(),arguments,["param","units","convert"]);for(ke(Ie(e.param)&&(Wr(e.param)||e.param instanceof Me),"param must be an AudioParam");!Wr(e.param);)e.param=e.param._param;this._swappable=Ie(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Tn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Ie(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(jt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Ie(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ie(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Ie(this.maxValue)&&Ie(this.minValue)&&Lt(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?Ui(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?qa(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),a=this._fromType(e);return ke(isFinite(a)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),a=this._events.get(n);let l=this._initialValue;if(a===null)l=this._initialValue;else if(a.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const u=this._events.getBefore(a.time);let h;u===null?h=this._initialValue:h=u.value,a.type==="setTargetAtTime"&&(l=this._exponentialApproach(a.time,h,a.value,a.constant,n))}else if(r===null)l=a.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let u=a.value;if(a.type==="setTargetAtTime"){const h=this._events.getBefore(a.time);h===null?u=this._initialValue:u=h.value}r.type==="linearRampToValueAtTime"?l=this._linearInterpolate(a.time,u,r.time,r.value,n):l=this._exponentialInterpolate(a.time,u,r.time,r.value,n)}else l=a.value;return this._toType(l)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),a=this.toSeconds(n);return ke(isFinite(r)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:a,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(r,a),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Zn(r,0)?this._minOutput:r,this._assertRange(r);const a=this.toSeconds(n);return ke(isFinite(r)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(r,a),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const a=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,a),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const a=this._fromType(e);ke(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(n);return this._assertRange(a),ke(isFinite(a)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:l,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,l,r),this._param.setTargetAtTime(a,l,r),this}setValueCurveAtTime(e,n,r,a=1){r=this.toSeconds(r),n=this.toSeconds(n);const l=this._fromType(e[0])*a;this.setValueAtTime(this._toType(l),n);const u=r/(e.length-1);for(let h=1;h<e.length;h++){const f=this._fromType(e[h])*a;this.linearRampToValueAtTime(this._toType(f),n+h*u)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return ke(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));ke(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const a=this._events.get(n),l=this._events.getAfter(n);return a&&Zn(a.time,n)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const a=this._events.getAfter(r.time),l=a?a.time:n+2,u=(l-n)/10;for(let h=n;h<l;h+=u)e.linearRampToValueAtTime(this.getValueAtTime(h),h)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){ke(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,a,l){return r+(n-r)*Math.exp(-(l-e)/a)}_linearInterpolate(e,n,r,a,l){return n+(a-n)*((l-e)/(r-e))}_exponentialInterpolate(e,n,r,a,l){return n*Math.pow(a/n,(l-e)/(r-e))}}class ne extends jt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ie(this.input)?Wr(this.input)||this.input instanceof Me?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ie(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Ie(e)&&(e instanceof ne||pr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();ke(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return tn(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return _o("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return Mf(this,e,n,r),this}chain(...e){return Nn(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Ie(this.input)&&(this.input instanceof ne?this.input.dispose():pr(this.input)&&this.input.disconnect()),Ie(this.output)&&(this.output instanceof ne?this.output.dispose():pr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Nn(...i){const e=i.shift();i.reduce((n,r)=>(n instanceof ne?n.connect(r):pr(n)&&tn(n,r),r),e)}function tn(i,e,n=0,r=0){for(ke(Ie(i),"Cannot connect from undefined node"),ke(Ie(e),"Cannot connect to undefined node"),(e instanceof ne||pr(e))&&ke(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ke(i.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ne||e instanceof Me;)Ie(e.input)&&(e=e.input);for(;i instanceof ne;)Ie(i.output)&&(i=i.output);Wr(e)?i.connect(e,n):i.connect(e,n,r)}function Mf(i,e,n=0,r=0){if(Ie(e))for(;e instanceof ne;)e=e.input;for(;!pr(i);)Ie(i.output)&&(i=i.output);Wr(e)?i.disconnect(e,n):pr(e)?i.disconnect(e,n,r):i.disconnect()}function gC(...i){const e=i.pop();Ie(e)&&i.forEach(n=>tn(n,e))}class ve extends ne{constructor(){super(A(ve.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=A(ve.getDefaults(),arguments,["gain","units"]);this.gain=new Me({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ne(this,"gain")}static getDefaults(){return Object.assign(ne.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class $i extends ne{constructor(e){super(e),this.onended=qe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ve({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ne.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:qe})}_startGain(e,n=1){ke(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ke(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==qe&&(this.onended(this),this.onended=qe,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback!="undefined"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ke(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=qe,this}}class ya extends $i{constructor(){super(A(ya.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=A(ya.getDefaults(),arguments,["offset"]);tn(this._source,this._gainNode),this.offset=new Me({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign($i.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ae extends ne{constructor(){super(A(Ae.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=A(Ae.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ya({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ne.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return La(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,a){return this._param.setValueCurveAtTime(e,n,r,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function La(i,e,n,r){(e instanceof Me||Wr(e)||e instanceof Ae&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Ae&&(e.overridden=!0)),tn(i,e,n,r)}class Tc extends Me{constructor(){super(A(Tc.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Tn(1/0),this._multiplier=1;const e=A(Tc.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Me.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const a=this._fromType(e),l=this._events.get(n),u=Math.round(Math.max(1/r,1));for(let h=0;h<=u;h++){const f=r*h+n,m=this._exponentialApproach(l.time,l.value,a,r,f);this.linearRampToValueAtTime(this._toType(m),f)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const a=this._events.get(r),l=this._events.previousEvent(a),u=this._getTicksUntilEvent(l,r);return a.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const a=this._events.get(r),l=this._events.previousEvent(a),u=this._getTicksUntilEvent(l,r);return a.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),a=this._events.get(n),l=Math.round(Math.max((n-a.time)*10,1)),u=(n-a.time)/l;for(let h=0;h<=l;h++){const f=u*h+a.time,m=this._exponentialInterpolate(a.time,a.value,n,r,f);this.linearRampToValueAtTime(this._toType(m),f)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(gn(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(n));const l=this._events.get(n);return l&&l.time===n&&l.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+a)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),a=this.getTicksAtTime(n);return this.getTimeOfTick(a+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const a=this._fromType(this.getValueAtTime(n.time)),u=(this._fromType(this.getValueAtTime(r.time))-a)/(r.time-n.time),h=Math.sqrt(Math.pow(a,2)-2*u*(n.ticks-e)),f=(-a+h)/u,m=(-a-h)/u;return(f>0?f:m)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),a=this.toSeconds(e),l=this.getTicksAtTime(r);return this.getTicksAtTime(r+a)-l}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Cc extends Ae{constructor(){super(A(Cc.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=A(Cc.getDefaults(),arguments,["value"]);this.input=this._param=new Tc({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Ae.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Nc extends jt{constructor(){super(A(Nc.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new ko,this._tickOffset=new Tn,this._ticksAtTime=new Tn,this._secondsAtTime=new Tn;const e=A(Nc.getDefaults(),arguments,["frequency"]);this.frequency=new Cc({context:this.context,units:e.units,value:e.frequency}),Ne(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},jt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Ie(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),a=this._ticksAtTime.get(n),l={state:"paused",time:n};this._state.add(l);let u=a||r,h=a?a.ticks:0,f=null;return this._state.forEachBetween(u.time,n+this.sampleTime,m=>{let g=u.time;const y=this._tickOffset.get(m.time);y&&y.time>=u.time&&(h=y.ticks,g=y.time),u.state==="started"&&m.state!=="started"&&(h+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(g),m.time!==l.time&&(f={state:m.state,time:m.time,ticks:h})),u=m}),this._state.remove(l),f&&this._ticksAtTime.add(f),h}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const a=this._secondsAtTime.get(e);let l=a||n,u=a?a.seconds:0,h=null;return this._state.forEachBetween(l.time,e+this.sampleTime,f=>{let m=l.time;const g=this._tickOffset.get(f.time);g&&g.time>=l.time&&(u=g.seconds,m=g.time),l.state==="started"&&f.state!=="started"&&(u+=f.time-m,f.time!==r.time&&(h={state:f.state,time:f.time,seconds:u})),l=f}),this._state.remove(r),h&&this._secondsAtTime.add(h),u}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),a=this._state.get(n),l=Math.max(r.time,a.time),u=this.frequency.getTicksAtTime(l)+e-r.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,n,r){let a=this._state.get(e);this._state.forEachBetween(e,n,u=>{a&&a.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),u.time-this.sampleTime,r),a=u});let l=null;if(a&&a.state==="started"){const u=Math.max(a.time,e),h=this.frequency.getTicksAtTime(u),f=this.frequency.getTicksAtTime(a.time),m=h-f;let g=Math.ceil(m)-m;g=Zn(g,1)?0:g;let y=this.frequency.getTimeOfTick(h+g);for(;y<n;){try{r(y,Math.round(this.getTicksAtTime(y)))}catch(w){l=w;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class $r extends jt{constructor(){super(A($r.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=qe,this._lastUpdate=0,this._state=new ko("stopped"),this._boundLoop=this._loop.bind(this);const e=A($r.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Nc({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ne(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(jt.getDefaults(),{callback:qe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Nf(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),a=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(a+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const a=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,a);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,a)=>{this.callback(r,a)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}vo.mixin($r);class yn extends ne{constructor(){super(A(yn.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=A(yn.getDefaults(),arguments,["delayTime","maxDelay"]),n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new Me({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Ne(this,"delayTime")}static getDefaults(){return Object.assign(ne.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function yC(i,e,n=2,r=st().sampleRate){return Xe(this,void 0,void 0,function*(){const a=st(),l=new xo(n,e,r);bc(l),yield i(l);const u=l.render();bc(a);const h=yield u;return new ze(h)})}class So extends zs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=A(So.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:qe,onload:qe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ke(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=qe,a=qe){return ns(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ze(this.baseUrl+n,r,a))):this._buffers.set(e.toString(),new ze(n,r,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Gi extends en{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return dr(super._frequencyToUnits(e))}_ticksToUnits(e){return dr(super._ticksToUnits(e))}_beatsToUnits(e){return dr(super._beatsToUnits(e))}_secondsToUnits(e){return dr(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Of(this.toMidi())}transpose(e){return new Gi(this.context,this.toMidi()+e)}}function _C(i,e){return new Gi(st(),i,e)}class lt extends kt{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function vC(i,e){return new lt(st(),i,e)}class wC extends jt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Tn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}bu(i=>{i.draw=new wC({context:i})});Tu(i=>{i.draw.dispose()});class r0 extends zs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ke(Ie(e.time),"Events must have a time property"),ke(Ie(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new xC(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,a=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,a=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,a=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,a=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,a=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),n!==null?r?n.left=a:n.right=a:this._setRoot(a)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),n!==null?r?n.left=a:n.right=a:this._setRoot(a)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let a=1;a<n.length;a++)n[a].low>r.low&&(r=n[a]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(a=>{a.event&&n(a.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(a=>{a.event&&n(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class xC{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}const kC=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class ps extends ne{constructor(){super(A(ps.getDefaults(),arguments,["volume"])),this.name="Volume";const e=A(ps.getDefaults(),arguments,["volume"]);this.input=this.output=new ve({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ne(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ec extends ne{constructor(){super(A(Ec.getDefaults(),arguments)),this.name="Destination",this.input=new ps({context:this.context}),this.output=new ve({context:this.context}),this.volume=this.input.volume;const e=A(Ec.getDefaults(),arguments);Nn(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Nn(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}bu(i=>{i.destination=new Ec({context:i})});Tu(i=>{i.destination.dispose()});class SC extends zs{constructor(e){super(),this.name="TimelineValue",this._timeline=new Tn({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class En extends ne{constructor(){super(Object.assign(A(En.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return La(this,e,n,r),this}}class Vn extends En{constructor(){super(Object.assign(A(Vn.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=A(Vn.getDefaults(),arguments,["mapping","length"]);zt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Y_(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Ae.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let a=0,l=n;a<l;a++){const u=a/(l-1)*2-1;r[a]=e(u,a)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));ke(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Gr extends En{constructor(){super(Object.assign(A(Gr.getDefaults(),arguments,["value"]))),this.name="Pow";const e=A(Gr.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Vn({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(En.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class mr{constructor(e,n){this.id=mr._eventId++,this._remainderTime=0;const r=Object.assign(mr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:qe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}mr._eventId=0;class Pf extends mr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Pf.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},mr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Sc(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new lt(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Sc(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new lt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);Bi(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class _a extends jt{constructor(){super(A(_a.getDefaults(),arguments)),this.name="Transport",this._loop=new SC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Tn,this._repeatedEvents=new r0,this._syncedSignals=[],this._swingAmount=0;const e=A(_a.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new $r({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ne(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(jt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(r*Math.PI)*this._swingAmount;e+=new lt(this.context,this._swingTicks*2/3).toSeconds()*a}Yd(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Yd(!1)}schedule(e,n){const r=new mr(this,{callback:e,time:new kt(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,a=1/0){const l=new Pf(this,{callback:e,duration:new bn(this.context,a).toTicks(),interval:new bn(this.context,n).toTicks(),time:new kt(this.context,r).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(e,n){const r=new mr(this,{callback:e,once:!0,time:new kt(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new lt(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return Ie(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){zt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new bn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new bn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new lt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new lt(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),a=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),l=n+a;this.emit("stop",l),this._clock.setTicksAtTime(e,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),a=e-r%e;return this._clock.nextTickTime(a,n)}}syncSignal(e,n){const r=this.now();let a=this.bpm,l=1/(60/a.getValueAtTime(r)/this.PPQ),u=[];if(e.units==="time"){const f=.015625/l,m=new ve(f),g=new Gr(-1),y=new ve(f);a.chain(m,g,y),a=y,l=1/l,u=[m,g,y]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/l:n=0);const h=new ve(n);return a.connect(h),h.connect(e._param),u.push(h),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(a=>a.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Fa(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}vo.mixin(_a);bu(i=>{i.transport=new _a({context:i})});Tu(i=>{i.transport.dispose()});class yt extends ne{constructor(e){super(e),this.input=void 0,this._state=new ko("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=qe,this._syncedStop=qe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ps({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ne(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,onstop:qe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let a=gn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")ke(Bi(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,n,r);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const l=this._state.get(a);l&&(l.offset=this.toSeconds(qn(n,0)),l.duration=r?this.toSeconds(r):void 0);const u=this.context.transport.schedule(h=>{this._start(h,n,r)},a);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Nf(this.context),this._start(a,n,r);return this}stop(e){let n=gn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Ie(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(Bi(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const a=n-this.toSeconds(r.time);let l;r.duration&&(l=this.toSeconds(r.duration)-a),this._start(e,this.toSeconds(r.offset)+a,l)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=qe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class qs extends $i{constructor(){super(A(qs.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=A(qs.getDefaults(),arguments,["url","onload"]);tn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Me({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ze(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign($i.getDefaults(),{url:new ze,loop:!1,loopEnd:0,loopStart:0,onload:qe,onerror:qe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,a=1){ke(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(e);this._startGain(l,a),this.loop?n=qn(n,this.loopStart):n=qn(n,0);let u=Math.max(this.toSeconds(n),0);if(this.loop){const h=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),m=h-f;Zd(u,h)&&(u=(u-f)%m+f),Zn(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Sc(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,u)),Ie(r)){let h=this.toSeconds(r);h=Math.max(h,0),this.stop(l+h)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Ls extends yt{constructor(){super(A(Ls.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=A(Ls.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(yt.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(ke(e in _y,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=_y[this._type];this._source=new qs({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ri=44100*5,Od=2,Ds={brown:null,pink:null,white:null},_y={get brown(){if(!Ds.brown){const i=[];for(let e=0;e<Od;e++){const n=new Float32Array(Ri);i[e]=n;let r=0;for(let a=0;a<Ri;a++){const l=Math.random()*2-1;n[a]=(r+.02*l)/1.02,r=n[a],n[a]*=3.5}}Ds.brown=new ze().fromArray(i)}return Ds.brown},get pink(){if(!Ds.pink){const i=[];for(let e=0;e<Od;e++){const n=new Float32Array(Ri);i[e]=n;let r,a,l,u,h,f,m;r=a=l=u=h=f=m=0;for(let g=0;g<Ri;g++){const y=Math.random()*2-1;r=.99886*r+y*.0555179,a=.99332*a+y*.0750759,l=.969*l+y*.153852,u=.8665*u+y*.3104856,h=.55*h+y*.5329522,f=-.7616*f-y*.016898,n[g]=r+a+l+u+h+f+m+y*.5362,n[g]*=.11,m=y*.115926}}Ds.pink=new ze().fromArray(i)}return Ds.pink},get white(){if(!Ds.white){const i=[];for(let e=0;e<Od;e++){const n=new Float32Array(Ri);i[e]=n;for(let r=0;r<Ri;r++)n[r]=Math.random()*2-1}Ds.white=new ze().fromArray(i)}return Ds.white}};class ji extends ne{constructor(){super(A(ji.getDefaults(),arguments,["volume"])),this.name="UserMedia";const e=A(ji.getDefaults(),arguments,["volume"]);this._volume=this.output=new ps({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ne(this,"volume"),this.mute=e.mute}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,volume:0})}open(e){return Xe(this,void 0,void 0,function*(){ke(ji.supported,"UserMedia is not supported"),this.state==="started"&&this.close();const n=yield ji.enumerateDevices();Cn(e)?this._device=n[e]:(this._device=n.find(l=>l.label===e||l.deviceId===e),!this._device&&n.length>0&&(this._device=n[0]),ke(Ie(this._device),`No matching device ${e}`));const r={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(r.audio.deviceId=this._device.deviceId);const a=yield navigator.mediaDevices.getUserMedia(r);if(!this._stream){this._stream=a;const l=this.context.createMediaStreamSource(a);tn(l,this.output),this._mediaStream=l}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(e=>{e.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Xe(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(n=>n.kind==="audioinput")})}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){if(this._device)return this._device.deviceId}get groupId(){if(this._device)return this._device.groupId}get label(){if(this._device)return this._device.label}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return Ie(navigator.mediaDevices)&&Ie(navigator.mediaDevices.getUserMedia)}}function ni(i,e){return Xe(this,void 0,void 0,function*(){const n=e/i.context.sampleRate,r=new xo(1,n,i.context.sampleRate);return new i.constructor(Object.assign(i.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Hi extends $i{constructor(){super(A(Hi.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=A(Hi.getDefaults(),arguments,["frequency","type"]);tn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Me({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Me({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ne(this,["frequency","detune"])}static getDefaults(){return Object.assign($i.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class nt extends yt{constructor(){super(A(nt.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=A(nt.getDefaults(),arguments,["frequency","type"]);this.frequency=new Ae({context:this.context,units:"frequency",value:e.frequency}),Ne(this,"frequency"),this.detune=new Ae({context:this.context,units:"cents",value:e.detune}),Ne(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(yt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Hi({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return nt._periodicWaveCache.find(n=>n.phase===this._phase&&rC(n.partials,this._partials));{const e=nt._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(Ie(r)){const{partials:a,wave:l}=r;this._wave=l,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,l]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(a,l);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),nt._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),nt._periodicWaveCache.length>100&&nt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Lt(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const a=new Float32Array(e);this._partials.forEach((l,u)=>a[u]=l),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,n){let a=2048;const l=new Float32Array(a),u=new Float32Array(a);let h=1;if(e==="custom"){if(h=this._partials.length+1,this._partialCount=this._partials.length,a=h,this._partials.length===0)return[l,u]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(h=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],h=Math.max(h,2),a=h):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const m=2/(f*Math.PI);let g;switch(e){case"sine":g=f<=h?1:0,this._partials[f-1]=g;break;case"square":g=f&1?2*m:0,this._partials[f-1]=g;break;case"sawtooth":g=m*(f&1?1:-1),this._partials[f-1]=g;break;case"triangle":f&1?g=2*(m*m)*(f-1>>1&1?-1:1):g=0,this._partials[f-1]=g;break;case"custom":g=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}g!==0?(l[f]=-g*Math.sin(n*f),u[f]=g*Math.cos(n*f)):(l[f]=0,u[f]=0)}return[l,u]}_inverseFFT(e,n,r){let a=0;const l=e.length;for(let u=0;u<l;u++)a+=e[u]*Math.cos(u*r)+n[u]*Math.sin(u*r);return a}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const a=Math.PI*2,l=32;for(let u=0;u<l;u++)r=Math.max(this._inverseFFT(e,n,u/l*a),r);return ti(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Xe(this,void 0,void 0,function*(){return ni(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}nt._periodicWaveCache=[];class Eu extends En{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Vn({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class rt extends Ae{constructor(){super(Object.assign(A(rt.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=A(rt.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new ve({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ae.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Qi extends yt{constructor(){super(A(Qi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Eu({context:this.context}),this._modulationNode=new ve({context:this.context});const e=A(Qi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new nt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new rt({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ne(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(nt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Xe(this,void 0,void 0,function*(){return ni(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Hr extends yt{constructor(){super(A(Hr.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new ve({context:this.context,gain:0});const e=A(Hr.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new nt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Ae({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new nt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new rt({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new rt({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ne(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(nt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Xe(this,void 0,void 0,function*(){return ni(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Qr extends yt{constructor(){super(A(Qr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new ve({context:this.context,gain:0}),this._thresh=new Vn({context:this.context,mapping:n=>n<=0?-1:1});const e=A(Qr.getDefaults(),arguments,["frequency","width"]);this.width=new Ae({context:this.context,units:"audioRange",value:e.width}),this._triangle=new nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ne(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(yt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Xe(this,void 0,void 0,function*(){return ni(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Xi extends yt{constructor(){super(A(Xi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=A(Xi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Ae({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ae({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ne(this,["frequency","detune"])}static getDefaults(){return Object.assign(nt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((a,l)=>a.detune.value=n+r*l)}}get count(){return this._oscillators.length}set count(e){if(Lt(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new nt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):qe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Xe(this,void 0,void 0,function*(){return ni(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Yi extends yt{constructor(){super(A(Yi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new rt({context:this.context,value:2});const e=A(Yi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Qr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new nt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ne(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(yt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Xe(this,void 0,void 0,function*(){return ni(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const vy={am:Qi,fat:Xi,fm:Hr,oscillator:nt,pulse:Qr,pwm:Yi};class ms extends yt{constructor(){super(A(ms.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=A(ms.getDefaults(),arguments,["frequency","type"]);this.frequency=new Ae({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ae({context:this.context,units:"cents",value:e.detune}),Ne(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(nt.getDefaults(),Hr.getDefaults(),Qi.getDefaults(),Xi.getDefaults(),Qr.getDefaults(),Yi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=vy[e],r=this.now();if(this._oscillator){const a=this._oscillator;a.stop(r),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof vy[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Cn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Cn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ns(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Xe(this,void 0,void 0,function*(){return ni(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class si extends Ae{constructor(){super(Object.assign(A(si.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new ve({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Nn(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Ae.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class gs extends En{constructor(){super(Object.assign(A(gs.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=A(gs.getDefaults(),arguments,["min","max"]);this._mult=this.input=new rt({context:this.context,value:e.max-e.min}),this._add=this.output=new si({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(En.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Au extends En{constructor(){super(Object.assign(A(Au.getDefaults(),arguments))),this.name="Zero",this._gain=new ve({context:this.context}),this.output=this._gain,this.input=void 0,tn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Mf(this.context.getConstant(0),this._gain),this}}class Qt extends ne{constructor(){super(A(Qt.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Me.prototype._fromType,this._toType=Me.prototype._toType,this._is=Me.prototype._is,this._clampValue=Me.prototype._clampValue;const e=A(Qt.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new nt(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new ve({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Ae({context:this.context,units:"audioRange",value:0}),this._zeros=new Au({context:this.context}),this._a2g=new Eu({context:this.context}),this._scaler=this.output=new gs({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ne(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(nt.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof Me||e instanceof Ae)&&(this.convert=e.convert,this.units=e.units),La(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function i0(i,e=1/0){const n=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(l){Lt(l,i,e),n.set(this,l)}})}}function Bs(i,e=1/0){const n=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(l){Lt(this.toSeconds(l),i,e),n.set(this,l)}})}}class Xr extends yt{constructor(){super(A(Xr.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=A(Xr.getDefaults(),arguments,["url","onload"]);this._buffer=new ze({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(yt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:qe,onerror:qe,playbackRate:1,reverse:!1})}load(e){return Xe(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=qe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=qn(n,this._loopStart):n=qn(n,0);const a=this.toSeconds(n),l=r;r=qn(r,Math.max(this._buffer.duration-a,0));let u=this.toSeconds(r);u=u/this._playbackRate,e=this.toSeconds(e);const h=new qs({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(h),this._loop&&gn(l)?h.start(e,a):h.start(e,a,u-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const a=this.toSeconds(e);this._stop(r),this._start(r,a)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Lt(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Lt(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}is([Bs(0)],Xr.prototype,"fadeIn",void 0);is([Bs(0)],Xr.prototype,"fadeOut",void 0);class Ac extends ne{constructor(){super(A(Ac.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const e=A(Ac.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new ps({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ne(this,"volume"),this._buffers=new So({urls:e.urls,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.mute=e.mute,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(yt.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:qe,onerror:qe,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._players.forEach(n=>{n.fadeIn=e})}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._players.forEach(n=>{n.fadeOut=e})}get state(){return Array.from(this._players).some(([n,r])=>r.state==="started")?"started":"stopped"}has(e){return this._buffers.has(e)}player(e){if(ke(this.has(e),`No Player with the name ${e} exists on this object`),!this._players.has(e)){const n=new Xr({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(e)}).connect(this.output);this._players.set(e,n)}return this._players.get(e)}get loaded(){return this._buffers.loaded}add(e,n,r){return ke(!this._buffers.has(e),"A buffer with that name already exists on this object"),this._buffers.add(e,n,r),this}stopAll(e){return this._players.forEach(n=>n.stop(e)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(e=>e.dispose()),this._buffers.dispose(),this}}class Dc extends yt{constructor(){super(A(Dc.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const e=A(Dc.getDefaults(),arguments,["url","onload"]);this.buffer=new ze({onload:e.onload,onerror:e.onerror,reverse:e.reverse,url:e.url}),this._clock=new $r({context:this.context,callback:this._tick.bind(this),frequency:1/e.grainSize}),this._playbackRate=e.playbackRate,this._grainSize=e.grainSize,this._overlap=e.overlap,this.detune=e.detune,this.overlap=e.overlap,this.loop=e.loop,this.playbackRate=e.playbackRate,this.grainSize=e.grainSize,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.reverse=e.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(yt.getDefaults(),{onload:qe,onerror:qe,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(e,n,r){n=qn(n,0),n=this.toSeconds(n),e=this.toSeconds(e);const a=1/this._clock.frequency.getValueAtTime(e);this._clock.start(e,n/a),r&&this.stop(e+this.toSeconds(r))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){this._stop(e),this._start(e,n,r)}_stop(e){this._clock.stop(e)}_onstop(e){this._activeSources.forEach(n=>{n.fadeOut=0,n.stop(e)}),this.onstop(this)}_tick(e){const n=this._clock.getTicksAtTime(e),r=n*this._grainSize;if(this.log("offset",r),!this.loop&&r>this.buffer.duration){this.stop(e);return}const a=r<this._overlap?0:this._overlap,l=new qs({context:this.context,url:this.buffer,fadeIn:a,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:Wi(this.detune/100)}).connect(this.output);l.start(e,this._grainSize*n),l.stop(e+this._grainSize/this.playbackRate),this._activeSources.push(l),l.onended=()=>{const u=this._activeSources.indexOf(l);u!==-1&&this._activeSources.splice(u,1)}}get playbackRate(){return this._playbackRate}set playbackRate(e){Lt(e,.001),this._playbackRate=e,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(e){this.buffer.loaded&&Lt(this.toSeconds(e),0,this.buffer.duration),this._loopStart=this.toSeconds(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this.buffer.loaded&&Lt(this.toSeconds(e),0,this.buffer.duration),this._loopEnd=this.toSeconds(e)}get reverse(){return this.buffer.reverse}set reverse(e){this.buffer.reverse=e}get grainSize(){return this._grainSize}set grainSize(e){this._grainSize=this.toSeconds(e),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(e){const n=this.toSeconds(e);Lt(n,0),this._overlap=n}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(e=>e.dispose()),this}}class o0 extends En{constructor(){super(...arguments),this.name="Abs",this._abs=new Vn({context:this.context,mapping:e=>Math.abs(e)<.001?0:Math.abs(e)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class a0 extends En{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Vn({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class jf extends En{constructor(){super(...arguments),this.name="Negate",this._multiply=new rt({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class ri extends Ae{constructor(){super(Object.assign(A(ri.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new ve({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new jf({context:this.context}),this.subtrahend=this._param,Nn(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Ae.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Du extends En{constructor(){super(Object.assign(A(Du.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new Vn({context:this.context,length:127,mapping:e=>e<=0?0:1}),this._scale=this.input=new rt({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class va extends Ae{constructor(){super(Object.assign(A(va.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const e=A(va.getDefaults(),arguments,["value"]);this._subtract=this.input=new ri({context:this.context,value:e.value}),this._gtz=this.output=new Du({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Ne(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Ae.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class wa extends gs{constructor(){super(Object.assign(A(wa.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const e=A(wa.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new Gr({context:this.context,value:e.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(gs.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(e){this._exp.value=e}dispose(){return super.dispose(),this._exp.dispose(),this}}class bC extends Ae{constructor(){super(A(Ae.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const e=A(Ae.getDefaults(),arguments,["value","units"]);this._lastVal=e.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new ya({context:this.context,offset:e.value,units:e.units}).start(0),this.setValueAtTime(e.value,0)}_onTick(e){const n=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==n&&(this._lastVal=n,this._constantSource.offset.setValueAtTime(n,e))}_anchorValue(e){const n=super.getValueAtTime(this.context.transport.seconds);this._lastVal=n,this._constantSource.offset.cancelAndHoldAtTime(e),this._constantSource.offset.setValueAtTime(n,e)}getValueAtTime(e){const n=new kt(this.context,e).toSeconds();return super.getValueAtTime(n)}setValueAtTime(e,n){const r=new kt(this.context,n).toSeconds();return super.setValueAtTime(e,r),this}linearRampToValueAtTime(e,n){const r=new kt(this.context,n).toSeconds();return super.linearRampToValueAtTime(e,r),this}exponentialRampToValueAtTime(e,n){const r=new kt(this.context,n).toSeconds();return super.exponentialRampToValueAtTime(e,r),this}setTargetAtTime(e,n,r){const a=new kt(this.context,n).toSeconds();return super.setTargetAtTime(e,a,r),this}cancelScheduledValues(e){const n=new kt(this.context,e).toSeconds();return super.cancelScheduledValues(n),this}setValueCurveAtTime(e,n,r,a){const l=new kt(this.context,n).toSeconds();return r=this.toSeconds(r),super.setValueCurveAtTime(e,l,r,a),this}cancelAndHoldAtTime(e){const n=new kt(this.context,e).toSeconds();return super.cancelAndHoldAtTime(n),this}setRampPoint(e){const n=new kt(this.context,e).toSeconds();return super.setRampPoint(n),this}exponentialRampTo(e,n,r){const a=new kt(this.context,r).toSeconds();return super.exponentialRampTo(e,n,a),this}linearRampTo(e,n,r){const a=new kt(this.context,r).toSeconds();return super.linearRampTo(e,n,a),this}targetRampTo(e,n,r){const a=new kt(this.context,r).toSeconds();return super.targetRampTo(e,n,a),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class It extends ne{constructor(){super(A(It.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Ae({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=A(It.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ne.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(ns(e))return e;{let r;for(r in sc)if(sc[r][n]===e)return r;return e}}_setCurve(e,n,r){if(ns(r)&&Reflect.has(sc,r)){const a=sc[r];Is(a)?e!=="_decayCurve"&&(this[e]=a[n]):this[e]=a}else if(zt(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const h=1/a;a=(1-u)/h}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,a,e);else{this._sig.cancelAndHoldAtTime(e);let h=this._attackCurve;for(let f=1;f<h.length;f++)if(h[f-1]<=u&&u<=h[f]){h=this._attackCurve.slice(f),h[0]=u;break}this._sig.setValueCurveAtTime(h,e,a,n)}if(l&&this.sustain<1){const h=n*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(h,l+f):this._sig.exponentialApproachValueAtTime(h,f,l)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(ke(zt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return La(this,e,n,r),this}asArray(e=1024){return Xe(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new xo(1,n,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=a+this.toSeconds(this.release),u=l*.1,h=l+u,f=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/h,decay:n*this.toSeconds(this.decay)/h,release:n*this.toSeconds(this.release)/h,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(n*(a+u)/h,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}is([Bs(0)],It.prototype,"attack",void 0);is([Bs(0)],It.prototype,"decay",void 0);is([i0(0,1)],It.prototype,"sustain",void 0);is([Bs(0)],It.prototype,"release",void 0);const sc=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const a=[],l=6.4;for(e=0;e<127;e++){n=e/127;const w=Math.sin(n*(Math.PI*2)*l-Math.PI/2)+1;a[e]=w/10+n*.83}a[127]=1;const u=[],h=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*h)/h;const f=[];for(e=0;e<128;e++)n=e/127,f[e]=.5*(1-Math.cos(Math.PI*n));const m=[];for(e=0;e<128;e++){n=e/127;const w=Math.pow(n,3)*4+.2,S=Math.cos(w*Math.PI*2*n);m[e]=Math.abs(S*(1-n))}function g(w){const S=new Array(w.length);for(let x=0;x<w.length;x++)S[x]=1-w[x];return S}function y(w){return w.slice(0).reverse()}return{bounce:{In:g(m),Out:m},cosine:{In:r,Out:y(r)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:g(a)},sine:{In:f,Out:g(f)},step:{In:u,Out:g(u)}}})();class An extends ne{constructor(){super(A(An.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=A(An.getDefaults(),arguments);this._volume=this.output=new ps({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ne(this,"volume")}static getDefaults(){return Object.assign(ne.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...a)=>{const l=a[n],u=this.context.transport.schedule(h=>{a[n]=h,r.apply(this,a)},l);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,a){const l=this.toSeconds(r),u=this.toSeconds(n);return this.triggerAttack(e,l,a),this.triggerRelease(l+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Mt extends An{constructor(){super(A(Mt.getDefaults(),arguments));const e=A(Mt.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(An.getDefaults(),{detune:0,onsilence:qe,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const a=this.toSeconds(n);return this._triggerEnvelopeAttack(a,r),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),a=e instanceof en?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,l,r)}else this.frequency.setValueAtTime(a,r);return this}}is([Bs(0)],Mt.prototype,"portamento",void 0);class bo extends It{constructor(){super(A(bo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ve({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ln extends Mt{constructor(){super(A(Ln.getDefaults(),arguments)),this.name="Synth";const e=A(Ln.getDefaults(),arguments);this.oscillator=new ms(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new bo(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ne(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Mt.getDefaults(),{envelope:Object.assign(Vt(It.getDefaults(),Object.keys(ne.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Vt(ms.getDefaults(),[...Object.keys(yt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Zi extends Mt{constructor(){super(A(Zi.getDefaults(),arguments)),this.name="ModulationSynth";const e=A(Zi.getDefaults(),arguments);this._carrier=new Ln({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Ln({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Ae({context:this.context,units:"frequency"}),this.detune=new Ae({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new rt({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new ve({context:this.context,gain:0}),Ne(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Mt.getDefaults(),{harmonicity:3,oscillator:Object.assign(Vt(ms.getDefaults(),[...Object.keys(yt.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Vt(It.getDefaults(),Object.keys(ne.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Vt(ms.getDefaults(),[...Object.keys(yt.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Vt(It.getDefaults(),Object.keys(ne.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,n){this._carrier._triggerEnvelopeAttack(e,n),this._modulator._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class If extends Zi{constructor(){super(A(If.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Eu({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Ki extends ne{constructor(){super(A(Ki.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=A(Ki.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Me({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Me({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Me({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Me({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(ne.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){ke(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let u=0;u<e;u++){const f=Math.pow(u/e,2)*19980+20;n[u]=f}const r=new Float32Array(e),a=new Float32Array(e),l=this.context.createBiquadFilter();return l.type=this.type,l.Q.value=this.Q.value,l.frequency.value=this.frequency.value,l.gain.value=this.gain.value,l.getFrequencyResponse(n,r,a),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class fn extends ne{constructor(){super(A(fn.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new ve({context:this.context}),this.output=new ve({context:this.context}),this._filters=[];const e=A(fn.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Ae({context:this.context,units:"positive",value:e.Q}),this.frequency=new Ae({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ae({context:this.context,units:"cents",value:e.detune}),this.gain=new Ae({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Ne(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(ne.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){ke(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=Cn(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let a=r.indexOf(n);ke(a!==-1,`rolloff can only be ${r.join(", ")}`),a+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(l=>l.disconnect()),this._filters=new Array(a);for(let l=0;l<a;l++){const u=new Ki({context:this.context});u.type=this._type,this.frequency.connect(u.frequency),this.detune.connect(u.detune),this.Q.connect(u.Q),this.gain.connect(u.gain),this._filters[l]=u}this._internalChannels=this._filters,Nn(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new Ki({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((l,u)=>r[u]*=l)}),n.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Fa(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Ji extends It{constructor(){super(A(Ji.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=A(Ji.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Gr({context:this.context,value:e.exponent}),this._scale=this.output=new gs({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(It.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const n=this.toFrequency(e);Lt(n,0),this._baseFrequency=n,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Ps extends Mt{constructor(){super(A(Ps.getDefaults(),arguments)),this.name="MonoSynth";const e=A(Ps.getDefaults(),arguments);this.oscillator=new ms(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new fn(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Ji(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new bo(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ne(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Mt.getDefaults(),{envelope:Object.assign(Vt(It.getDefaults(),Object.keys(ne.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Vt(fn.getDefaults(),Object.keys(ne.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Vt(Ji.getDefaults(),Object.keys(ne.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Vt(ms.getDefaults(),Object.keys(yt.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,n=1){if(this.envelope.triggerAttack(e,n),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Oc extends Mt{constructor(){super(A(Oc.getDefaults(),arguments)),this.name="DuoSynth";const e=A(Oc.getDefaults(),arguments);this.voice0=new Ps(Object.assign(e.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Ps(Object.assign(e.voice1,{context:this.context})),this.harmonicity=new rt({context:this.context,units:"positive",value:e.harmonicity}),this._vibrato=new Qt({frequency:e.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new ve({context:this.context,units:"normalRange",gain:e.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Ae({context:this.context,units:"frequency",value:440}),this.detune=new Ae({context:this.context,units:"cents",value:e.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Ne(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(e){return e=this.toSeconds(e),this.voice0.envelope.getValueAtTime(e)+this.voice1.envelope.getValueAtTime(e)}static getDefaults(){return Fn(Mt.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Fn(Vt(Ps.getDefaults(),Object.keys(Mt.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Fn(Vt(Ps.getDefaults(),Object.keys(Mt.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(e,n){this.voice0._triggerEnvelopeAttack(e,n),this.voice1._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this.voice0._triggerEnvelopeRelease(e),this.voice1._triggerEnvelopeRelease(e),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class Rc extends Zi{constructor(){super(A(Rc.getDefaults(),arguments)),this.name="FMSynth";const e=A(Rc.getDefaults(),arguments);this.modulationIndex=new rt({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Zi.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const wy=[1,1.483,1.932,2.546,2.63,3.897];class xa extends Mt{constructor(){super(A(xa.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const e=A(xa.getDefaults(),arguments);this.detune=new Ae({context:this.context,units:"cents",value:e.detune}),this.frequency=new Ae({context:this.context,units:"frequency"}),this._amplitude=new ve({context:this.context,gain:0}).connect(this.output),this._highpass=new fn({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let n=0;n<wy.length;n++){const r=new Hr({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:n===0?()=>this.onsilence(this):qe,type:"square"});r.connect(this._highpass),this._oscillators[n]=r;const a=new rt({context:this.context,value:wy[n]});this._freqMultipliers[n]=a,this.frequency.chain(a,r.frequency),this.detune.connect(r.detune)}this._filterFreqScaler=new gs({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new It({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return Fn(Mt.getDefaults(),{envelope:Object.assign(Vt(It.getDefaults(),Object.keys(ne.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,n=1){return this.envelope.triggerAttack(e,n),this._oscillators.forEach(r=>r.start(e)),this.envelope.sustain===0&&this._oscillators.forEach(r=>{r.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(n=>n.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(n=>n.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(n=>n.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach(e=>e.dispose()),this._freqMultipliers.forEach(e=>e.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Yr extends Ln{constructor(){super(A(Yr.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=A(Yr.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ne(this,["oscillator","envelope"])}static getDefaults(){return Fn(Mt.getDefaults(),Ln.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),a=this.toFrequency(e instanceof en?e.toFrequency():e),l=a*this.octaves;return this.oscillator.frequency.setValueAtTime(l,r),this.oscillator.frequency.exponentialRampToValueAtTime(a,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}is([i0(0)],Yr.prototype,"octaves",void 0);is([Bs(0)],Yr.prototype,"pitchDecay",void 0);class ka extends An{constructor(){super(A(ka.getDefaults(),arguments)),this.name="NoiseSynth";const e=A(ka.getDefaults(),arguments);this.noise=new Ls(Object.assign({context:this.context},e.noise)),this.envelope=new bo(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(An.getDefaults(),{envelope:Object.assign(Vt(It.getDefaults(),Object.keys(ne.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Vt(Ls.getDefaults(),Object.keys(yt.getDefaults())),{type:"white"})})}triggerAttack(e,n=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,n),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(n,r),this.triggerRelease(n+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Ff=new Set;function qf(i){Ff.add(i)}function l0(i,e){const n=`registerProcessor("${i}", ${e})`;Ff.add(n)}function TC(){return Array.from(Ff).join(`
`)}class Kd extends ne{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=qe;const n=URL.createObjectURL(new Blob([TC()],{type:"text/javascript"})),r=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(n).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(r,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const CC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;qf(CC);const NC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;qf(NC);const EC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;qf(EC);const c0="feedback-comb-filter",AC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;l0(c0,AC);class eo extends Kd{constructor(){super(A(eo.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const e=A(eo.getDefaults(),arguments,["delayTime","resonance"]);this.input=new ve({context:this.context}),this.output=new ve({context:this.context}),this.delayTime=new Me({context:this.context,value:e.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Me({context:this.context,value:e.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Ne(this,["resonance","delayTime"])}_audioWorkletName(){return c0}static getDefaults(){return Object.assign(ne.getDefaults(),{delayTime:.1,resonance:.5})}onReady(e){Nn(this.input,e,this.output);const n=e.parameters.get("delayTime");this.delayTime.setParam(n);const r=e.parameters.get("feedback");this.resonance.setParam(r)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class to extends ne{constructor(){super(A(to.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const e=A(to.getDefaults(),arguments,["frequency","type"]);this._frequency=e.frequency,this._type=e.type,this.input=new ve({context:this.context}),this.output=new ve({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(ne.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const e=this._filter,n=this.toFrequency(this._frequency),r=1/(2*Math.PI*n);if(this._type==="lowpass"){const a=1/(r*this.context.sampleRate),l=a-1;this._filter=this.context.createIIRFilter([a,0],[1,l])}else{const a=1/(r*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,a])}this.input.chain(this._filter,this.output),e&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(e),e.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(e){this._frequency=e,this._createFilter()}get type(){return this._type}set type(e){this._type=e,this._createFilter()}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let l=0;l<e;l++){const h=Math.pow(l/e,2)*19980+20;n[l]=h}const r=new Float32Array(e),a=new Float32Array(e);return this._filter.getFrequencyResponse(n,r,a),r}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class no extends ne{constructor(){super(A(no.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const e=A(no.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new eo({context:this.context,delayTime:e.delayTime,resonance:e.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new to({context:this.context,frequency:e.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(ne.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(e){this._lowpass.frequency=e}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Mc extends An{constructor(){super(A(Mc.getDefaults(),arguments)),this.name="PluckSynth";const e=A(Mc.getDefaults(),arguments);this._noise=new Ls({context:this.context,type:"pink"}),this.attackNoise=e.attackNoise,this._lfcf=new no({context:this.context,dampening:e.dampening,resonance:e.resonance}),this.resonance=e.resonance,this.release=e.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Fn(An.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(e){this._lfcf.dampening=e}triggerAttack(e,n){const r=this.toFrequency(e);n=this.toSeconds(n);const a=1/r;return this._lfcf.delayTime.setValueAtTime(a,n),this._noise.start(n),this._noise.stop(n+a*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(n),this._lfcf.resonance.setValueAtTime(this.resonance,n),this}triggerRelease(e){return this._lfcf.resonance.linearRampTo(0,this.release,e),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Vr extends An{constructor(){super(A(Vr.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a);const e=A(Vr.getDefaults(),arguments,["voice","options"]);ke(!Cn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(An.getDefaults(),{maxPolyphony:32,options:{},voice:Ln})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return ke(e instanceof Mt,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else _o("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(a=>{const l=new Gi(this.context,a).toMidi(),u=this._getNextAvailableVoice();u&&(u.triggerAttack(a,n,r),this._activeVoices.push({midi:l,voice:u,released:!1}),this.log("triggerAttack",a,n))})}_triggerRelease(e,n){e.forEach(r=>{const a=new Gi(this.context,r).toMidi(),l=this._activeVoices.find(({midi:u,released:h})=>u===a&&!h);l&&(l.voice.triggerRelease(n),l.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,a){ke(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,a):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,a)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const a=this.toSeconds(n);return this._scheduleEvent("attack",e,a,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,a){const l=this.toSeconds(r);if(this.triggerAttack(e,l,a),zt(n)){ke(zt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let u=0;u<e.length;u++){const h=n[Math.min(u,n.length-1)],f=this.toSeconds(h);ke(f>0,"The duration must be greater than 0"),this.triggerRelease(e[u],l+f)}}else{const u=this.toSeconds(n);ke(u>0,"The duration must be greater than 0"),this.triggerRelease(e,l+u)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Vt(e,["onsilence","context"]);return this.options=Fn(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class so extends An{constructor(){super(A(so.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=A(so.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const a=parseInt(r,10);if(ke(fa(r)||Cn(a)&&isFinite(a),`url key is neither a note or midi pitch: ${r}`),fa(r)){const l=new en(this.context,r).toMidi();n[l]=e.urls[r]}else Cn(a)&&isFinite(a)&&(n[a]=e.urls[a])}),this._buffers=new So({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(An.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:qe,onerror:qe,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(a=>{const l=s0(new en(this.context,a).toFrequency()),u=Math.round(l),h=l-u,f=this._findClosest(u),m=u-f,g=this._buffers.get(m),y=Wi(f+h),w=new qs({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);w.start(n,0,g.duration/y,r),zt(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const S=this._activeSources.get(u),x=S.indexOf(w);x!==-1&&S.splice(x,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const a=new en(this.context,r).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const l=this._activeSources.get(a);n=this.toSeconds(n),l.forEach(u=>{u.stop(n)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,a=1){const l=this.toSeconds(r);return this.triggerAttack(e,l,a),zt(n)?(ke(zt(e),"notes must be an array when duration is array"),e.forEach((u,h)=>{const f=n[Math.min(h,n.length-1)];this.triggerRelease(u,l+this.toSeconds(f))})):this.triggerRelease(e,l+this.toSeconds(n)),this}add(e,n,r){if(ke(fa(e)||isFinite(e),`note must be a pitch or midi: ${e}`),fa(e)){const a=new en(this.context,e).toMidi();this._buffers.add(a,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}is([Bs(0)],so.prototype,"attack",void 0);is([Bs(0)],so.prototype,"release",void 0);class Kn extends jt{constructor(){super(A(Kn.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new ko("stopped"),this._startOffset=0;const e=A(Kn.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(jt.getDefaults(),{callback:qe,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let r;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const a=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||Cn(this._loop)&&this._loop>1){r=1/0,Cn(this._loop)&&(r=this._loop*this._getLoopDuration());const l=this._state.getAfter(a);l!==null&&(r=Math.min(r,l.time-a)),r!==1/0&&(r=new lt(this.context,r));const u=new lt(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),u,new lt(this.context,a),r)}else n.id=this.context.transport.schedule(this._tick.bind(this),new lt(this.context,a))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const r=this._state.getBefore(n);let a=n;r!==null&&(a=r.time),this._rescheduleEvents(a)}return this}cancel(e){e=qn(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,r=>{this.context.transport.clear(r.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;Cf(this.humanize)||(r=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*r}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new lt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new lt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const r=this._getLoopDuration();return(e-n.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class ro extends jt{constructor(){super(A(ro.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const e=A(ro.getDefaults(),arguments,["callback","interval"]);this._event=new Kn({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability,humanize:e.humanize}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(jt.getDefaults(),{interval:"4n",callback:qe,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}}class zr extends Kn{constructor(){super(A(zr.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new ko("stopped"),this._events=new Set;const e=A(zr.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach(n=>{zt(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(Kn.getDefaults(),{events:[]})}start(e,n){const r=this.toTicks(e);if(this._state.getValueAtTime(r)!=="started"){n=qn(n,this._loop?this._loopStart:0),this._loop?n=qn(n,this._loopStart):n=qn(n,0);const a=this.toTicks(n);this._state.add({id:-1,offset:a,state:"started",time:r}),this._forEach(l=>{this._startNote(l,r,a)})}return this}_startNote(e,n,r){n-=r,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<r&&(n+=this._getLoopDuration()),e.start(new lt(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=r&&(e.loop=!1,e.start(new lt(this.context,n))):e.startOffset>=r&&e.start(new lt(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(r=>{r.stop(e)}),this}at(e,n){const r=new kt(this.context,e).toTicks(),a=new lt(this.context,1).toSeconds(),l=this._events.values();let u=l.next();for(;!u.done;){const h=u.value;if(Math.abs(r-h.startOffset)<a)return Ie(n)&&(h.value=n),h;u=l.next()}return Ie(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const r=this.toTicks(e);let a;return n instanceof Kn?(a=n,a.callback=this._tick.bind(this)):a=new Kn({callback:this._tick.bind(this),context:this.context,value:n}),a.startOffset=r,a.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(a),this._restartEvent(a),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new lt(this.context,n.time))})}remove(e,n){return Is(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(r=>{r.startOffset===e&&(gn(n)||Ie(n)&&r.value===n)&&(this._events.delete(r),r.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof zr?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(r=>{r[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new lt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new lt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*DC(i){let e=0;for(;e<i;)e=ti(e,0,i-1),yield e,e++}function*OC(i){let e=i-1;for(;e>=0;)e=ti(e,0,i-1),yield e,e--}function*ha(i,e){for(;;)yield*Sn(e(i))}function*xy(i,e){let n=e?0:i-1;for(;;)n=ti(n,0,i-1),yield n,e?(n++,n>=i-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*RC(i){let e=0,n=0;for(;e<i;)e=ti(e,0,i-1),yield e,n++,e+=n%2?2:-1}function*MC(i){let e=i-1,n=0;for(;e>=0;)e=ti(e,0,i-1),yield e,n++,e+=n%2?-2:1}function*PC(i){for(;;)yield Math.floor(Math.random()*i)}function*jC(i){const e=[];for(let n=0;n<i;n++)e.push(n);for(;e.length>0;){const n=e.splice(Math.floor(e.length*Math.random()),1);yield ti(n[0],0,i-1)}}function*IC(i){let e=Math.floor(Math.random()*i);for(;;)e===0?e++:e===i-1||Math.random()<.5?e--:e++,yield e}function*ky(i,e="up",n=0){switch(ke(i>=1,"The number of values must be at least one"),e){case"up":yield*Sn(ha(i,DC));case"down":yield*Sn(ha(i,OC));case"upDown":yield*Sn(xy(i,!0));case"downUp":yield*Sn(xy(i,!1));case"alternateUp":yield*Sn(ha(i,RC));case"alternateDown":yield*Sn(ha(i,MC));case"random":yield*Sn(PC(i));case"randomOnce":yield*Sn(ha(i,jC));case"randomWalk":yield*Sn(IC(i))}}class Pc extends ro{constructor(){super(A(Pc.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const e=A(Pc.getDefaults(),arguments,["callback","values","pattern"]);this.callback=e.callback,this._values=e.values,this._pattern=ky(e.values.length,e.pattern),this._type=e.pattern}static getDefaults(){return Object.assign(ro.getDefaults(),{pattern:"up",values:[],callback:qe})}_tick(e){const n=this._pattern.next();this._index=n.value,this._value=this._values[n.value],this.callback(e,this._value)}get values(){return this._values}set values(e){this._values=e,this.pattern=this._type}get value(){return this._value}get index(){return this._index}get pattern(){return this._type}set pattern(e){this._type=e,this._pattern=ky(this._values.length,this._type)}}class Jn extends Kn{constructor(){super(A(Jn.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new zr({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const e=A(Jn.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Vt(Kn.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,n){n!==null&&!this.mute&&this.callback(e,n)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,n){return this._part.start(e,n&&this._indexTime(n)),this}stop(e){return this._part.stop(e),this}get subdivision(){return new lt(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(n,r)=>n[r],set:(n,r,a)=>(ns(r)&&isFinite(parseInt(r,10))&&zt(a)?n[r]=this._createSequence(a):n[r]=a,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,n,r){e.forEach((a,l)=>{const u=l*n+r;if(zt(a))this._rescheduleSequence(a,n/a.length,u);else{const h=new lt(this.context,u,"i").toSeconds();this._part.add(h,a)}})}_indexTime(e){return new lt(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,e===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class Zr extends ne{constructor(){super(Object.assign(A(Zr.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new a0({context:this.context}),this.a=new ve({context:this.context,gain:0}),this.b=new ve({context:this.context,gain:0}),this.output=new ve({context:this.context}),this._internalChannels=[this.a,this.b];const e=A(Zr.getDefaults(),arguments,["fade"]);this.fade=new Ae({context:this.context,units:"normalRange",value:e.fade}),Ne(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",tn(this._split,this.a.gain,0),tn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ne.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Et extends ne{constructor(e){super(e),this.name="Effect",this._dryWet=new Zr({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ve({context:this.context}),this.effectReturn=new ve({context:this.context}),this.input=new ve({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ne(this,"wet")}static getDefaults(){return Object.assign(ne.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class jc extends Et{constructor(e){super(e),this.name="LFOEffect",this._lfo=new Qt({context:this.context,frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=e.type,Ne(this,["frequency","depth"])}static getDefaults(){return Object.assign(Et.getDefaults(),{frequency:1,type:"sine",depth:1})}start(e){return this._lfo.start(e),this}stop(e){return this._lfo.stop(e),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ic extends jc{constructor(){super(A(Ic.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const e=A(Ic.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new fn(Object.assign(e.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency}static getDefaults(){return Object.assign(jc.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(e){this._lfo.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._lfo.max=this._lfo.min*Math.pow(2,e)}dispose(){return super.dispose(),this.filter.dispose(),this}}class io extends ne{constructor(){super(Object.assign(A(io.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=A(io.getDefaults(),arguments,["pan"]);this.pan=new Me({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ne(this,"pan")}static getDefaults(){return Object.assign(ne.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Fc extends jc{constructor(){super(A(Fc.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const e=A(Fc.getDefaults(),arguments,["frequency"]);this._panner=new io({context:this.context,channelCount:e.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(jc.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class oo extends ne{constructor(){super(A(oo.getDefaults(),arguments,["smoothing"])),this.name="Follower";const e=A(oo.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new o0({context:this.context}),this._lowpass=this.output=new to({context:this.context,frequency:1/this.toSeconds(e.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=e.smoothing}static getDefaults(){return Object.assign(ne.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(e){this._smoothing=e,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class qc extends Et{constructor(){super(A(qc.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const e=A(qc.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new oo({context:this.context,smoothing:e.follower}),this._sweepRange=new wa({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this._inputBoost=new ve({context:this.context}),this._bandpass=new fn({context:this.context,rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new fn({context:this.context,type:"peaking"}),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,Ne(this,["gain","Q"])}static getDefaults(){return Object.assign(Et.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(e){this._follower.smoothing=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._setSweepRange()}get sensitivity(){return qa(1/this._inputBoost.gain.value)}set sensitivity(e){this._inputBoost.gain.value=1/Ui(e)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const u0="bit-crusher",FC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;l0(u0,FC);class Lc extends Et{constructor(){super(A(Lc.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const e=A(Lc.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new Vc({context:this.context,bits:e.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Et.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Vc extends Kd{constructor(){super(A(Vc.getDefaults(),arguments)),this.name="BitCrusherWorklet";const e=A(Vc.getDefaults(),arguments);this.input=new ve({context:this.context}),this.output=new ve({context:this.context}),this.bits=new Me({context:this.context,value:e.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Kd.getDefaults(),{bits:12})}_audioWorkletName(){return u0}onReady(e){Nn(this.input,e,this.output);const n=e.parameters.get("bits");this.bits.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class zc extends Et{constructor(){super(A(zc.getDefaults(),arguments,["order"])),this.name="Chebyshev";const e=A(zc.getDefaults(),arguments,["order"]);this._shaper=new Vn({context:this.context,length:4096}),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample}static getDefaults(){return Object.assign(Et.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(e,n,r){return r.has(n)||(n===0?r.set(n,0):n===1?r.set(n,e):r.set(n,2*e*this._getCoefficient(e,n-1,r)-this._getCoefficient(e,n-2,r))),r.get(n)}get order(){return this._order}set order(e){ke(Number.isInteger(e),"'order' must be an integer"),this._order=e,this._shaper.setMap(n=>this._getCoefficient(n,e,new Map))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class gr extends ne{constructor(){super(A(gr.getDefaults(),arguments,["channels"])),this.name="Split";const e=A(gr.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ne.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Vs extends ne{constructor(){super(A(Vs.getDefaults(),arguments,["channels"])),this.name="Merge";const e=A(Vs.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(ne.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class ys extends ne{constructor(e){super(e),this.name="StereoEffect",this.input=new ve({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Zr({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new gr({context:this.context,channels:2}),this._merge=new Vs({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ne(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Nn(...e),tn(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Nn(...e),tn(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(ne.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Jd extends ys{constructor(e){super(e),this.feedback=new Ae({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new ve({context:this.context}),this._feedbackR=new ve({context:this.context}),this._feedbackSplit=new gr({context:this.context,channels:2}),this._feedbackMerge=new Vs({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ne(this,["feedback"])}static getDefaults(){return Object.assign(ys.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Bc extends Jd{constructor(){super(A(Bc.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const e=A(Bc.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new Qt({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Qt({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new yn({context:this.context}),this._delayNodeR=new yn({context:this.context}),this.frequency=this._lfoL.frequency,Ne(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(Jd.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const n=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-n,0),this._lfoL.max=this._delayTime+n,this._lfoR.min=Math.max(this._delayTime-n,0),this._lfoR.max=this._delayTime+n}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Uc extends Et{constructor(){super(A(Uc.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=A(Uc.getDefaults(),arguments,["distortion"]);this._shaper=new Vn({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(Et.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const n=e*100,r=Math.PI/180;this._shaper.setMap(a=>Math.abs(a)<.001?0:(3+n)*a*20*r/(Math.PI+n*Math.abs(a)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Wc extends Et{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new ve({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Ne(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Et.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class $c extends Wc{constructor(){super(A($c.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const e=A($c.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new yn({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ne(this,"delayTime")}static getDefaults(){return Object.assign(Wc.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class qC extends ne{constructor(e){super(e),this.name="PhaseShiftAllpass",this.input=new ve({context:this.context}),this.output=new ve({context:this.context}),this.offset90=new ve({context:this.context});const n=[.6923878,.9360654322959,.988229522686,.9987488452737],r=[.4021921162426,.856171088242,.9722909545651,.9952884791278];this._bank0=this._createAllPassFilterBank(n),this._bank1=this._createAllPassFilterBank(r),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),Nn(this.input,...this._bank0,this._oneSampleDelay,this.output),Nn(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(e){return e.map(r=>{const a=[[r*r,0,-1],[1,0,-(r*r)]];return this.context.createIIRFilter(a[0],a[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(e=>e.disconnect()),this._bank1.forEach(e=>e.disconnect()),this._oneSampleDelay.disconnect(),this}}class Gc extends Et{constructor(){super(A(Gc.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const e=A(Gc.getDefaults(),arguments,["frequency"]);this.frequency=new Ae({context:this.context,units:"frequency",value:e.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new Hi({context:this.context,type:"sine"}),this._cosine=new nt({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new rt({context:this.context}),this._cosineMultiply=new rt({context:this.context}),this._negate=new jf({context:this.context}),this._add=new si({context:this.context}),this._phaseShifter=new qC({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const n=this.immediate();this._sine.start(n),this._cosine.start(n)}static getDefaults(){return Object.assign(Et.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Sy=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],by=[225,556,441,341];class Hc extends ys{constructor(){super(A(Hc.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const e=A(Hc.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new Ae({context:this.context,value:e.roomSize,units:"normalRange"}),this._allpassFiltersL=by.map(n=>{const r=this.context.createBiquadFilter();return r.type="allpass",r.frequency.value=n,r}),this._allpassFiltersR=by.map(n=>{const r=this.context.createBiquadFilter();return r.type="allpass",r.frequency.value=n,r}),this._combFilters=Sy.map((n,r)=>{const a=new no({context:this.context,dampening:e.dampening,delayTime:n});return r<Sy.length/2?this.connectEffectLeft(a,...this._allpassFiltersL):this.connectEffectRight(a,...this._allpassFiltersR),this.roomSize.connect(a.resonance),a}),Ne(this,["roomSize"])}static getDefaults(){return Object.assign(ys.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(e){this._combFilters.forEach(n=>n.dampening=e)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(e=>e.disconnect()),this._allpassFiltersR.forEach(e=>e.disconnect()),this._combFilters.forEach(e=>e.dispose()),this.roomSize.dispose(),this}}const Ty=[1687/25e3,1601/25e3,2053/25e3,2251/25e3],LC=[.773,.802,.753,.733],VC=[347,113,37];class Qc extends ys{constructor(){super(A(Qc.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const e=A(Qc.getDefaults(),arguments,["roomSize"]);this.roomSize=new Ae({context:this.context,value:e.roomSize,units:"normalRange"}),this._scaleRoomSize=new gs({context:this.context,min:-.733,max:.197}),this._allpassFilters=VC.map(n=>{const r=this.context.createBiquadFilter();return r.type="allpass",r.frequency.value=n,r}),this._feedbackCombFilters=Ty.map((n,r)=>{const a=new eo({context:this.context,delayTime:n});return this._scaleRoomSize.connect(a.resonance),a.resonance.value=LC[r],r<Ty.length/2?this.connectEffectLeft(...this._allpassFilters,a):this.connectEffectRight(...this._allpassFilters,a),a}),this.roomSize.connect(this._scaleRoomSize),Ne(this,["roomSize"])}static getDefaults(){return Object.assign(ys.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(e=>e.disconnect()),this._feedbackCombFilters.forEach(e=>e.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Cy extends Jd{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ne(this,["feedback"])}}class Xc extends Cy{constructor(){super(A(Xc.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const e=A(Xc.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new yn({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new yn({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new yn({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new Ae({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ne(this,["delayTime"])}static getDefaults(){return Object.assign(Cy.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Yc extends Wc{constructor(){super(A(Yc.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const e=A(Yc.getDefaults(),arguments,["pitch"]);this._frequency=new Ae({context:this.context}),this._delayA=new yn({maxDelay:1,context:this.context}),this._lfoA=new Qt({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new yn({maxDelay:1,context:this.context}),this._lfoB=new Qt({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Zr({context:this.context}),this._crossFadeLFO=new Qt({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new yn({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Ne(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const n=this.now();this._lfoA.start(n),this._lfoB.start(n),this._crossFadeLFO.start(n),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Wc.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let n=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,n=Wi(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,n=Wi(e)-1),this._frequency.value=n*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Zc extends ys{constructor(){super(A(Zc.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const e=A(Zc.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new Qt({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Qt({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this.Q=new Ae({context:this.context,value:e.Q,units:"positive"}),this._filtersL=this._makeFilters(e.stages,this._lfoL),this._filtersR=this._makeFilters(e.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),Ne(this,["frequency","Q"])}static getDefaults(){return Object.assign(ys.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(e,n){const r=[];for(let a=0;a<e;a++){const l=this.context.createBiquadFilter();l.type="allpass",this.Q.connect(l.Q),n.connect(l.frequency),r.push(l)}return r}get octaves(){return this._octaves}set octaves(e){this._octaves=e;const n=this._baseFrequency*Math.pow(2,e);this._lfoL.max=n,this._lfoR.max=n}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(e=>e.disconnect()),this._filtersR.forEach(e=>e.disconnect()),this.frequency.dispose(),this}}class ao extends Et{constructor(){super(A(ao.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=A(ao.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Et.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),Lt(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),Lt(e,0),this._preDelay=e,this.generate()}generate(){return Xe(this,void 0,void 0,function*(){const e=this.ready,n=new xo(2,this._decay+this._preDelay,this.context.sampleRate),r=new Ls({context:n}),a=new Ls({context:n}),l=new Vs({context:n});r.connect(l,0,0),a.connect(l,0,1);const u=new ve({context:n}).toDestination();l.connect(u),r.start(0),a.start(0),u.gain.setValueAtTime(0,0),u.gain.setValueAtTime(1,this._preDelay),u.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const h=n.render();return this.ready=h.then(qe),yield e,this._convolver.buffer=(yield h).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Va extends ne{constructor(){super(A(Va.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new gr({channels:2,context:this.context}),this._midAdd=new si({context:this.context}),this.mid=new rt({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new ri({context:this.context}),this.side=new rt({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class za extends ne{constructor(){super(A(za.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new ve({context:this.context}),this.side=new ve({context:this.context}),this._left=new si({context:this.context}),this._leftMult=new rt({context:this.context,value:Math.SQRT1_2}),this._right=new ri({context:this.context}),this._rightMult=new rt({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Vs({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Ny extends Et{constructor(e){super(e),this.name="MidSideEffect",this._midSideMerge=new za({context:this.context}),this._midSideSplit=new Va({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...e){this._midSend.chain(...e,this._midReturn)}connectEffectSide(...e){this._sideSend.chain(...e,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class Kc extends Ny{constructor(){super(A(Kc.getDefaults(),arguments,["width"])),this.name="StereoWidener";const e=A(Kc.getDefaults(),arguments,["width"]);this.width=new Ae({context:this.context,value:e.width,units:"normalRange"}),Ne(this,["width"]),this._twoTimesWidthMid=new rt({context:this.context,value:2}),this._twoTimesWidthSide=new rt({context:this.context,value:2}),this._midMult=new rt({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new ri({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),tn(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new rt({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Ny.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class Jc extends ys{constructor(){super(A(Jc.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const e=A(Jc.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new Qt({context:this.context,type:e.type,min:1,max:0}),this._lfoR=new Qt({context:this.context,type:e.type,min:1,max:0}),this._amplitudeL=new ve({context:this.context}),this._amplitudeR=new ve({context:this.context}),this.frequency=new Ae({context:this.context,value:e.frequency,units:"frequency"}),this.depth=new Ae({context:this.context,value:e.depth,units:"normalRange"}),Ne(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=e.spread}static getDefaults(){return Object.assign(ys.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class eu extends Et{constructor(){super(A(eu.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const e=A(eu.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new yn({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new Qt({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,Ne(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Et.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class lo extends ne{constructor(){super(A(lo.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const e=A(lo.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new ve({context:this.context}),this._split=new gr({context:this.context,channels:e.channels}),this.input.connect(this._split),Lt(e.channels,1);for(let n=0;n<e.channels;n++)this._analysers[n]=this.context.createAnalyser(),this._split.connect(this._analysers[n],n,0);this.size=e.size,this.type=e.type,this.smoothing=e.smoothing}static getDefaults(){return Object.assign(ne.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((e,n)=>{const r=this._buffers[n];this._type==="fft"?e.getFloatFrequencyData(r):this._type==="waveform"&&e.getFloatTimeDomainData(r)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach((n,r)=>{n.fftSize=e*2,this._buffers[r]=new Float32Array(e)})}get channels(){return this._analysers.length}get type(){return this._type}set type(e){ke(e==="waveform"||e==="fft",`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach(n=>n.smoothingTimeConstant=e)}dispose(){return super.dispose(),this._analysers.forEach(e=>e.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class yr extends ne{constructor(){super(A(yr.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new lo({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class tu extends yr{constructor(){super(A(tu.getDefaults(),arguments,["smoothing"])),this.name="Meter";const e=A(tu.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new lo({context:this.context,size:256,type:"waveform",channels:e.channelCount}),this.smoothing=e.smoothing,this.normalRange=e.normalRange,this._rms=new Array(e.channelCount),this._rms.fill(0)}static getDefaults(){return Object.assign(yr.getDefaults(),{smoothing:.8,normalRange:!1,channelCount:1})}getLevel(){return _o("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const e=this._analyser.getValue(),r=(this.channels===1?[e]:e).map((a,l)=>{const u=a.reduce((f,m)=>f+m*m,0),h=Math.sqrt(u/a.length);return this._rms[l]=Math.max(h,this._rms[l]*this.smoothing),this.normalRange?this._rms[l]:qa(this._rms[l])});return this.channels===1?r[0]:r}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class nu extends yr{constructor(){super(A(nu.getDefaults(),arguments,["size"])),this.name="FFT";const e=A(nu.getDefaults(),arguments,["size"]);this.normalRange=e.normalRange,this._analyser.type="fft",this.size=e.size}static getDefaults(){return Object.assign(ne.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(n=>this.normalRange?Ui(n):n)}get size(){return this._analyser.size}set size(e){this._analyser.size=e}get smoothing(){return this._analyser.smoothing}set smoothing(e){this._analyser.smoothing=e}getFrequencyOfIndex(e){return ke(0<=e&&e<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),e*this.context.sampleRate/(this.size*2)}}class Lf extends yr{constructor(){super(A(Lf.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class su extends yr{constructor(){super(A(su.getDefaults(),arguments,["size"])),this.name="Waveform";const e=A(su.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=e.size}static getDefaults(){return Object.assign(yr.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(e){this._analyser.size=e}}class mt extends ne{constructor(){super(A(mt.getDefaults(),arguments,["solo"])),this.name="Solo";const e=A(mt.getDefaults(),arguments,["solo"]);this.input=this.output=new ve({context:this.context}),mt._allSolos.has(this.context)||mt._allSolos.set(this.context,new Set),mt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ne.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),mt._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){mt._soloed.has(this.context)||mt._soloed.set(this.context,new Set),mt._soloed.get(this.context).add(this)}_removeSolo(){mt._soloed.has(this.context)&&mt._soloed.get(this.context).delete(this)}_isSoloed(){return mt._soloed.has(this.context)&&mt._soloed.get(this.context).has(this)}_noSolos(){return!mt._soloed.has(this.context)||mt._soloed.has(this.context)&&mt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),mt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}mt._allSolos=new Map;mt._soloed=new Map;class Sa extends ne{constructor(){super(A(Sa.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=A(Sa.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new io({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ps({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ne(this,["pan","volume"])}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class hr extends ne{constructor(){super(A(hr.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=A(hr.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new mt({solo:e.solo,context:this.context}),this._panVol=this.output=new Sa({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ne(this,["pan","volume"])}static getDefaults(){return Object.assign(ne.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return hr.buses.has(e)||hr.buses.set(e,new ve({context:this.context})),hr.buses.get(e)}send(e,n=0){const r=this._getBus(e),a=new ve({context:this.context,units:"decibels",gain:n});return this.connect(a),a.connect(r),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}hr.buses=new Map;class Vf extends ne{constructor(){super(A(Vf.getDefaults(),arguments)),this.name="Mono",this.input=new ve({context:this.context}),this._merge=this.output=new Vs({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class co extends ne{constructor(){super(A(co.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new ve({context:this.context}),this.output=void 0,this.low=new fn({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new fn({context:this.context,frequency:0,type:"highpass"}),this.mid=new fn({context:this.context,frequency:0,type:"lowpass"}),this.high=new fn({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const e=A(co.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new Ae({context:this.context,units:"frequency",value:e.lowFrequency}),this.highFrequency=new Ae({context:this.context,units:"frequency",value:e.highFrequency}),this.Q=new Ae({context:this.context,units:"positive",value:e.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Ne(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(ne.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Fa(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class zC extends ne{constructor(){super(...arguments),this.name="Listener",this.positionX=new Me({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Me({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Me({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Me({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Me({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Me({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Me({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Me({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Me({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ne.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}bu(i=>{i.listener=new zC({context:i})});Tu(i=>{i.listener.dispose()});class ru extends ne{constructor(){super(A(ru.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const e=A(ru.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=e.panningModel,this.maxDistance=e.maxDistance,this.distanceModel=e.distanceModel,this.coneOuterGain=e.coneOuterGain,this.coneOuterAngle=e.coneOuterAngle,this.coneInnerAngle=e.coneInnerAngle,this.refDistance=e.refDistance,this.rolloffFactor=e.rolloffFactor,this.positionX=new Me({context:this.context,param:this._panner.positionX,value:e.positionX}),this.positionY=new Me({context:this.context,param:this._panner.positionY,value:e.positionY}),this.positionZ=new Me({context:this.context,param:this._panner.positionZ,value:e.positionZ}),this.orientationX=new Me({context:this.context,param:this._panner.orientationX,value:e.orientationX}),this.orientationY=new Me({context:this.context,param:this._panner.orientationY,value:e.orientationY}),this.orientationZ=new Me({context:this.context,param:this._panner.orientationZ,value:e.orientationZ})}static getDefaults(){return Object.assign(ne.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(e,n,r){return this.positionX.value=e,this.positionY.value=n,this.positionZ.value=r,this}setOrientation(e,n,r){return this.orientationX.value=e,this.orientationY.value=n,this.orientationZ.value=r,this}get panningModel(){return this._panner.panningModel}set panningModel(e){this._panner.panningModel=e}get refDistance(){return this._panner.refDistance}set refDistance(e){this._panner.refDistance=e}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(e){this._panner.rolloffFactor=e}get distanceModel(){return this._panner.distanceModel}set distanceModel(e){this._panner.distanceModel=e}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(e){this._panner.coneInnerAngle=e}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(e){this._panner.coneOuterAngle=e}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(e){this._panner.coneOuterGain=e}get maxDistance(){return this._panner.maxDistance}set maxDistance(e){this._panner.maxDistance=e}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class Fi extends ne{constructor(){super(A(Fi.getDefaults(),arguments)),this.name="Recorder";const e=A(Fi.getDefaults(),arguments);this.input=new ve({context:this.context}),ke(Fi.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:e.mimeType})}static getDefaults(){return ne.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return Fs!==null&&Reflect.has(Fs,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return Xe(this,void 0,void 0,function*(){ke(this.state!=="started","Recorder is already started");const e=new Promise(n=>{const r=()=>{this._recorder.removeEventListener("start",r,!1),n()};this._recorder.addEventListener("start",r,!1)});return this._recorder.start(),yield e})}stop(){return Xe(this,void 0,void 0,function*(){ke(this.state!=="stopped","Recorder is not started");const e=new Promise(n=>{const r=a=>{this._recorder.removeEventListener("dataavailable",r,!1),n(a.data)};this._recorder.addEventListener("dataavailable",r,!1)});return this._recorder.stop(),yield e})}pause(){return ke(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class fs extends ne{constructor(){super(A(fs.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=A(fs.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Me({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new Me({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new Me({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new Me({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new Me({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),Ne(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(ne.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class iu extends ne{constructor(){super(Object.assign(A(iu.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const e=A(iu.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new oo({context:this.context,smoothing:e.smoothing}),this._gt=new va({context:this.context,value:Ui(e.threshold)}),this.input=new ve({context:this.context}),this._gate=this.output=new ve({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(ne.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return qa(this._gt.value)}set threshold(e){this._gt.value=Ui(e)}get smoothing(){return this._follower.smoothing}set smoothing(e){this._follower.smoothing=e}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class ba extends ne{constructor(){super(Object.assign(A(ba.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const e=A(ba.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new fs({context:this.context,ratio:20,attack:.003,release:.01,threshold:e.threshold}),this.threshold=this._compressor.threshold,Ne(this,"threshold")}static getDefaults(){return Object.assign(ne.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class ou extends ne{constructor(){super(Object.assign(A(ou.getDefaults(),arguments))),this.name="MidSideCompressor";const e=A(ou.getDefaults(),arguments);this._midSideSplit=this.input=new Va({context:this.context}),this._midSideMerge=this.output=new za({context:this.context}),this.mid=new fs(Object.assign(e.mid,{context:this.context})),this.side=new fs(Object.assign(e.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Ne(this,["mid","side"])}static getDefaults(){return Object.assign(ne.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class au extends ne{constructor(){super(Object.assign(A(au.getDefaults(),arguments))),this.name="MultibandCompressor";const e=A(au.getDefaults(),arguments);this._splitter=this.input=new co({context:this.context,lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new ve({context:this.context}),this.low=new fs(Object.assign(e.low,{context:this.context})),this.mid=new fs(Object.assign(e.mid,{context:this.context})),this.high=new fs(Object.assign(e.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Ne(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(ne.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class lu extends ne{constructor(){super(A(lu.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new ve({context:this.context}),this._internalChannels=[];const e=A(lu.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new co({context:this.context,highFrequency:e.highFrequency,lowFrequency:e.lowFrequency}),this._lowGain=new ve({context:this.context,gain:e.low,units:"decibels"}),this._midGain=new ve({context:this.context,gain:e.mid,units:"decibels"}),this._highGain=new ve({context:this.context,gain:e.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Ne(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(ne.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Fa(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class cu extends ne{constructor(){super(A(cu.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const e=A(cu.getDefaults(),arguments,["url","onload"]);this._buffer=new ze(e.url,n=>{this.buffer=n,e.onload()}),this.input=new ve({context:this.context}),this.output=new ve({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=e.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(ne.getDefaults(),{normalize:!0,onload:qe})}load(e){return Xe(this,void 0,void 0,function*(){this.buffer=yield this._buffer.load(e)})}get buffer(){return this._buffer.length?this._buffer:null}set buffer(e){e&&this._buffer.set(e),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const n=this._buffer.get();this._convolver.buffer=n||null}get normalize(){return this._convolver.normalize}set normalize(e){this._convolver.normalize=e}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function BC(){return st().now()}function UC(){return st().immediate()}const dn=st().transport;function WC(){return st().transport}const Kr=st().destination,$C=st().destination;function GC(){return st().destination}const HC=st().listener;function QC(){return st().listener}const XC=st().draw;function YC(){return st().draw}const ZC=st();function KC(){return ze.loaded()}const JC=ze,eN=So,tN=qs,nN=Object.freeze(Object.defineProperty({__proto__:null,AMOscillator:Qi,AMSynth:If,Abs:o0,Add:si,AmplitudeEnvelope:bo,Analyser:lo,AudioToGain:Eu,AutoFilter:Ic,AutoPanner:Fc,AutoWah:qc,BaseContext:Df,BiquadFilter:Ki,BitCrusher:Lc,Buffer:JC,BufferSource:tN,Buffers:eN,Channel:hr,Chebyshev:zc,Chorus:Bc,Clock:$r,Compressor:fs,Context:wo,Convolver:cu,CrossFade:Zr,DCMeter:Lf,Delay:yn,Destination:Kr,Distortion:Uc,Draw:XC,DuoSynth:Oc,EQ3:lu,Emitter:vo,Envelope:It,FFT:nu,FMOscillator:Hr,FMSynth:Rc,FatOscillator:Xi,FeedbackCombFilter:eo,FeedbackDelay:$c,Filter:fn,Follower:oo,Freeverb:Hc,Frequency:pC,FrequencyClass:en,FrequencyEnvelope:Ji,FrequencyShifter:Gc,Gain:ve,GainToAudio:a0,Gate:iu,GrainPlayer:Dc,GreaterThan:va,GreaterThanZero:Du,IntervalTimeline:r0,JCReverb:Qc,LFO:Qt,Limiter:ba,Listener:HC,Loop:ro,LowpassCombFilter:no,Master:$C,MembraneSynth:Yr,Merge:Vs,MetalSynth:xa,Meter:tu,MidSideCompressor:ou,MidSideMerge:za,MidSideSplit:Va,Midi:_C,MidiClass:Gi,Mono:Vf,MonoSynth:Ps,MultibandCompressor:au,MultibandSplit:co,Multiply:rt,Negate:jf,Noise:Ls,NoiseSynth:ka,Offline:yC,OfflineContext:xo,OmniOscillator:ms,OnePoleFilter:to,Oscillator:nt,PWMOscillator:Yi,PanVol:Sa,Panner:io,Panner3D:ru,Param:Me,Part:zr,Pattern:Pc,Phaser:Zc,PingPongDelay:Xc,PitchShift:Yc,Player:Xr,Players:Ac,PluckSynth:Mc,PolySynth:Vr,Pow:Gr,PulseOscillator:Qr,Recorder:Fi,Reverb:ao,Sampler:so,Scale:gs,ScaleExp:wa,Sequence:Jn,Signal:Ae,Solo:mt,Split:gr,StateTimeline:ko,StereoWidener:Kc,Subtract:ri,SyncedSignal:bC,Synth:Ln,Ticks:vC,TicksClass:lt,Time:hC,TimeClass:bn,Timeline:Tn,ToneAudioBuffer:ze,ToneAudioBuffers:So,ToneAudioNode:ne,ToneBufferSource:qs,ToneEvent:Kn,ToneOscillatorNode:Hi,Transport:dn,TransportTime:mC,TransportTimeClass:kt,Tremolo:Jc,Unit:kC,UserMedia:ji,Vibrato:eu,Volume:ps,WaveShaper:Vn,Waveform:su,Zero:Au,connect:tn,connectSeries:Nn,connectSignal:La,context:ZC,dbToGain:Ui,debug:Y2,defaultArg:qn,disconnect:Mf,fanIn:gC,ftom:dr,gainToDb:qa,getContext:st,getDestination:GC,getDraw:YC,getListener:QC,getTransport:WC,immediate:UC,intervalToFrequencyRatio:Wi,isArray:zt,isBoolean:Cf,isDefined:Ie,isFunction:Y_,isNote:fa,isNumber:Cn,isObject:Is,isString:ns,isUndef:gn,loaded:KC,mtof:Of,now:BC,optionsFromArguments:A,setContext:bc,start:Cu,supported:Q2,version:af},Symbol.toStringTag,{value:"Module"}));let _s=!1,Rd=null,sN=!1,Ta=-6;const rN=()=>nN&&typeof Cu=="function",wr=()=>fe(null,null,function*(){if(_s)return!0;if(!rN())return console.error("Tone.js is not available for audio synthesis"),!1;try{yield Cu(),console.log("Tone.js audio context started successfully"),Kr.volume.value=Ta;const i=new ao({decay:1.5,wet:.2}).toDestination(),e=new ba(-1).connect(i);return Kr.chain(e),dn.bpm.value=120,_s=!0,console.log("Audio synthesis engine initialized successfully"),!0}catch(i){return console.error("Failed to initialize Tone.js audio engine:",i),!1}}),h0=()=>{if(_s)try{dn.stop(),Rd&&(Rd.dispose(),Rd=null),dn.cancel(),zr.disposed.forEach(i=>{try{i.dispose()}catch(e){}}),sN=!1,console.log("All audio resources cleaned up")}catch(i){console.warn("Error during audio cleanup:",i)}},Rs=(i,e=4)=>{if(typeof i=="string")return i;const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];if(typeof i=="number"){if(i>=0&&i<=11)return`${n[i]}${e}`;{const r=n[i%12],a=Math.floor(i/12)-1;return`${r}${a}`}}return"C4"},qi=(i="synth",e={})=>{_s||wr();let n;switch(i.toLowerCase()){case"piano":n=new Vr(Ln,{oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1},volume:-2});break;case"bass":n=new Ps({oscillator:{type:"fmsquare5",modulationType:"triangle",modulationIndex:2,harmonicity:.501},envelope:{attack:.01,decay:.1,sustain:.4,release:2},filterEnvelope:{attack:.01,decay:.1,sustain:.8,release:1.5,baseFrequency:50,octaves:4.4},volume:-4});break;case"pad":n=new Vr(Ln,{oscillator:{type:"sine"},envelope:{attack:.5,decay:.5,sustain:1,release:5},volume:-8});break;default:n=new Vr(Ln,{oscillator:{type:e.oscillatorType||"sine"},envelope:{attack:e.attack||.005,decay:e.decay||.1,sustain:e.sustain||.3,release:e.release||1}})}const r=new ao({decay:1.5,wet:.2});return n.chain(r,Kr),n},iN=(i,e,n="synth",r=0)=>{_s||wr();const a=qi(n),l=i.map(u=>{if(Array.isArray(u)){const[h,f=4]=u;return Rs(h,f)}return Rs(u)});return a.triggerAttackRelease(l,e,r),a},d0=(i={},e=120)=>{_s||wr(),dn.bpm.value=e;const n=new Yr({pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}}).toDestination(),r=new ka({noise:{type:"white"},envelope:{attack:.001,decay:.2,sustain:.02,release:.2}}).toDestination(),a=new xa({frequency:200,envelope:{attack:.001,decay:.1,release:.01},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).toDestination();a.volume.value=-20;const l=i.kick||["C2",null,null,"C2",null,null,"C2",null],u=i.snare||[null,null,"C2",null,null,null,"C2",null],h=i.hihat||["C4","C4","C4","C4","C4","C4","C4","C4"],f=new Jn((y,w)=>{w!==null&&n.triggerAttackRelease(w,"8n",y)},l,"8n"),m=new Jn((y,w)=>{w!==null&&r.triggerAttackRelease("16n",y)},u,"8n"),g=new Jn((y,w)=>{w!==null&&a.triggerAttackRelease("32n",y)},h,"8n");return{start:()=>{f.start(0),m.start(0),g.start(0),dn.start()},stop:()=>{f.stop(),m.stop(),g.stop(),dn.stop()},patterns:{kickPattern:l,snarePattern:u,hihatPattern:h},parts:{kickPart:f,snarePart:m,hihatPart:g}}},oN=(i,e=120,n="synth")=>{_s||wr();const r=qi(n);dn.bpm.value=e;const a=[];i.forEach((u,h)=>{if(!u)a.push(null);else if(Array.isArray(u)){const[f,m=4,g=1]=u,y=Rs(f,m);a.push({note:y,duration:`${g*4}n`})}else a.push({note:u,duration:"4n"})});const l=new Jn((u,h)=>{h&&h.note&&r.triggerAttackRelease(h.note,h.duration,u)},a.map(u=>u||null),"4n");return{start:()=>{l.start(0),dn.start()},stop:()=>{l.stop()},part:l,instrument:r}},Ey=(...e)=>fe(null,[...e],function*(i={}){const{key:n="C",scale:r="major",tempo:a=120,duration:l=30,genre:u="pop",mood:h="upbeat"}=i;if(!_s&&!(yield wr()))return null;dn.bpm.value=a;const f={major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10],pentatonic:[0,2,4,7,9],blues:[0,3,5,6,7,10],chromatic:[0,1,2,3,4,5,6,7,8,9,10,11]},m={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},g=f[r]||f.major,y=m[n.replace("m","")]||0,w=n.includes("m")||r==="minor";let S=[];u.toLowerCase()==="rock"?h==="energetic"?S=[0,5,3,4]:h==="melancholic"?S=[0,5,3,4]:S=[0,3,4,0]:u.toLowerCase()==="jazz"?h==="calm"?S=[0,5,1,4]:S=[1,4,0,0]:u.toLowerCase()==="electronic"?h==="energetic"?S=[5,3,0,4]:h==="melancholic"?S=[5,3,0,1]:S=[0,5,3,4]:u.toLowerCase()==="classical"?w?S=[0,5,3,4]:S=[0,4,5,3]:h==="upbeat"?S=[0,4,5,3]:h==="melancholic"?S=[0,5,3,4]:h==="calm"?S=[0,3,4,0]:S=[0,4,5,3];const x={};x.chordSynth=qi(u==="jazz"?"piano":u==="electronic"?"pad":"synth"),x.bassSynth=qi("bass");const b={};let k;u==="rock"?k=h==="energetic"?{kick:["C2",null,"C2",null,"C2",null,"C2",null],snare:[null,null,"C2",null,null,null,"C2",null],hihat:["C4","C4","C4","C4","C4","C4","C4","C4"]}:{kick:["C2",null,null,"C2",null,null,"C2",null],snare:[null,null,"C2",null,null,null,"C2",null],hihat:["C4",null,"C4",null,"C4",null,"C4",null]}:u==="electronic"?k=h==="energetic"?{kick:["C2",null,"C2","C2","C2",null,"C2","C2"],snare:[null,null,"C2",null,null,null,"C2",null],hihat:["C4","C4","C4","C4","C4","C4","C4","C4"]}:{kick:["C2",null,null,null,"C2",null,null,null],snare:[null,null,"C2",null,null,null,"C2",null],hihat:["C4",null,"C4","C4","C4",null,"C4","C4"]}:u==="jazz"?k={kick:["C2",null,null,"C2",null,null,"C2",null],snare:[null,null,"C2",null,null,null,"C2",null],hihat:["C4","C4","C4","C4","C4","C4","C4","C4"]}:k=h==="energetic"?{kick:["C2",null,null,"C2","C2",null,null,null],snare:[null,null,"C2",null,null,null,"C2",null],hihat:["C4","C4","C4","C4","C4","C4","C4","C4"]}:{kick:["C2",null,null,"C2",null,null,"C2",null],snare:[null,null,"C2",null,null,null,"C2",null],hihat:["C4",null,"C4",null,"C4",null,"C4",null]},b.drums=d0(k,a);const C=[],j=3;S.forEach((E,$)=>{const re=g[E];let Q=r==="minor"?"minor":"major";r==="minor"?(E===2||E===4||E===6)&&(Q="major"):(E===1||E===2||E===5)&&(Q="minor");const W=Rs(re+y,j),de=Rs(re+y+(Q==="minor"?3:4),j),G=Rs(re+y+7,j);let ue=[W,de,G];if(u==="jazz"){const oe=Rs(re+y+(Q==="minor"?10:11),j);ue.push(oe)}C.push(ue)});const L=S.map(E=>{const $=g[E];return Rs($+y,2)}),U=new Jn((E,$)=>{if($!==null){let re="2n";u==="electronic"&&(re="4n"),u==="jazz"&&(re="2n."),x.chordSynth.triggerAttackRelease(C[$],re,E)}},[0,1,2,3],"1m"),F=new Jn((E,$)=>{$!==null&&x.bassSynth.triggerAttackRelease(L[$],"4n",E)},[0,0,1,1,2,2,3,3],"4n"),P=[U,F];if(u!=="electronic"||h!=="calm"){const E=[];for(let re=0;re<8;re++){const Q=Math.floor(Math.random()*g.length),W=4+Math.floor(Math.random()*2);E.push(Rs(g[Q]+y,W))}x.leadSynth=qi(u==="jazz"?"piano":"synth",{oscillatorType:"triangle",attack:.02,release:.8});const $=new Jn((re,Q)=>{Q!==null&&x.leadSynth.triggerAttackRelease(Q,"8n",re)},E,"8n");P.push($)}const O=l*1e3;return{start:()=>{P.forEach(E=>E.start(0)),b.drums.start(),dn.start(),setTimeout(()=>{dn.state==="started"&&(dn.stop(),P.forEach(E=>E.stop()))},O)},stop:()=>{P.forEach(E=>E.stop()),b.drums.stop(),dn.stop()},instruments:x,patterns:b,parts:P}}),aN=(...e)=>fe(null,[...e],function*(i={}){try{if(!_s&&!(yield wr()))return{success:!1,message:"Web Audio API not supported in this browser",play:()=>{},pause:()=>{},isPlaying:()=>!1};h0();const n=yield Ey(i);if(!n)return{success:!1,message:"Failed to create audio track",play:()=>{},pause:()=>{},isPlaying:()=>!1};const a=`browser-synth-${Date.now()}`;let l=!1;const u={success:!0,audio_file:a,url:"browser-synth://"+a,download_url:null,message:"Music generated successfully using browser synthesis (Tone.js)",metadata:{duration:i.duration||30,filename:a,sample_rate:44100,genre:i.genre||"demo",mood:i.mood||"demo",synth_params:i},play:()=>fe(null,null,function*(){try{return yield Cu(),n.start(),l=!0,console.log("Started music playback"),!0}catch(h){return console.error("Error playing synthesized audio:",h),!1}}),pause:()=>fe(null,null,function*(){try{return n.stop(),l=!1,console.log("Paused music playback"),!0}catch(h){return console.error("Error stopping synthesized audio:",h),!1}}),isPlaying:()=>l,createDownloadLink:()=>fe(null,null,function*(){try{const h=new Fi,f=yield Ey(i);Object.values(f.instruments).forEach(y=>{y.connect(h)}),h.start(),f.start(),yield new Promise(y=>setTimeout(y,(i.duration||30)*1e3)),f.stop();const m=yield h.stop(),g=URL.createObjectURL(m);return u.download_url=g,g}catch(h){return console.error("Error creating download link:",h),null}}),setVolume:h=>{try{return Ta=Math.max(-60,Math.min(0,h)),Kr.volume.value=Ta,!0}catch(f){return console.error("Error setting volume:",f),!1}},_toneController:n};return u}catch(n){return console.error("Error creating music track:",n),{success:!1,message:"Failed to create music track: "+n.message,play:()=>{},pause:()=>{},isPlaying:()=>!1}}}),lN=i=>(_s||wr(),Ta=Math.max(-60,Math.min(0,i)),Kr?(Kr.volume.value=Ta,!0):!1),cN={initAudio:wr,stopAllAudio:h0,createInstrument:qi,playChord:iN,createDrumPattern:d0,createMelody:oN,createMusicTrack:aN,setMasterVolume:lN},uN=!1,hN="https://portal-ai-music-kspw0izcg-managobindas-projects.vercel.app",Ba=hN;let Ke=!Ba,un=localStorage.getItem("forceBrowserSynthesis")==="true";console.log("API Configuration: Production mode");console.log(`API Base URL: ${Ba}`);console.log(`Demo mode: ${Ke?"Enabled":"Disabled"}`);console.log(`Browser synthesis: ${un?"Enabled":"Disabled"}`);const Ct=dt.create({baseURL:Ba,timeout:3e4,headers:{"Content-Type":"application/json"}}),f0=()=>fe(null,null,function*(){try{yield dt.get(`${Ba}/health`,{timeout:3e3}),Ke=!1,console.log("Production backend is available")}catch(i){console.warn("Backend not available, enabling demo mode"),Ke=!0}}),rc={genres:[{id:"pop",name:"Pop"},{id:"rock",name:"Rock"},{id:"jazz",name:"Jazz"},{id:"classical",name:"Classical"},{id:"electronic",name:"Electronic"},{id:"hip-hop",name:"Hip-Hop"}],moods:[{id:"upbeat",name:"Upbeat"},{id:"calm",name:"Calm"},{id:"energetic",name:"Energetic"},{id:"melancholic",name:"Melancholic"},{id:"mysterious",name:"Mysterious"},{id:"romantic",name:"Romantic"}],instruments:[{id:"piano",name:"Piano"},{id:"guitar",name:"Guitar"},{id:"drums",name:"Drums"},{id:"bass",name:"Bass"},{id:"violin",name:"Violin"},{id:"synthesizer",name:"Synthesizer"},{id:"saxophone",name:"Saxophone"},{id:"trumpet",name:"Trumpet"}],templates:{pop_ballad:{name:"Pop Ballad",description:"Emotional pop song with beautiful melodies",genre:"pop",mood:"romantic",instruments:["piano","guitar","drums"]},rock_anthem:{name:"Rock Anthem",description:"High energy rock song",genre:"rock",mood:"energetic",instruments:["guitar","bass","drums"]},jazz_smooth:{name:"Smooth Jazz",description:"Relaxing jazz composition",genre:"jazz",mood:"calm",instruments:["piano","saxophone","bass"]}}},ic=(...n)=>fe(null,[...n],function*(i=30,e={}){const a=`browser_synth_${Date.now()}`;console.log("Creating demo audio file with options:",e);const l={duration:i||30,tempo:e.tempo_bpm||e.tempo||(e.mood==="energetic"?140:e.mood==="calm"?80:e.mood==="melancholic"?90:120),genre:e.genre||"pop",key:e.key||["C","G","D","A","F"][Math.floor(Math.random()*5)],scale:e.mood==="melancholic"?"minor":"major",mood:e.mood||"upbeat",instruments:e.instruments||["piano","bass","drums"]};e.style_complexity&&(l.complexity=e.style_complexity),console.log("Creating browser-synthesized audio with Tone.js:",l);try{const u=yield cN.createMusicTrack(l);if(console.log("Tone.js track creation result:",u),!u.success)return console.error("Failed to create synthesized audio track"),{success:!1,message:"Failed to generate audio: "+(u.message||"Browser audio synthesis failed")};if(console.log("Successfully created browser-synthesized audio track with Tone.js"),!u.download_url&&typeof u.createDownloadLink=="function")try{u.download_url=yield u.createDownloadLink()}catch(h){console.warn("Could not create download link for synthesized audio:",h)}return{success:u.success,audio_file:a,url:`browser-synth://${a}`,download_url:u.download_url,message:e.isForcedSynthesis?"Music generated using browser synthesis (user preference)":"Demo music generated successfully (using browser synthesis)",metadata:{duration:i,filename:a,sample_rate:44100,genre:e.genre||"demo",mood:e.mood||"demo",key:l.key,scale:l.scale,tempo:l.tempo},synthTrack:u}}catch(u){return console.error("Error during browser synthesis:",u),{success:!1,message:"Browser synthesis failed: "+u.message,error:u.message}}});let Yn=null;typeof window!="undefined"&&(Yn=localStorage.getItem("auth_token"));Ct.interceptors.request.use(i=>(Yn&&(i.headers.Authorization=`Bearer ${Yn}`),i),i=>Promise.reject(i));Ct.interceptors.response.use(i=>i,i=>{var e;return((e=i.response)==null?void 0:e.status)===401&&(localStorage.removeItem("auth_token"),Yn=null),Promise.reject(i)});const uu={generateToken(i="demo_user",e="free"){return fe(this,null,function*(){if(Ke)return Yn="demo_token_"+Date.now(),localStorage.setItem("auth_token",Yn),{success:!0,token:Yn,message:"Demo token generated"};try{const n=yield Ct.post("/api/auth/token",{user_id:i,plan:e});if(n.data.success===!0)return Yn=n.data.token,localStorage.setItem("auth_token",Yn),n.data;throw new Error("Failed to generate token")}catch(n){throw console.error("Token generation error:",n),n}})},logout(){Yn=null,localStorage.removeItem("auth_token")},isAuthenticated(){return!!Yn}},Ms={generateMusic(n){return fe(this,arguments,function*(i,e={}){var r,a;if(Ke||un){yield new Promise(u=>setTimeout(u,2e3));const l=yield ic(e.duration||30,xe(K({},e),{isForcedSynthesis:un&&!Ke}));return un&&!Ke&&(l.message="Music generated using browser synthesis (backend available but synthesis mode enabled)"),l}try{const l=yield Ct.post("/api/generate-music",{prompt:i,duration:e.duration||30,genre:e.genre||"pop",mood:e.mood||"upbeat",format:e.format||"mp3",instruments:e.instruments||[],style:e.style||{},user_id:e.user_id||"demo_user"});if(l.data.success)try{yield this.saveMetadata(xe(K({},l.data.metadata),{user_id:e.user_id||"demo_user"}))}catch(u){console.warn("Failed to save metadata:",u)}return l.data}catch(l){if(((r=l.response)==null?void 0:r.status)===429)throw new Error("Rate limit exceeded. Please try again later.");if(l.code==="ECONNREFUSED"||((a=l.response)==null?void 0:a.status)>=500)return console.log("Backend unavailable, falling back to browser synthesis"),ic(e.duration||30,xe(K({},e),{isForcedSynthesis:!1}));throw l}})},saveMetadata(i){return fe(this,null,function*(){if(Ke)return console.log("Demo mode: skipping metadata save"),{success:!0};try{return(yield Ct.post("/api/save-music-metadata",i)).data}catch(e){throw console.error("Failed to save metadata:",e),e}})},getMusicHistory(){return fe(this,null,function*(){if(Ke)return console.log("Demo mode: returning empty history"),{success:!0,history:[],count:0};try{return(yield Ct.get("/api/music-history")).data}catch(i){return console.error("Failed to get music history:",i),{success:!1,error:i.message}}})},checkAudioSupport(){return fe(this,null,function*(){try{return Ke?{success:!0,supported_formats:{mp3:{mime_type:"audio/mpeg",extension:".mp3",browser_support:"universal"},wav:{mime_type:"audio/wav",extension:".wav",browser_support:"modern browsers"}},recommended_format:"mp3"}:(yield Ct.get("/api/check-audio-support")).data}catch(i){return console.error("Failed to check audio support:",i),{success:!1,error:i.message}}})},pollGeneration(i){return fe(this,null,function*(){if(Ke)return{success:!0,status:"completed",message:"Demo generation completed"};try{return(yield Ct.get(`/api/poll-generation/${i}`)).data}catch(e){throw e}})},generateEnhancedMusic(){return fe(this,arguments,function*(i={}){var e;if(Ke||un){yield new Promise(r=>setTimeout(r,2500));const n=yield ic(i.duration||30,xe(K({},i),{isForcedSynthesis:un&&!Ke}));return un&&!Ke&&(n.message="Enhanced music generated using browser synthesis (backend available but synthesis mode enabled)"),n}try{return(yield Ct.post("/api/generate-enhanced-music",i)).data}catch(n){throw((e=n.response)==null?void 0:e.status)===429?new Error("Rate limit exceeded. Please try again later."):n}})},generateAdvancedMusic(){return fe(this,arguments,function*(i={}){var e;if(Ke||un){yield new Promise(r=>setTimeout(r,3e3));const n=yield ic(i.duration||30,xe(K({},i),{isForcedSynthesis:un&&!Ke}));return un&&!Ke&&(n.message="Advanced music generated using browser synthesis (backend available but synthesis mode enabled)"),n}try{return(yield Ct.post("/api/advanced-generate",i)).data}catch(n){throw((e=n.response)==null?void 0:e.status)===429?new Error("Rate limit exceeded. Please try again later."):n}})},getUserQuota(){return fe(this,null,function*(){if(Ke)return{success:!0,quota:{plan:"demo",daily_limit:0,remaining_today:999,used_today:0}};try{return(yield Ct.get("/api/user/quota")).data}catch(i){throw console.error("Error fetching user quota:",i),i}})},analyzeLyrics(i){return fe(this,null,function*(){try{return{analysis:{mood:"energetic",themes:["love","hope"],suggested_genre:"pop",energy_level:7}}}catch(e){throw console.error("Error analyzing lyrics:",e),e}})},getPresets(){return fe(this,null,function*(){try{return(yield Ct.get("/api/composition-templates")).data}catch(i){throw console.error("Error fetching presets:",i),i}})},getGenerationHistory(){return fe(this,null,function*(){try{return{tracks:[]}}catch(i){throw console.error("Error fetching generation history:",i),i}})},downloadTrack(i){return fe(this,null,function*(){try{return(yield Ct.get(`/api/download/${i}`,{responseType:"blob"})).data}catch(e){throw console.error("Error downloading track:",e),e}})},getUserTracks(){return fe(this,null,function*(){try{return(yield Ct.get("/api/tracks")).data}catch(i){throw console.error("Error fetching tracks:",i),i}})},getUserQuota(){return fe(this,null,function*(){try{return(yield Ct.get("/api/user/quota")).data}catch(i){throw console.error("Error fetching quota:",i),i}})}},Ii={getGenres(){return fe(this,null,function*(){if(Ke)return{success:!0,genres:rc.genres};try{return(yield Ct.get("/api/genres")).data}catch(i){throw console.error("Error fetching genres:",i),i}})},getMoods(){return fe(this,null,function*(){if(Ke)return{success:!0,moods:rc.moods};try{return(yield Ct.get("/api/moods")).data}catch(i){throw console.error("Error fetching moods:",i),i}})},getInstruments(){return fe(this,null,function*(){if(Ke)return{success:!0,instruments:rc.instruments};try{return(yield Ct.get("/api/instruments")).data}catch(i){throw console.error("Error fetching instruments:",i),i}})},getCompositionTemplates(){return fe(this,null,function*(){if(Ke)return{success:!0,templates:rc.templates};try{return(yield Ct.get("/api/composition-templates")).data}catch(i){throw console.error("Error fetching composition templates:",i),i}})}},Ca={checkHealth(){return fe(this,null,function*(){if(Ke)return{success:!0,status:"healthy",message:"Demo mode active"};try{const i=uN?"/health":`${Ba}/health`;return(yield dt.get(i,{timeout:3e3})).data}catch(i){return console.error("Health check failed:",i.message),{success:!1,status:"unhealthy",message:`Backend connection failed: ${i.message}`,error:!0}}})},refreshBackendStatus(){return fe(this,null,function*(){try{return yield f0(),{success:!0,demoMode:Ke}}catch(i){return console.error("Refresh backend status failed:",i.message),{success:!1,demoMode:!0,error:i.message}}})},isBrowserSynthesisEnabled(){return un},enableBrowserSynthesis(){return un=!0,localStorage.setItem("forceBrowserSynthesis","true"),console.log("Browser synthesis mode enabled"),{success:!0,browserSynthesis:!0}},disableBrowserSynthesis(){return un=!1,localStorage.setItem("forceBrowserSynthesis","false"),console.log("Browser synthesis mode disabled"),{success:!0,browserSynthesis:!1}},toggleBrowserSynthesis(){return un?this.disableBrowserSynthesis():this.enableBrowserSynthesis()}};fe(null,null,function*(){try{yield f0(),console.log(`Application initialized in ${Ke?"demo":"backend"} mode`)}catch(i){console.warn("Error during initialization check, defaulting to demo mode:",i.message),Ke=!0}});const p0=({onToggle:i,showError:e=!1,errorMessage:n=null})=>{const[r,a]=je.useState(!1);je.useEffect(()=>{const u=Ca.isBrowserSynthesisEnabled();a(u)},[]);const l=()=>{const u=Ca.toggleBrowserSynthesis();a(u.browserSynthesis),i&&i(u.browserSynthesis)};return _.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:_.jsxs("div",{className:"flex flex-col space-y-3",children:[e&&n&&_.jsxs("div",{className:"flex items-start space-x-2 text-red-700 mb-2",children:[_.jsx(tf,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:n}),_.jsx("p",{className:"text-sm mt-1",children:"Try enabling browser synthesis mode below to resolve this issue."})]})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(da,{className:`h-5 w-5 ${r?"text-blue-600":"text-gray-500"}`}),_.jsx("span",{className:"font-medium",children:"Browser Synthesis Mode"})]}),_.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[_.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r,onChange:l}),_.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer 
              ${r?"after:translate-x-full after:border-white bg-blue-600":"after:border-gray-300 bg-gray-200"}
              after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all`}),_.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:r?"Enabled":"Disabled"})]})]}),_.jsx("div",{className:"text-sm text-gray-600 mt-2",children:r?_.jsxs("p",{children:[_.jsx(jd,{className:"h-4 w-4 inline mr-1 text-green-600"}),"Using browser's Tone.js synthesis engine to generate music directly in your browser. This provides enhanced audio quality and eliminates format compatibility issues."]}):_.jsxs("p",{children:[_.jsx(Lw,{className:"h-4 w-4 inline mr-1"}),"Using server-generated audio files. Enable browser synthesis if you experience audio playback issues or want to use the enhanced Tone.js synthesis engine."]})}),_.jsx("div",{className:"text-xs text-gray-500 mt-2 italic",children:r&&_.jsx("span",{children:"Powered by Tone.js: Advanced Web Audio framework for high-quality music synthesis"})})]})})},m0={checkSupport(){const i=document.createElement("audio"),e={mp3:!!(i.canPlayType&&i.canPlayType("audio/mpeg").replace(/no/,"")),wav:!!(i.canPlayType&&i.canPlayType("audio/wav").replace(/no/,"")),ogg:!!(i.canPlayType&&i.canPlayType("audio/ogg").replace(/no/,"")),aac:!!(i.canPlayType&&i.canPlayType("audio/aac").replace(/no/,"")),webm:!!(i.canPlayType&&i.canPlayType("audio/webm").replace(/no/,"")),flac:!!(i.canPlayType&&i.canPlayType("audio/flac").replace(/no/,""))};return console.log("Browser audio format support:",e),e},getBestFormat(i=[]){const e=this.checkSupport(),n=["mp3","wav","ogg","aac","webm","flac"];for(const r of n)if(e[r]&&i.includes(r))return r;for(const r of i)if(e[r.toLowerCase()])return r;return null},isWebAudioAvailable(){return!!(window.AudioContext||window.webkitAudioContext)}};class dN{constructor(){this.audio=null,this.audioContext=null,this.isPlaying=!1,this.currentUrl=null,this.onPlayCallback=null,this.onPauseCallback=null,this.onErrorCallback=null,this.onEndCallback=null}setCallbacks({onPlay:e,onPause:n,onError:r,onEnd:a}){this.onPlayCallback=e,this.onPauseCallback=n,this.onErrorCallback=r,this.onEndCallback=a}play(r){return fe(this,arguments,function*(e,n={}){try{return this.stop(),(yield this.playWithHtml5Audio(e,n))||m0.isWebAudioAvailable()&&(yield this.playWithWebAudio(e,n))?!0:(this.handleError("All playback methods failed. Browser may not support this audio format."),!1)}catch(a){return this.handleError("Audio playback failed: "+a.message),!1}})}playWithHtml5Audio(r){return fe(this,arguments,function*(e,n={}){return new Promise(a=>{try{this.audio=new Audio;let l=!1;this.audio.onplay=()=>{l||(l=!0,this.isPlaying=!0,this.currentUrl=e,this.onPlayCallback&&this.onPlayCallback(),a(!0))},this.audio.onpause=()=>{this.isPlaying=!1,this.onPauseCallback&&this.onPauseCallback()},this.audio.onended=()=>{this.isPlaying=!1,this.onEndCallback&&this.onEndCallback()},this.audio.onerror=m=>{l||(l=!0,console.warn("HTML5 Audio failed:",m),a(!1))},this.audio.crossOrigin="anonymous",this.audio.preload="auto";const u=Date.now(),h=e.includes("?")?`${e}&cacheBuster=${u}`:`${e}?cacheBuster=${u}`;this.audio.src=h;const f=this.audio.play();f!==void 0&&f.catch(m=>{l||(l=!0,console.warn("HTML5 Audio play promise failed:",m),a(!1))}),setTimeout(()=>{l||(l=!0,a(!1))},5e3)}catch(l){console.warn("HTML5 Audio setup failed:",l),a(!1)}})})}playWithWebAudio(r){return fe(this,arguments,function*(e,n={}){try{const a=window.AudioContext||window.webkitAudioContext;this.audioContext=new a;const l=yield fetch(e);if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const u=yield l.arrayBuffer(),h=yield this.audioContext.decodeAudioData(u),f=this.audioContext.createBufferSource();return f.buffer=h,f.connect(this.audioContext.destination),f.onended=()=>{this.isPlaying=!1,this.onEndCallback&&this.onEndCallback()},f.start(),this.isPlaying=!0,this.currentUrl=e,this.onPlayCallback&&this.onPlayCallback(),console.log("Web Audio API playback started successfully"),!0}catch(a){return console.warn("Web Audio API playback failed:",a),!1}})}pause(){this.audio&&this.isPlaying&&(this.audio.pause(),this.isPlaying=!1),this.audioContext&&(this.audioContext.suspend(),this.isPlaying=!1)}stop(){this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.audio.src="",this.audio=null),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.isPlaying=!1,this.currentUrl=null}handleError(e){console.error("EnhancedAudioPlayer error:",e),this.onErrorCallback&&this.onErrorCallback(e)}getState(){return{isPlaying:this.isPlaying,currentUrl:this.currentUrl,hasAudio:!!this.audio,hasWebAudio:!!this.audioContext}}}const g0={AudioFormatDetector:m0,EnhancedAudioPlayer:dN},Md=new g0.EnhancedAudioPlayer,fN=()=>{var D,B;const[i,e]=je.useState(""),[n,r]=je.useState(30),[a,l]=je.useState("pop"),[u,h]=je.useState("upbeat"),[f,m]=je.useState("mp3"),[g,y]=je.useState(!1),[w,S]=je.useState(null),[x,b]=je.useState(!1),[k,C]=je.useState(""),[j,L]=je.useState(""),[U,F]=je.useState([]),[P,O]=je.useState([]),[E,$]=je.useState(null),[re,Q]=je.useState(!1),[W,de]=je.useState({}),G=je.useRef(null);je.useEffect(()=>{oe(),ue()},[]);const ue=()=>{const Y=g0.AudioFormatDetector.checkSupport();de(Y),console.log("Browser audio support detected:",Y),Md.setCallbacks({onPlay:()=>{b(!0),C(""),L("Audio playback started successfully")},onPause:()=>{b(!1)},onError:ge=>{b(!1),C(`Audio playback failed: ${ge}. Try enabling browser synthesis mode.`)},onEnd:()=>{b(!1),L("Audio playback completed")}})},oe=()=>fe(null,null,function*(){var Y,ge;try{console.log("Starting health check...");const Te=yield Ca.checkHealth();console.log("Health check successful:",Te),uu.isAuthenticated()||(console.log("Generating authentication token..."),yield uu.generateToken("demo_user","free")),Q(!0);let pe={genres:[]},ae={moods:[]},Ce={quota:null};try{console.log("Fetching genres..."),pe=yield Ii.getGenres(),console.log("Genres loaded:",((Y=pe.genres)==null?void 0:Y.length)||0)}catch(Re){console.error("Failed to fetch genres:",Re)}try{console.log("Fetching moods..."),ae=yield Ii.getMoods(),console.log("Moods loaded:",((ge=ae.moods)==null?void 0:ge.length)||0)}catch(Re){console.error("Failed to fetch moods:",Re)}try{console.log("Fetching user quota..."),Ce=yield Ms.getUserQuota(),console.log("Quota loaded:",Ce.quota)}catch(Re){console.error("Failed to fetch quota:",Re)}if(pe!=null&&pe.genres&&pe.genres.length>0)F(pe.genres),l(pe.genres[0].id);else{console.warn("Using default genres list.");const Re=[{id:"pop",name:"Pop",description:"Catchy, mainstream melodies"},{id:"rock",name:"Rock",description:"Guitar-driven, energetic"},{id:"electronic",name:"Electronic",description:"Synthesized, digital sounds"}];F(Re),l(Re[0].id)}if(ae!=null&&ae.moods&&ae.moods.length>0)O(ae.moods),h(ae.moods[0].id);else{console.warn("Using default moods list.");const Re=[{id:"upbeat",name:"Upbeat",description:"Happy, energetic feeling"},{id:"calm",name:"Calm",description:"Peaceful, relaxing"},{id:"energetic",name:"Energetic",description:"High-energy, motivating"}];O(Re),h(Re[0].id)}Ce!=null&&Ce.quota&&$(Ce.quota)}catch(Te){console.error("Initialization error:",Te),C(`Failed to initialize: ${Te.message||"Unknown error"}. Please ensure the backend server is running and refresh the page.`)}}),ce=()=>fe(null,null,function*(){var Y,ge,Te,pe,ae,Ce,Re,N,me;if(!i.trim()){C("Please enter a music description");return}if(E&&E.remaining_today===0){C("Daily quota exceeded. Please upgrade your plan or try again tomorrow.");return}y(!0),C(""),L("");try{if(typeof Ms.generateMusic!="function")throw new Error("Music generation function not available");const he=yield Ms.generateMusic(i,{duration:n,genre:a,mood:u,format:f,user_id:"demo_user"});if(console.log("Music generation result:",he),he.success===!0){const ct={id:((Y=he.metadata)==null?void 0:Y.filename)||`track_${Date.now()}`,url:he.stream_url||he.url||(he.audio_file?`/api/stream/${he.audio_file}`:he.download_url),download_url:he.download_url||(he.audio_file?`/api/download/${he.audio_file}`:""),title:((ge=he.metadata)==null?void 0:ge.title)||i,duration:((Te=he.metadata)==null?void 0:Te.duration)||n,genre:((pe=he.metadata)==null?void 0:pe.genre)||a,mood:((ae=he.metadata)==null?void 0:ae.mood)||u,filename:((Ce=he.metadata)==null?void 0:Ce.filename)||he.audio_file,format:((Re=he.metadata)==null?void 0:Re.format)||he.format||"mp3"};console.log("Created track object:",ct),S(ct),L(he.message||"Music generated successfully!"),W[ct.format]||C(`Audio format ${ct.format} may not be supported. Please try downloading the file.`);try{const le=yield Ms.getUserQuota();le.success===!0&&$(le.quota)}catch(le){console.warn("Failed to update quota:",le)}}else console.error("Music generation failed:",he),C(he.message||he.error||"Failed to generate music")}catch(he){console.error("Generation error:",he),((N=he.response)==null?void 0:N.status)===429?C("Rate limit exceeded. Please try again later."):((me=he.response)==null?void 0:me.status)===401?(C("Authentication failed. Please refresh the page."),Q(!1)):C(he.message||"Failed to generate music. Please try again.")}finally{y(!1)}}),H=()=>fe(null,null,function*(){var Y;if(w)try{if(((Y=w.url)==null?void 0:Y.startsWith("browser-synth://"))&&w.synthTrack){if(console.log("Using browser synthesis engine for playback"),x)try{yield w.synthTrack.pause(),b(!1),C(""),L("Music paused")}catch(Ce){console.error("Error pausing synthesized audio:",Ce),C("Failed to pause audio: "+Ce.message)}else try{(yield w.synthTrack.play())?(b(!0),C(""),L("Music playback started successfully")):C("Failed to play synthesized audio. Please click again or check browser permissions.")}catch(Ce){console.error("Error playing synthesized audio:",Ce),C("Failed to play synthesized audio: "+Ce.message)}return}if(x){Md.pause(),b(!1),L("Audio paused");return}const Te=[w.url,w.stream_url,w.download_url].filter(Boolean);console.log("Attempting playback with URLs:",Te);let pe=!1,ae="";for(const Ce of Te)try{console.log(`Attempting to play: ${Ce}`),yield Md.play(Ce),pe=!0;break}catch(Re){console.warn(`Failed to play ${Ce}:`,Re),ae=Re.message}pe||C(`Audio playback failed: ${ae}. Try using browser synthesis mode or download the file.`)}catch(ge){console.error("Playback error:",ge),C(`Playback error: ${ge.message}`)}}),Z=()=>{if(w!=null&&w.download_url){const Y=(w.download_url.startsWith("http"),w.download_url);window.open(Y,"_blank")}};je.useEffect(()=>{var Y;w&&(console.log("New track available:",((Y=w.url)==null?void 0:Y.substring(0,100))+"..."),b(!1),C(""),G.current&&(G.current.pause(),G.current.src=""))},[w]);const X=()=>i.trim()&&!g&&re&&(E==null?void 0:E.remaining_today)!==0;return _.jsx("section",{id:"generator",className:"py-20 bg-gradient-to-br from-gray-50 to-primary-50",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4",children:_.jsx("span",{className:"gradient-text",children:"Music Generator"})}),_.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Describe the music you want and let our AI create it for you. Professional quality, royalty-free music in seconds."})]}),_.jsx("div",{className:"max-w-4xl mx-auto",children:_.jsxs("div",{className:"card p-8",children:[E&&_.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(Na,{className:"h-5 w-5 text-blue-600"}),_.jsxs("span",{className:"font-semibold text-gray-900",children:["Plan: ",E.plan.charAt(0).toUpperCase()+E.plan.slice(1)]})]}),_.jsx("div",{className:"text-sm text-gray-600",children:E.daily_limit>0?_.jsxs(_.Fragment,{children:["Remaining today: ",E.remaining_today,"/",E.daily_limit]}):"Unlimited generations"})]})}),k&&_.jsxs("div",{className:"mb-6",children:[_.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2 mb-3",children:[_.jsx(tf,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),_.jsx("span",{className:"text-red-700",children:k})]}),k.includes("Audio format not supported")&&_.jsx(p0,{showError:!0,errorMessage:"Audio format not supported by your browser",onToggle:Y=>{Y&&(C(""),L("Browser synthesis mode enabled. Try generating music again."))}})]}),j&&_.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-2",children:[_.jsx(Ay,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),_.jsx("span",{className:"text-green-700",children:j})]}),W&&Object.keys(W).length>0&&_.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[_.jsx(jd,{className:"h-5 w-5 text-blue-600"}),_.jsx("span",{className:"font-medium text-blue-900",children:"Audio Compatibility"})]}),_.jsxs("div",{className:"text-sm text-blue-700",children:[_.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(W).map(([Y,ge])=>_.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[Y.toUpperCase(),": ",ge?"":""]},Y))}),_.jsx("p",{className:"mt-2 text-xs",children:Object.values(W).some(Y=>Y)?"Your browser supports the formats shown above.":"Limited audio support detected. Browser synthesis mode recommended."})]})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Describe your music"}),_.jsx("textarea",{value:i,onChange:Y=>e(Y.target.value),placeholder:"e.g., An upbeat pop song with electronic beats, perfect for a workout video...",className:"input-field h-32 resize-none",maxLength:500}),_.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[_.jsxs("span",{children:[i.length,"/500 characters"]}),_.jsx("span",{className:"text-xs",children:" Be specific for better results"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[_.jsx(Dy,{className:"h-4 w-4 mr-2"}),"Duration"]}),_.jsxs("select",{value:n,onChange:Y=>r(Number(Y.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white",children:[_.jsx("option",{value:15,children:"15 seconds"}),_.jsx("option",{value:30,children:"30 seconds"}),_.jsx("option",{value:60,children:"1 minute"}),_.jsx("option",{value:120,children:"2 minutes"}),_.jsx("option",{value:180,children:"3 minutes"}),_.jsx("option",{value:300,children:"5 minutes"})]})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[_.jsx(qr,{className:"h-4 w-4 mr-2"}),"Genre"]}),_.jsx("select",{value:a,onChange:Y=>l(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white",children:U.map(Y=>_.jsx("option",{value:Y.id,children:Y.name},Y.id))}),U.find(Y=>Y.id===a)&&_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(D=U.find(Y=>Y.id===a))==null?void 0:D.description})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[_.jsx(Ry,{className:"h-4 w-4 mr-2"}),"Mood"]}),_.jsx("select",{value:u,onChange:Y=>h(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white",children:P.map(Y=>_.jsx("option",{value:Y.id,children:Y.name},Y.id))}),P.find(Y=>Y.id===u)&&_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(B=P.find(Y=>Y.id===u))==null?void 0:B.description})]})]}),_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("button",{onClick:ce,disabled:!X(),className:"btn-primary text-lg px-12 py-4 disabled:opacity-50 disabled:cursor-not-allowed transform transition-all duration-200 hover:scale-105",children:g?_.jsxs(_.Fragment,{children:[_.jsx(Pd,{className:"h-5 w-5 mr-2 animate-spin"}),"Composing Your Track..."]}):_.jsxs(_.Fragment,{children:[_.jsx(qr,{className:"h-5 w-5 mr-2"}),"Compose Track"]})}),!re&&_.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Authentication required. Please refresh the page."}),g&&_.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[_.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[_.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full animate-bounce"}),_.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),_.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),_.jsxs("p",{className:"mt-2",children:["Analyzing your prompt and generating ",n,"s of ",a," music..."]})]})]}),w&&_.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-accent-50 rounded-xl p-6 animate-fade-in",children:[_.jsx("div",{className:"hidden",children:_.jsx("audio",{ref:G,preload:"none",crossOrigin:"anonymous"})}),!1,_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:w.title||"Generated Track"}),_.jsxs("p",{className:"text-gray-600",children:["Duration: ",w.duration||30,"s  ",w.genre||"Unknown","  ",w.mood||"Unknown"]}),_.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["License: 100% Royalty-Free  Track ID: ",w.id||"unknown"]})]}),_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("button",{onClick:H,className:"bg-white hover:bg-gray-50 p-3 rounded-full shadow-lg transition-all duration-200 hover:scale-105",title:x?"Pause":"Play",children:x?_.jsx(Oy,{className:"h-6 w-6 text-primary-600"}):_.jsx(nf,{className:"h-6 w-6 text-primary-600"})}),_.jsx("button",{className:"bg-white hover:bg-gray-50 p-3 rounded-full shadow-lg transition-all duration-200 hover:scale-105",title:"Volume",children:_.jsx(jd,{className:"h-6 w-6 text-gray-600"})}),_.jsxs("button",{onClick:Z,className:"btn-primary flex items-center space-x-2",title:"Download Track",children:[_.jsx(hc,{className:"h-4 w-4"}),_.jsx("span",{children:"Download"})]})]})]}),_.jsx("div",{className:"bg-white rounded-lg p-4 mb-4",children:_.jsx("div",{className:"flex items-center justify-center h-16 bg-gradient-to-r from-primary-100 to-accent-100 rounded",children:_.jsx("div",{className:"flex items-end space-x-1",children:w.waveform_data?w.waveform_data.map((Y,ge)=>_.jsx("div",{className:`bg-gradient-to-t from-primary-500 to-accent-500 rounded-sm transition-all duration-300 ${x?"animate-pulse":""}`,style:{width:"3px",height:`${Y}px`}},ge)):[...Array(20)].map((Y,ge)=>_.jsx("div",{className:`bg-gradient-to-t from-primary-500 to-accent-500 rounded-sm transition-all duration-300 ${x?"animate-pulse":""}`,style:{width:"4px",height:`${Math.random()*40+10}px`}},ge))})})}),_.jsx("div",{className:"text-center text-sm text-gray-600",children:" Your AI-generated music is ready! This track is 100% royalty-free and ready for commercial use."})]})]})})]})})},pN=i=>{if(!i)return"Unknown audio error";switch(i.code){case i.MEDIA_ERR_ABORTED:return"Audio playback was aborted";case i.MEDIA_ERR_NETWORK:return"Network error while loading audio";case i.MEDIA_ERR_DECODE:return"Audio format not supported or corrupted";case i.MEDIA_ERR_SRC_NOT_SUPPORTED:return"Audio format not supported by browser";default:return`Audio error (code: ${i.code})`}},mN=()=>{const[i,e]=je.useState({lyrics:"",mood:"upbeat",genre:"pop",instruments:["piano","guitar"],tempo_bpm:120,duration:30,output_format:"wav",export_stems:!1,style_complexity:"moderate",key:"C",structure:[],template:""}),[n,r]=je.useState([]),[a,l]=je.useState({}),[u,h]=je.useState([]),[f,m]=je.useState(null),[g,y]=je.useState(!1),[w,S]=je.useState(null),[x,b]=je.useState(!1),k=je.useRef(null),[C,j]=je.useState(""),[L,U]=je.useState(""),[F,P]=je.useState([]),[O,E]=je.useState([]),[$,re]=je.useState(null),[Q,W]=je.useState(!1),[de,G]=je.useState(!0),ue={piano:Cd,"acoustic-guitar":hs,"electric-guitar":hs,"bass-guitar":hs,guitar:hs,bass:hs,drums:jr,percussion:jr,violin:da,cello:da,strings:da,synthesizer:Xn,"steel-drums":jr,tabla:jr,xylophone:jr,marimba:jr,vibraphone:jr,harp:da,banjo:hs,mandolin:hs,ukulele:hs,sitar:hs,koto:hs,flute:Xn,clarinet:Xn,saxophone:Xn,trumpet:Xn,trombone:Xn,harmonica:Xn,bagpipes:Xn,didgeridoo:Xn,accordion:Xn,organ:Cd},oe=[{value:"simple",label:"Simple",description:"Basic chord progressions and arrangements"},{value:"moderate",label:"Moderate",description:"Standard complexity with some variations"},{value:"complex",label:"Complex",description:"Advanced harmonies and sophisticated arrangements"}],ce=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B","Cm","C#m","Dm","D#m","Em","Fm","F#m","Gm","G#m","Am","A#m","Bm"],H=[{value:"intro",label:"Intro"},{value:"verse",label:"Verse"},{value:"chorus",label:"Chorus"},{value:"bridge",label:"Bridge"},{value:"outro",label:"Outro"},{value:"buildup",label:"Buildup"},{value:"drop",label:"Drop"},{value:"breakdown",label:"Breakdown"}];je.useEffect(()=>{fe(null,null,function*(){try{console.log("Initializing Advanced Studio...");const me=[{id:"piano",name:"Piano"},{id:"guitar",name:"Guitar"},{id:"drums",name:"Drums"},{id:"bass",name:"Bass"}],he=[{id:"pop",name:"Pop"},{id:"rock",name:"Rock"},{id:"jazz",name:"Jazz"},{id:"classical",name:"Classical"}],ct=[{id:"upbeat",name:"Upbeat"},{id:"calm",name:"Calm"},{id:"energetic",name:"Energetic"},{id:"melancholic",name:"Melancholic"}],ft={pop_ballad:{name:"Pop Ballad",description:"Emotional pop song",genre:"pop",mood:"calm"},rock_anthem:{name:"Rock Anthem",description:"High energy rock",genre:"rock",mood:"energetic"}};r(me),P(he),E(ct),l(ft);try{uu.isAuthenticated()||(console.log("Authenticating..."),yield uu.generateToken("demo_user","free")),W(!0),console.log("Authentication successful.")}catch(J){console.warn("Authentication failed, continuing with defaults:",J)}let le=[];try{const J=yield Ii.getInstruments();J!=null&&J.instruments&&r(J.instruments)}catch(J){console.warn("Failed to load instruments:",J),le.push("Instruments")}try{const J=yield Ii.getCompositionTemplates();J!=null&&J.templates&&l(J.templates)}catch(J){console.warn("Failed to load templates:",J),le.push("Templates")}try{const J=yield Ii.getGenres();J!=null&&J.genres&&P(J.genres)}catch(J){console.warn("Failed to load genres:",J),le.push("Genres")}try{const J=yield Ii.getMoods();J!=null&&J.moods&&E(J.moods)}catch(J){console.warn("Failed to load moods:",J),le.push("Moods")}try{const J=yield Ms.getUserQuota();J!=null&&J.quota&&re(J.quota)}catch(J){console.warn("Failed to load quota:",J),le.push("Quota")}try{yield B()}catch(J){console.warn("Failed to load presets:",J)}le.length>0?j("Some data failed to load: "+le.join(", ")+". Using defaults."):j("")}catch(me){console.error("Failed to initialize Advanced Studio:",me),j("Failed to load studio data: "+((me==null?void 0:me.message)||me)+". Using defaults."),r([{id:"piano",name:"Piano"},{id:"guitar",name:"Guitar"},{id:"drums",name:"Drums"}]),P([{id:"pop",name:"Pop"},{id:"rock",name:"Rock"}]),E([{id:"upbeat",name:"Upbeat"},{id:"calm",name:"Calm"}])}finally{G(!1)}})},[]);const Z=(N,me)=>{e(he=>xe(K({},he),{[N]:me}))},X=N=>{e(me=>xe(K({},me),{instruments:me.instruments.includes(N)?me.instruments.filter(he=>he!==N):[...me.instruments,N]}))},D=()=>fe(null,null,function*(){if(!i.lyrics.trim()){j("Please enter lyrics to analyze");return}try{j("");const N=yield Ms.analyzeLyrics(i.lyrics);(N==null?void 0:N.status)==="success"&&(N!=null&&N.analysis)?(m(N.analysis),U("Lyrics analyzed successfully!"),N.analysis.suggested_mood&&e(me=>xe(K({},me),{mood:N.analysis.suggested_mood})),N.analysis.suggested_genre&&e(me=>xe(K({},me),{genre:N.analysis.suggested_genre})),N.analysis.suggested_tempo&&e(me=>xe(K({},me),{tempo_bpm:N.analysis.suggested_tempo}))):j((N==null?void 0:N.message)||"Failed to analyze lyrics")}catch(N){console.error("Lyrics analysis failed:",N),j((N==null?void 0:N.message)||"Failed to analyze lyrics")}}),B=()=>fe(null,null,function*(){try{const N=yield Ms.getPresets();(N==null?void 0:N.status)==="success"&&(N!=null&&N.presets)&&h(N.presets)}catch(N){console.warn("Failed to load presets:",N)}}),Y=N=>{e(me=>xe(K(K({},me),N),{lyrics:me.lyrics})),U(`Applied preset: ${N.name}`)},ge=N=>{e(me=>xe(K({},me),{structure:me.structure.includes(N)?me.structure.filter(he=>he!==N):[...me.structure,N]}))},Te=N=>{const me=a[N];me&&e(he=>xe(K({},he),{genre:me.genre||he.genre,mood:me.mood||he.mood,instruments:me.instruments||[],tempo_bpm:me.tempo_range?Math.floor((me.tempo_range[0]+me.tempo_range[1])/2):he.tempo_bpm}))},pe=()=>fe(null,null,function*(){var N,me;if(i.instruments.length===0){j("Please select at least one instrument");return}if($&&$.remaining_today===0){j("Daily quota exceeded. Please upgrade your plan or try again tomorrow.");return}y(!0),j(""),U("");try{const he=yield Ms.generateAdvancedMusic(i);if(he.success===!0){const ct={id:((N=he.metadata)==null?void 0:N.filename)||`track_${Date.now()}`,title:((me=he.metadata)==null?void 0:me.title)||"Generated Composition",url:he.url||(he.audio_file?`/api/download/${he.audio_file}`:he.download_url),download_url:he.download_url,metadata:he.metadata,stem_urls:he.stem_urls||{}};he.synthTrack&&(console.log("Browser-synthesized track detected in advanced generator"),ct.synthTrack=he.synthTrack),S(ct),U(he.message||"Composition generated successfully!");const ft=yield Ms.getUserQuota();ft.success===!0&&re(ft.quota)}else j(he.message||"Failed to generate music")}catch(he){console.error("Generation failed:",he),j(he.message||"Failed to connect to the music generation service")}finally{y(!1)}}),ae=()=>fe(null,null,function*(){var N;if(w)try{if((((N=w.url)==null?void 0:N.startsWith("browser-synth://"))||w.synthTrack!==void 0)&&w.synthTrack){if(console.log("Using browser synthesis engine for playback"),x)try{yield w.synthTrack.pause(),b(!1),U("Music playback paused")}catch(J){console.error("Error pausing synthesized audio:",J),j("Failed to pause audio: "+J.message)}else try{(yield w.synthTrack.play())?(b(!0),j(""),U("Music playback started successfully")):j("Failed to play synthesized audio. Please click again or check browser permissions.")}catch(J){console.error("Error playing synthesized audio:",J),j("Failed to play synthesized audio: "+J.message)}return}if(x&&k.current){k.current.pause(),b(!1);return}console.log("Using traditional audio playback");const he=new Audio;he.onplay=()=>{console.log("Audio playback started"),b(!0),j("")},he.onpause=()=>{console.log("Audio playback paused"),b(!1)},he.onended=()=>{console.log("Audio playback ended"),b(!1)},he.onerror=J=>{var Ye;if(console.error("Audio error:",J),console.error("Audio error code:",(Ye=he.error)==null?void 0:Ye.code),b(!1),he.error){const Ge=pN(he.error);j(`Audio error: ${Ge}`)}else j("Audio playback failed. Please try again or use a different browser.")};const ct=Date.now();let ft=w.url||"";ft=ft.includes("?")?`${ft}&cacheBuster=${ct}`:`${ft}?cacheBuster=${ct}`,console.log("Playing audio with URL:",ft),he.src=ft,he.crossOrigin="anonymous",k.current&&k.current.pause(),k.current=he;const le=he.play();le&&le.catch(J=>{console.error("Playback error:",J),J.name==="NotAllowedError"?j("Audio autoplay is blocked. Please try clicking play again."):J.name==="NotSupportedError"?j("Audio format not supported by your browser. Try a different browser."):j(`Could not play audio: ${J.message||"Unknown error"}`),b(!1)})}catch(me){console.error("Unexpected error in togglePlayback:",me),j(`Playback error: ${me.message||"Unknown error"}`),b(!1)}});je.useEffect(()=>{var N;if(w){if(console.log("New track available:",w.synthTrack?"Browser synthesized track":((N=w.url)==null?void 0:N.substring(0,100))+"..."),b(!1),j(""),w.synthTrack)console.log("Browser synthesis track loaded, ready for playback");else if(k.current)try{k.current.pause(),k.current.src=""}catch(me){console.warn("Error cleaning up previous audio:",me)}}},[w]);const Ce=()=>{if(w!=null&&w.synthTrack&&typeof w.synthTrack.createDownloadLink=="function"){const N=w.synthTrack.createDownloadLink();N?window.open(N,"_blank"):j("Download not available for this browser-synthesized track");return}if(w!=null&&w.download_url){const N=(w.download_url.startsWith("http"),w.download_url);window.open(N,"_blank")}},Re=(N,me)=>{const he=(me.startsWith("http"),me);window.open(he,"_blank")};return de?_.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[_.jsxs("div",{className:"text-center space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[_.jsx(qr,{className:"w-8 h-8 text-blue-600"}),_.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Advanced AI Music Studio"})]}),_.jsx("p",{className:"text-xl text-gray-600",children:"Loading studio components..."})]}),_.jsx("div",{className:"flex justify-center",children:_.jsx(Pd,{className:"w-8 h-8 animate-spin text-blue-600"})})]}):_.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[_.jsxs("div",{className:"text-center space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[_.jsx(qr,{className:"w-8 h-8 text-blue-600"}),_.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Advanced AI Music Studio"})]}),_.jsx("p",{className:"text-xl text-gray-600",children:"Create sophisticated multi-instrumental compositions with AI"})]}),$&&_.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(Na,{className:"h-5 w-5 text-blue-600"}),_.jsxs("span",{className:"font-semibold text-gray-900",children:["Plan: ",$.plan.charAt(0).toUpperCase()+$.plan.slice(1)]})]}),_.jsx("div",{className:"text-sm text-gray-600",children:$.daily_limit>0?_.jsxs(_.Fragment,{children:["Remaining today: ",$.remaining_today,"/",$.daily_limit]}):"Unlimited generations"})]})}),C&&_.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[_.jsx(tf,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),_.jsx("span",{className:"text-red-700",children:C})]}),L&&_.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-2",children:[_.jsx(Ay,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),_.jsx("span",{className:"text-green-700",children:L})]}),_.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[_.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[_.jsx(Xn,{className:"w-5 h-5 mr-2"}),"Lyrics (Optional)"]}),_.jsx("textarea",{className:"w-full p-3 border rounded-lg resize-none",rows:"4",placeholder:"Enter your lyrics here... (optional)",value:i.lyrics,onChange:N=>Z("lyrics",N.target.value)}),_.jsxs("div",{className:"mt-3 flex gap-2",children:[_.jsx("button",{onClick:D,disabled:!i.lyrics.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Analyze Lyrics"}),f&&_.jsxs("div",{className:"flex-1 text-sm text-gray-600 ml-2",children:[_.jsxs("div",{children:["Suggested mood: ",f.suggested_mood]}),_.jsxs("div",{children:["Suggested genre: ",f.suggested_genre]}),_.jsxs("div",{children:["Suggested tempo: ",f.suggested_tempo," BPM"]})]})]})]}),u&&u.length>0&&_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Presets"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map((N,me)=>_.jsxs("button",{onClick:()=>Y(N),className:"p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[_.jsx("div",{className:"font-medium",children:(N==null?void 0:N.name)||`Preset ${me+1}`}),_.jsx("div",{className:"text-sm text-gray-500",children:(N==null?void 0:N.description)||"Music preset"})]},me))})]}),_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Style & Mood"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-2",children:"Genre"}),_.jsx("select",{className:"w-full p-2 border rounded-lg",value:i.genre,onChange:N=>Z("genre",N.target.value),children:(F||[]).map(N=>_.jsx("option",{value:(N==null?void 0:N.id)||N,children:(N==null?void 0:N.name)||N},(N==null?void 0:N.id)||N))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mood"}),_.jsx("select",{className:"w-full p-2 border rounded-lg",value:i.mood,onChange:N=>Z("mood",N.target.value),children:(O||[]).map(N=>_.jsx("option",{value:(N==null?void 0:N.id)||N,children:(N==null?void 0:N.name)||N},(N==null?void 0:N.id)||N))})]})]})]}),_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Templates"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(a||{}).map(([N,me])=>_.jsxs("button",{onClick:()=>Te(N),className:"p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[_.jsx("div",{className:"font-medium",children:(me==null?void 0:me.name)||N}),_.jsx("div",{className:"text-sm text-gray-500",children:(me==null?void 0:me.description)||"Template"})]},N))})]}),_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[_.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[_.jsx(Ry,{className:"w-5 h-5 mr-2"}),"Technical Settings"]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tempo (BPM): ",i.tempo_bpm]}),_.jsx("input",{type:"range",min:"60",max:"200",step:"5",value:i.tempo_bpm,onChange:N=>Z("tempo_bpm",parseInt(N.target.value)),className:"w-full"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Duration: ",i.duration,"s"]}),_.jsx("input",{type:"range",min:"10",max:"120",step:"5",value:i.duration,onChange:N=>Z("duration",parseInt(N.target.value)),className:"w-full"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-2",children:"Key"}),_.jsx("select",{className:"w-full p-2 border rounded-lg",value:i.key,onChange:N=>Z("key",N.target.value),children:ce.map(N=>_.jsx("option",{value:N,children:N},N))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-2",children:"Complexity"}),_.jsx("select",{className:"w-full p-2 border rounded-lg",value:i.style_complexity,onChange:N=>Z("style_complexity",N.target.value),children:oe.map(N=>_.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),_.jsx("div",{className:"mt-4",children:_.jsxs("label",{className:"flex items-center space-x-2",children:[_.jsx("input",{type:"checkbox",checked:i.export_stems,onChange:N=>Z("export_stems",N.target.checked),className:"rounded"}),_.jsx("span",{className:"text-sm",children:"Export individual instrument stems"})]})}),_.jsx("div",{className:"mt-6",children:_.jsx(p0,{onToggle:N=>console.log(`Browser synthesis ${N?"enabled":"disabled"}`),showError:C&&C.includes("Audio format not supported"),errorMessage:C&&C.includes("Audio format not supported")?C:null})})]}),_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Song Structure (Optional)"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:H.map(N=>_.jsx("button",{onClick:()=>ge(N.value),className:`p-2 text-sm rounded-lg border transition-colors ${i.structure.includes(N.value)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:N.label},N.value))}),i.structure.length>0&&_.jsxs("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm",children:["Structure: ",i.structure.join("  ")]})]}),_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Composition Settings"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-2",children:"Style Complexity"}),_.jsx("select",{className:"w-full p-2 border rounded-lg",value:i.style_complexity,onChange:N=>Z("style_complexity",N.target.value),children:oe.map(N=>_.jsx("option",{value:N.value,children:N.label},N.value))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-2",children:"Key"}),_.jsx("select",{className:"w-full p-2 border rounded-lg",value:i.key,onChange:N=>Z("key",N.target.value),children:ce.map(N=>_.jsx("option",{value:N,children:N},N))})]})]})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[_.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[_.jsx(Cd,{className:"w-5 h-5 mr-2"}),"Select Instruments"]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(n||[]).map(N=>{const me=ue[N==null?void 0:N.id]||qr;return _.jsxs("button",{onClick:()=>X((N==null?void 0:N.id)||N),className:`p-4 rounded-lg border-2 flex flex-col items-center justify-center space-y-2 transition-all ${i.instruments.includes((N==null?void 0:N.id)||N)?"border-blue-500 bg-blue-50 text-blue-700 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[_.jsx(me,{className:"w-8 h-8"}),_.jsx("span",{className:"text-sm font-medium",children:(N==null?void 0:N.name)||N})]},(N==null?void 0:N.id)||N)})})]}),_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md text-center",children:[_.jsx("button",{onClick:pe,disabled:g||i.instruments.length===0,className:"w-full px-6 py-4 text-lg font-bold text-white bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:g?_.jsxs("span",{className:"flex items-center justify-center",children:[_.jsx(Pd,{className:"w-6 h-6 mr-2 animate-spin"}),"Generating Composition..."]}):"Generate Composition"}),i.instruments.length===0&&_.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Please select at least one instrument to generate music."})]}),w&&_.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md animate-fade-in",children:[_.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Your Composition"}),_.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[_.jsx("div",{className:"font-medium",children:w.title}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("button",{onClick:ae,className:"p-2 rounded-full hover:bg-gray-200",children:x?_.jsx(Oy,{className:"w-5 h-5"}):_.jsx(nf,{className:"w-5 h-5"})}),_.jsx("button",{onClick:Ce,className:"p-2 rounded-full hover:bg-gray-200",children:_.jsx(hc,{className:"w-5 h-5"})})]})]}),_.jsx("div",{className:"hidden",children:_.jsx("audio",{ref:k,className:"hidden",preload:"none",crossOrigin:"anonymous"})}),w.stem_urls&&Object.keys(w.stem_urls).length>0&&_.jsxs("div",{className:"mt-4",children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Download Stems"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(w.stem_urls).map(([N,me])=>_.jsxs("button",{onClick:()=>Re(N,me),className:"w-full text-left p-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm flex items-center justify-between",children:[_.jsx("span",{children:N}),_.jsx(hc,{className:"w-4 h-4"})]},N))})]})]})]})]})]})},gN=()=>{const i=[{name:"Free",price:"$0",period:"forever",description:"Perfect for trying out AI music generation",features:["5 tracks per month","Up to 30 seconds per track","Basic genres","MP3 downloads","Personal use only"],buttonText:"Get Started Free",buttonStyle:"btn-secondary",popular:!1},{name:"Creator",price:"$19",period:"per month",description:"Ideal for content creators and small businesses",features:["100 tracks per month","Up to 3 minutes per track","All genres and moods","WAV + MP3 downloads","Commercial use included","Priority generation","Email support"],buttonText:"Start Creating",buttonStyle:"btn-primary",popular:!0},{name:"Professional",price:"$49",period:"per month",description:"For agencies and professional creators",features:["Unlimited tracks","Up to 10 minutes per track","All genres and moods","All formats (WAV, MP3, FLAC)","Commercial use included","Instant generation","Priority support","Custom AI training","API access"],buttonText:"Go Professional",buttonStyle:"btn-primary",popular:!1}];return _.jsx("section",{id:"pricing",className:"py-20 bg-white",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4",children:["Simple ",_.jsx("span",{className:"gradient-text",children:"Pricing"})]}),_.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Choose the perfect plan for your music creation needs. All plans include royalty-free usage rights."})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:i.map((e,n)=>_.jsxs("div",{className:`card p-8 relative ${e.popular?"ring-2 ring-primary-500 transform scale-105":""}`,children:[e.popular&&_.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:_.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-accent-600 text-white px-4 py-1 rounded-full text-sm font-semibold flex items-center space-x-1",children:[_.jsx(Bw,{className:"h-4 w-4"}),_.jsx("span",{children:"Most Popular"})]})}),_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),_.jsxs("div",{className:"mb-4",children:[_.jsx("span",{className:"text-4xl font-bold gradient-text",children:e.price}),_.jsx("span",{className:"text-gray-600 ml-2",children:e.period})]}),_.jsx("p",{className:"text-gray-600",children:e.description})]}),_.jsx("ul",{className:"space-y-4 mb-8",children:e.features.map((r,a)=>_.jsxs("li",{className:"flex items-start space-x-3",children:[_.jsx("div",{className:"flex-shrink-0 mt-0.5",children:_.jsx(Ow,{className:"h-5 w-5 text-green-500"})}),_.jsx("span",{className:"text-gray-700",children:r})]},a))}),_.jsxs("button",{className:`w-full ${e.buttonStyle} ${e.popular?"shadow-xl":""}`,children:[e.popular&&_.jsx(Na,{className:"h-4 w-4 mr-2"}),e.buttonText]})]},n))}),_.jsxs("div",{className:"text-center mt-16",children:[_.jsx("p",{className:"text-gray-600 mb-4",children:"All plans include 100% royalty-free music with commercial usage rights"}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[_.jsx("button",{className:"btn-secondary",children:"Compare All Features"}),_.jsx("button",{className:"btn-primary",children:"Start Free Trial"})]})]})]})})},yN=()=>{const i={Product:["Features","Pricing","API","Documentation","Changelog"],Company:["About Us","Careers","Press","Partners","Contact"],Resources:["Blog","Help Center","Community","Tutorials","Examples"],Legal:["Privacy Policy","Terms of Service","Cookie Policy","GDPR","Licenses"]},e=[{icon:Uw,href:"#",label:"Twitter"},{icon:Rw,href:"#",label:"Facebook"},{icon:jw,href:"#",label:"Instagram"},{icon:Gw,href:"#",label:"YouTube"},{icon:Iw,href:"#",label:"Email"}];return _.jsx("footer",{className:"bg-gray-900 text-white",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-12",children:[_.jsxs("div",{className:"lg:col-span-2",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[_.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-accent-600 p-2 rounded-lg",children:_.jsx(qr,{className:"h-6 w-6 text-white"})}),_.jsx("span",{className:"text-xl font-bold",children:"Portal AI Music"})]}),_.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"Create professional, royalty-free music with AI. Perfect for content creators, businesses, and anyone who needs high-quality music instantly."}),_.jsx("div",{className:"flex space-x-4",children:e.map((n,r)=>{const a=n.icon;return _.jsx("a",{href:n.href,"aria-label":n.label,className:"bg-gray-800 hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200",children:_.jsx(a,{className:"h-5 w-5"})},r)})})]}),Object.entries(i).map(([n,r])=>_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-white mb-4",children:n}),_.jsx("ul",{className:"space-y-3",children:r.map((a,l)=>_.jsx("li",{children:_.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:a})},l))})]},n))]}),_.jsx("div",{className:"border-t border-gray-800 pt-8 mb-8",children:_.jsxs("div",{className:"max-w-md",children:[_.jsx("h3",{className:"font-semibold text-white mb-2",children:"Stay Updated"}),_.jsx("p",{className:"text-gray-400 mb-4",children:"Get the latest updates on new features and music generation tips."}),_.jsxs("div",{className:"flex space-x-3",children:[_.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-white placeholder-gray-400"}),_.jsx("button",{className:"btn-primary px-6 py-2",children:"Subscribe"})]})]})}),_.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center",children:[_.jsx("div",{className:"text-gray-400 mb-4 md:mb-0",children:" 2024 Portal AI Music. All rights reserved."}),_.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[_.jsx("span",{children:"Made with  for creators from TotalCloudAI Limited"}),_.jsx("span",{children:""}),_.jsx("span",{children:"100% Royalty-Free"}),_.jsx("span",{children:""}),_.jsx("span",{children:"AI-Powered"})]})]})]})})},_N=({isDemoMode:i,onRetry:e})=>i?_.jsx("div",{className:"fixed top-0 left-0 right-0 bg-amber-500 text-white p-2 z-50 shadow-md",children:_.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z",clipRule:"evenodd"})}),_.jsxs("span",{className:"text-sm",children:["Running in ",_.jsx("strong",{children:"demo mode"})," - backend server not connected. Sample audio files will be used instead of AI-generated music."]})]}),_.jsx("button",{onClick:e,className:"bg-white text-amber-700 text-sm px-3 py-1 rounded hover:bg-amber-100 transition-colors",children:"Retry Connection"})]})}):null;function vN(){const[i,e]=je.useState("simple"),[n,r]=je.useState(!1),[a,l]=je.useState(!0);je.useEffect(()=>{u()},[]);const u=()=>fe(null,null,function*(){l(!0);try{const h=yield Ca.refreshBackendStatus();r(h.demoMode)}catch(h){console.error("Failed to check backend status:",h),r(!0)}finally{l(!1)}});return _.jsxs("div",{className:"min-h-screen",children:[_.jsx(_N,{isDemoMode:n,onRetry:u}),a?_.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50",children:_.jsxs("div",{className:"text-center p-4",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-3"}),_.jsx("p",{className:"text-gray-700",children:"Connecting to backend server..."})]})}):null,_.jsx(Hw,{}),_.jsx(Qw,{}),_.jsx(Xw,{}),_.jsx("div",{className:"bg-gray-100 py-8",id:"generator",children:_.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[_.jsxs("div",{className:"flex justify-center space-x-4 mb-8",children:[_.jsx("button",{onClick:()=>e("simple"),className:`px-6 py-3 rounded-lg font-semibold transition-all ${i==="simple"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Simple Mode"}),_.jsx("button",{onClick:()=>e("advanced"),className:`px-6 py-3 rounded-lg font-semibold transition-all ${i==="advanced"?"bg-purple-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Advanced Studio"})]}),i==="simple"?_.jsx(fN,{}):_.jsx(mN,{})]})}),_.jsx(gN,{}),_.jsx(yN,{})]})}Ca.refreshBackendStatus().then(i=>{console.log("Initial backend status check completed:",i)}).catch(i=>{console.error("Failed to initialize API connectivity:",i)});Ew.createRoot(document.getElementById("root")).render(_.jsx(vN,{}))});export default wN();
//# sourceMappingURL=index-BURDieuE.js.map
