<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Status Check</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            margin: 0;
        }
        .status { 
            background: rgba(255,255,255,0.1); 
            padding: 20px; 
            border-radius: 10px; 
            margin: 20px 0;
        }
        .success { background: rgba(40, 167, 69, 0.8); }
        .error { background: rgba(220, 53, 69, 0.8); }
        .loading { background: rgba(255, 193, 7, 0.8); }
        iframe { 
            width: 100%; 
            height: 500px; 
            border: 2px solid white; 
            border-radius: 10px; 
            background: white;
        }
    </style>
</head>
<body>
    <h1>üîç React App Status Check</h1>
    <div id="status" class="status loading">
        üì° Testing React app at http://localhost:3000...
    </div>
    
    <h2>üñºÔ∏è Direct React App Preview:</h2>
    <iframe src="http://localhost:3000/" onload="onIframeLoad()" onerror="onIframeError()"></iframe>
    
    <div id="instructions" class="status">
        <h3>üìã Alternative Access Methods:</h3>
        <ul>
            <li><strong>Safari:</strong> <code>open http://localhost:3000</code></li>
            <li><strong>Chrome:</strong> Open Chrome and navigate to <code>localhost:3000</code></li>
            <li><strong>Direct URL:</strong> <a href="http://localhost:3000" target="_blank" style="color: yellow;">http://localhost:3000</a></li>
        </ul>
    </div>

    <script>
        function onIframeLoad() {
            document.getElementById('status').innerHTML = '‚úÖ <strong>SUCCESS!</strong> React app loaded successfully in iframe!';
            document.getElementById('status').className = 'status success';
        }
        
        function onIframeError() {
            document.getElementById('status').innerHTML = '‚ùå <strong>ERROR:</strong> React app failed to load in iframe. Try external browser.';
            document.getElementById('status').className = 'status error';
        }
        
        // Test API connectivity
        setTimeout(() => {
            fetch('http://localhost:3000/')
                .then(response => response.text())
                .then(html => {
                    if (html.includes('Portal AI Music')) {
                        console.log('‚úÖ React app HTML is being served correctly');
                    }
                })
                .catch(error => {
                    console.error('‚ùå Failed to fetch React app:', error);
                });
        }, 2000);
        
        // Test if main React route is accessible
        setTimeout(() => {
            fetch('http://localhost:3000/src/main.jsx')
                .then(response => response.text())
                .then(code => {
                    if (code.includes('ReactDOM')) {
                        console.log('‚úÖ React main.jsx is compiling correctly');
                    }
                })
                .catch(error => {
                    console.error('‚ùå React compilation issue:', error);
                });
        }, 3000);
    </script>
</body>
</html>
